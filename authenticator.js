var authenticator =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/babel-runtime/regenerator/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/babel-runtime/regenerator/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/regenerator-runtime/runtime-module.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcz9kNzg1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iXSwibWFwcGluZ3MiOiJBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/babel-runtime/regenerator/index.js\n");

/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanM/MWZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/base64-js/index.js\n");

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanM/YjYzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/buffer/index.js\n");

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcz85MTUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ieee754/index.js\n");

/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcz9lM2RiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/isarray/index.js\n");

/***/ }),

/***/ "./node_modules/postcss-loader/lib/index.js!./src/cosmic-lib/cosmic-lib.css":
/*!*************************************************************************!*\
  !*** ./node_modules/postcss-loader/lib!./src/cosmic-lib/cosmic-lib.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"/* cosmiclib styling */\\n\\n\\n.CL_assetCode,\\n.CL_address\\n{\\n    display: inline-block;\\n    margin: 0.1em;\\n    border: 1px solid lightgrey;\\n    background-color: #F1F1F1;\\n    border-radius: 0.2em;\\n    padding: 0.1em;\\n    color: #4C4C4C;\\n}\\n\\n.CL_assetCode:hover,\\n.CL_address:hover\\n{\\n    cursor: pointer;\\n    background-color: lightgrey;\\n}\\n\\n.CL_asset\\n{\\n    background-color: ghostwhite;\\n    border-left: 0;\\n    border-right: 0;\\n}\\n\\n.CL_assetIssuer\\n{\\n    display: none;\\n}\\n\\n.CL_hash:hover\\n{\\n    background-color: ghostwhite;\\n    cursor: pointer;\\n}\\n\\n.CL_done,\\n.CL_signed\\n{\\n    border: 0.1em solid mediumseagreen;\\n    border-radius: 0.2em;\\n    background-color: lightgreen;\\n    padding: 0.1em;\\n    color: black;\\n}\\n\\n.CL_error\\n{\\n    border: 0.1em solid tomato;\\n    border-radius: 0.2em;\\n    background-color: salmon;\\n    padding: 0.1em;\\n    color: black;\\n}\\n\\n/*** Transaction node styling ***/\\n\\n.CL_transactionNode\\n{\\n    margin: 0.5em 0;\\n}\\n\\n.CL_transactionNode ul.CL_sideInfo,\\n.CL_source\\n{\\n    border-left: 0.2em solid lightgrey;\\n    padding-left: 0.2em;\\n    margin: 0;\\n    list-style-type: none;\\n    list-style-position: inside;\\n/*\\n    font-size: 0.9em;\\n*/\\n}\\n\\n.CL_operation\\n{\\n    margin: 0.5em 0;\\n}\\n\\n.CL_sourcedOperation\\n{\\n    border-left: 0.2em solid lightgrey;\\n    padding-left: 0.2em;\\n    background-color: ghostwhite;\\n\\n}\\n\\n/*** Status/Signers node styling ***/\\n\\n.CL_statusNode,\\n.CL_signersNode\\n{\\n    margin: 0.5em;\\n    padding: 0;\\n}\\n\\n.CL_status,\\n.CL_threshold\\n{\\n    margin: 0;\\n    font-size: 0.85em;\\n    font-weight: bold;\\n    text-transform: uppercase;\\n    font-stretch: condensed;\\n}\\n\\n.CL_statusNode.CL_error\\n{\\n    background-color: white;\\n    border: none;\\n}\\n\\n.CL_events,\\n.CL_signers\\n{\\n    list-style-type: none;\\n    list-style-position: inside;\\n    font-size: 0.9 em;\\n    padding: 0;\\n    margin: 0;\\n}\\n\\n.CL_events li,\\n.CL_signers li\\n{\\n    margin:0 ;\\n    border-width: 0;\\n    padding-left: 0.2em;\\n    border-radius: 0;\\n}\\n\\n.CL_events li.CL_done,\\n.CL_signers li.CL_signed\\n{\\n    border-left: 0.3em solid mediumseagreen;\\n\\n}\\n\\n.CL_events li.CL_error\\n{\\n    border-left: 0.3em solid tomato;\\n}\\n\\n/* Loading animation */\\n\\n.CL_loadingAnim {\\n    display: inline-block;\\n    width: 0.7em;\\n    height: 0.7em;\\n    margin: 0 0.2em;\\n    border: 0.2em solid rgba(105,105,105,1);\\n    border-top-color: rgba(105,105,105,0.4);\\n    border-bottom-color: rgba(105,105,105,0.4);\\n    border-radius: 50%;\\n    -webkit-animation: CL_spin 1s linear infinite;\\n            animation: CL_spin 1s linear infinite;\\n}\\n\\n@-webkit-keyframes CL_spin {\\n    0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\\n    100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\\n}\\n\\n@keyframes CL_spin {\\n    0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\\n    100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\\n}\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzIS4vc3JjL2Nvc21pYy1saWIvY29zbWljLWxpYi5jc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yLy4vc3JjL2Nvc21pYy1saWIvY29zbWljLWxpYi5jc3M/Nzg0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiLyogY29zbWljbGliIHN0eWxpbmcgKi9cXG5cXG5cXG4uQ0xfYXNzZXRDb2RlLFxcbi5DTF9hZGRyZXNzXFxue1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG1hcmdpbjogMC4xZW07XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JleTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0YxRjFGMTtcXG4gICAgYm9yZGVyLXJhZGl1czogMC4yZW07XFxuICAgIHBhZGRpbmc6IDAuMWVtO1xcbiAgICBjb2xvcjogIzRDNEM0QztcXG59XFxuXFxuLkNMX2Fzc2V0Q29kZTpob3ZlcixcXG4uQ0xfYWRkcmVzczpob3ZlclxcbntcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XFxufVxcblxcbi5DTF9hc3NldFxcbntcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ2hvc3R3aGl0ZTtcXG4gICAgYm9yZGVyLWxlZnQ6IDA7XFxuICAgIGJvcmRlci1yaWdodDogMDtcXG59XFxuXFxuLkNMX2Fzc2V0SXNzdWVyXFxue1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uQ0xfaGFzaDpob3ZlclxcbntcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ2hvc3R3aGl0ZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uQ0xfZG9uZSxcXG4uQ0xfc2lnbmVkXFxue1xcbiAgICBib3JkZXI6IDAuMWVtIHNvbGlkIG1lZGl1bXNlYWdyZWVuO1xcbiAgICBib3JkZXItcmFkaXVzOiAwLjJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbjtcXG4gICAgcGFkZGluZzogMC4xZW07XFxuICAgIGNvbG9yOiBibGFjaztcXG59XFxuXFxuLkNMX2Vycm9yXFxue1xcbiAgICBib3JkZXI6IDAuMWVtIHNvbGlkIHRvbWF0bztcXG4gICAgYm9yZGVyLXJhZGl1czogMC4yZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHNhbG1vbjtcXG4gICAgcGFkZGluZzogMC4xZW07XFxuICAgIGNvbG9yOiBibGFjaztcXG59XFxuXFxuLyoqKiBUcmFuc2FjdGlvbiBub2RlIHN0eWxpbmcgKioqL1xcblxcbi5DTF90cmFuc2FjdGlvbk5vZGVcXG57XFxuICAgIG1hcmdpbjogMC41ZW0gMDtcXG59XFxuXFxuLkNMX3RyYW5zYWN0aW9uTm9kZSB1bC5DTF9zaWRlSW5mbyxcXG4uQ0xfc291cmNlXFxue1xcbiAgICBib3JkZXItbGVmdDogMC4yZW0gc29saWQgbGlnaHRncmV5O1xcbiAgICBwYWRkaW5nLWxlZnQ6IDAuMmVtO1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gICAgbGlzdC1zdHlsZS1wb3NpdGlvbjogaW5zaWRlO1xcbi8qXFxuICAgIGZvbnQtc2l6ZTogMC45ZW07XFxuKi9cXG59XFxuXFxuLkNMX29wZXJhdGlvblxcbntcXG4gICAgbWFyZ2luOiAwLjVlbSAwO1xcbn1cXG5cXG4uQ0xfc291cmNlZE9wZXJhdGlvblxcbntcXG4gICAgYm9yZGVyLWxlZnQ6IDAuMmVtIHNvbGlkIGxpZ2h0Z3JleTtcXG4gICAgcGFkZGluZy1sZWZ0OiAwLjJlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ2hvc3R3aGl0ZTtcXG5cXG59XFxuXFxuLyoqKiBTdGF0dXMvU2lnbmVycyBub2RlIHN0eWxpbmcgKioqL1xcblxcbi5DTF9zdGF0dXNOb2RlLFxcbi5DTF9zaWduZXJzTm9kZVxcbntcXG4gICAgbWFyZ2luOiAwLjVlbTtcXG4gICAgcGFkZGluZzogMDtcXG59XFxuXFxuLkNMX3N0YXR1cyxcXG4uQ0xfdGhyZXNob2xkXFxue1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGZvbnQtc2l6ZTogMC44NWVtO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gICAgZm9udC1zdHJldGNoOiBjb25kZW5zZWQ7XFxufVxcblxcbi5DTF9zdGF0dXNOb2RlLkNMX2Vycm9yXFxue1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbn1cXG5cXG4uQ0xfZXZlbnRzLFxcbi5DTF9zaWduZXJzXFxue1xcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XFxuICAgIGxpc3Qtc3R5bGUtcG9zaXRpb246IGluc2lkZTtcXG4gICAgZm9udC1zaXplOiAwLjkgZW07XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIG1hcmdpbjogMDtcXG59XFxuXFxuLkNMX2V2ZW50cyBsaSxcXG4uQ0xfc2lnbmVycyBsaVxcbntcXG4gICAgbWFyZ2luOjAgO1xcbiAgICBib3JkZXItd2lkdGg6IDA7XFxuICAgIHBhZGRpbmctbGVmdDogMC4yZW07XFxuICAgIGJvcmRlci1yYWRpdXM6IDA7XFxufVxcblxcbi5DTF9ldmVudHMgbGkuQ0xfZG9uZSxcXG4uQ0xfc2lnbmVycyBsaS5DTF9zaWduZWRcXG57XFxuICAgIGJvcmRlci1sZWZ0OiAwLjNlbSBzb2xpZCBtZWRpdW1zZWFncmVlbjtcXG5cXG59XFxuXFxuLkNMX2V2ZW50cyBsaS5DTF9lcnJvclxcbntcXG4gICAgYm9yZGVyLWxlZnQ6IDAuM2VtIHNvbGlkIHRvbWF0bztcXG59XFxuXFxuLyogTG9hZGluZyBhbmltYXRpb24gKi9cXG5cXG4uQ0xfbG9hZGluZ0FuaW0ge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiAwLjdlbTtcXG4gICAgaGVpZ2h0OiAwLjdlbTtcXG4gICAgbWFyZ2luOiAwIDAuMmVtO1xcbiAgICBib3JkZXI6IDAuMmVtIHNvbGlkIHJnYmEoMTA1LDEwNSwxMDUsMSk7XFxuICAgIGJvcmRlci10b3AtY29sb3I6IHJnYmEoMTA1LDEwNSwxMDUsMC40KTtcXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogcmdiYSgxMDUsMTA1LDEwNSwwLjQpO1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIC13ZWJraXQtYW5pbWF0aW9uOiBDTF9zcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcXG4gICAgICAgICAgICBhbmltYXRpb246IENMX3NwaW4gMXMgbGluZWFyIGluZmluaXRlO1xcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgQ0xfc3BpbiB7XFxuICAgIDAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cXG4gICAgMTAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIENMX3NwaW4ge1xcbiAgICAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XFxuICAgIDEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cXG59XFxuXCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/postcss-loader/lib/index.js!./src/cosmic-lib/cosmic-lib.css\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanM/ZjI4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/regenerator-runtime/runtime-module.js":
/*!************************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime-module.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = __webpack_require__(/*! ./runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLW1vZHVsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLW1vZHVsZS5qcz9iYmRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID0gKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcblxuLy8gVXNlIGBnZXRPd25Qcm9wZXJ0eU5hbWVzYCBiZWNhdXNlIG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBjYWxsaW5nXG4vLyBgaGFzT3duUHJvcGVydHlgIG9uIHRoZSBnbG9iYWwgYHNlbGZgIG9iamVjdCBpbiBhIHdvcmtlci4gU2VlICMxODMuXG52YXIgaGFkUnVudGltZSA9IGcucmVnZW5lcmF0b3JSdW50aW1lICYmXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGcpLmluZGV4T2YoXCJyZWdlbmVyYXRvclJ1bnRpbWVcIikgPj0gMDtcblxuLy8gU2F2ZSB0aGUgb2xkIHJlZ2VuZXJhdG9yUnVudGltZSBpbiBjYXNlIGl0IG5lZWRzIHRvIGJlIHJlc3RvcmVkIGxhdGVyLlxudmFyIG9sZFJ1bnRpbWUgPSBoYWRSdW50aW1lICYmIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuXG4vLyBGb3JjZSByZWV2YWx1dGF0aW9uIG9mIHJ1bnRpbWUuanMuXG5nLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9ydW50aW1lXCIpO1xuXG5pZiAoaGFkUnVudGltZSkge1xuICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBydW50aW1lLlxuICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IG9sZFJ1bnRpbWU7XG59IGVsc2Uge1xuICAvLyBSZW1vdmUgdGhlIGdsb2JhbCBwcm9wZXJ0eSBhZGRlZCBieSBydW50aW1lLmpzLlxuICB0cnkge1xuICAgIGRlbGV0ZSBnLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgfSBjYXRjaChlKSB7XG4gICAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/regenerator-runtime/runtime-module.js\n");

/***/ }),

/***/ "./node_modules/regenerator-runtime/runtime.js":
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanM/OTZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbiEoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGhvd2V2ZXIsIHRoZVxuICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgICAvLyB0aHJvd24gYmFjayBpbnRvIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIGFzIGlzIHRoZSBjYXNlXG4gICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAgIC8vIGFsbG93cyB0aGUgY29uc3VtZXIgdG8gZGVjaWRlIHdoYXQgdG8gZG8gd2l0aCB0aGUgeWllbGRlZFxuICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgICAgLy8gYXdhaXQsIGJ5IGNvbnRyYXN0LCB0aGVyZSBpcyBubyBvcHBvcnR1bml0eSB0byBleGFtaW5lIHRoZVxuICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgICAvLyBsZXQgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBoYW5kbGUgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHJ1bnRpbWUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KVxuICAgICk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbiAgLy8gSW4gc2xvcHB5IG1vZGUsIHVuYm91bmQgYHRoaXNgIHJlZmVycyB0byB0aGUgZ2xvYmFsIG9iamVjdCwgZmFsbGJhY2sgdG9cbiAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3IgaWYgd2UncmUgaW4gZ2xvYmFsIHN0cmljdCBtb2RlLiBUaGF0IGlzIHNhZGx5IGEgZm9ybVxuICAvLyBvZiBpbmRpcmVjdCBldmFsIHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LlxuICAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpXG4pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/regenerator-runtime/runtime.js\n");

/***/ }),

/***/ "./node_modules/scrypt-async/scrypt-async.js":
/*!***************************************************!*\
  !*** ./node_modules/scrypt-async/scrypt-async.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(setImmediate) {/*!\n * Fast \"async\" scrypt implementation in JavaScript.\n * Copyright (c) 2013-2016 Dmitry Chestnykh | BSD License\n * https://github.com/dchest/scrypt-async-js\n */\n\n/**\n * scrypt(password, salt, options, callback)\n *\n * where\n *\n * password and salt are strings or arrays of bytes (Array of Uint8Array)\n * options is\n *\n * {\n *    N:      // CPU/memory cost parameter, must be power of two\n *            // (alternatively, you can specify logN)\n *    r:      // block size\n *    p:      // parallelization parameter\n *    dkLen:  // length of derived key, default = 32\n *    encoding: // optional encoding:\n *                    \"base64\" - standard Base64 encoding\n *                    \"hex\"  hex encoding,\n *                    \"binary\"  Uint8Array,\n *                    undefined/null - Array of bytes\n *    interruptStep: // optional, steps to split calculations (default is 0)\n * }\n *\n * Derives a key from password and salt and calls callback\n * with derived key as the only argument.\n *\n * Calculations are interrupted with setImmediate (or zero setTimeout) at the\n * given interruptSteps to avoid freezing the browser. If it's undefined or zero,\n * the callback is called immediately after the calculation, avoiding setImmediate.\n *\n * Legacy way (only supports p = 1) to call this function is:\n *\n * scrypt(password, salt, logN, r, dkLen, [interruptStep], callback, [encoding])\n *\n * In legacy API, if interruptStep is not given, it defaults to 1000.\n * Pass 0 to have callback called immediately.\n *\n */\nfunction scrypt(password, salt, logN, r, dkLen, interruptStep, callback, encoding) {\n  'use strict';\n\n  function SHA256(m) {\n    /** @const */ var K = [\n      0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n      0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n      0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n      0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n      0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n      0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n      0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n      0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n      0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n      0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n      0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n      0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n      0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n    ];\n\n    var h0 = 0x6a09e667, h1 = 0xbb67ae85, h2 = 0x3c6ef372, h3 = 0xa54ff53a,\n        h4 = 0x510e527f, h5 = 0x9b05688c, h6 = 0x1f83d9ab, h7 = 0x5be0cd19,\n        w = new Array(64);\n\n    function blocks(p) {\n      var off = 0, len = p.length;\n      while (len >= 64) {\n        var a = h0, b = h1, c = h2, d = h3, e = h4, f = h5, g = h6, h = h7,\n            u, i, j, t1, t2;\n\n        for (i = 0; i < 16; i++) {\n          j = off + i*4;\n          w[i] = ((p[j] & 0xff)<<24) | ((p[j+1] & 0xff)<<16) |\n                 ((p[j+2] & 0xff)<<8) | (p[j+3] & 0xff);\n        }\n\n        for (i = 16; i < 64; i++) {\n          u = w[i-2];\n          t1 = ((u>>>17) | (u<<(32-17))) ^ ((u>>>19) | (u<<(32-19))) ^ (u>>>10);\n\n          u = w[i-15];\n          t2 = ((u>>>7) | (u<<(32-7))) ^ ((u>>>18) | (u<<(32-18))) ^ (u>>>3);\n\n          w[i] = (((t1 + w[i-7]) | 0) + ((t2 + w[i-16]) | 0)) | 0;\n        }\n\n        for (i = 0; i < 64; i++) {\n          t1 = ((((((e>>>6) | (e<<(32-6))) ^ ((e>>>11) | (e<<(32-11))) ^\n               ((e>>>25) | (e<<(32-25)))) + ((e & f) ^ (~e & g))) | 0) +\n               ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n\n          t2 = ((((a>>>2) | (a<<(32-2))) ^ ((a>>>13) | (a<<(32-13))) ^\n               ((a>>>22) | (a<<(32-22)))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n\n          h = g;\n          g = f;\n          f = e;\n          e = (d + t1) | 0;\n          d = c;\n          c = b;\n          b = a;\n          a = (t1 + t2) | 0;\n        }\n\n        h0 = (h0 + a) | 0;\n        h1 = (h1 + b) | 0;\n        h2 = (h2 + c) | 0;\n        h3 = (h3 + d) | 0;\n        h4 = (h4 + e) | 0;\n        h5 = (h5 + f) | 0;\n        h6 = (h6 + g) | 0;\n        h7 = (h7 + h) | 0;\n\n        off += 64;\n        len -= 64;\n      }\n    }\n\n    blocks(m);\n\n    var i, bytesLeft = m.length % 64,\n        bitLenHi = (m.length / 0x20000000) | 0,\n        bitLenLo = m.length << 3,\n        numZeros = (bytesLeft < 56) ? 56 : 120,\n        p = m.slice(m.length - bytesLeft, m.length);\n\n    p.push(0x80);\n    for (i = bytesLeft + 1; i < numZeros; i++) p.push(0);\n    p.push((bitLenHi>>>24) & 0xff);\n    p.push((bitLenHi>>>16) & 0xff);\n    p.push((bitLenHi>>>8)  & 0xff);\n    p.push((bitLenHi>>>0)  & 0xff);\n    p.push((bitLenLo>>>24) & 0xff);\n    p.push((bitLenLo>>>16) & 0xff);\n    p.push((bitLenLo>>>8)  & 0xff);\n    p.push((bitLenLo>>>0)  & 0xff);\n\n    blocks(p);\n\n    return [\n      (h0>>>24) & 0xff, (h0>>>16) & 0xff, (h0>>>8) & 0xff, (h0>>>0) & 0xff,\n      (h1>>>24) & 0xff, (h1>>>16) & 0xff, (h1>>>8) & 0xff, (h1>>>0) & 0xff,\n      (h2>>>24) & 0xff, (h2>>>16) & 0xff, (h2>>>8) & 0xff, (h2>>>0) & 0xff,\n      (h3>>>24) & 0xff, (h3>>>16) & 0xff, (h3>>>8) & 0xff, (h3>>>0) & 0xff,\n      (h4>>>24) & 0xff, (h4>>>16) & 0xff, (h4>>>8) & 0xff, (h4>>>0) & 0xff,\n      (h5>>>24) & 0xff, (h5>>>16) & 0xff, (h5>>>8) & 0xff, (h5>>>0) & 0xff,\n      (h6>>>24) & 0xff, (h6>>>16) & 0xff, (h6>>>8) & 0xff, (h6>>>0) & 0xff,\n      (h7>>>24) & 0xff, (h7>>>16) & 0xff, (h7>>>8) & 0xff, (h7>>>0) & 0xff\n    ];\n  }\n\n  function PBKDF2_HMAC_SHA256_OneIter(password, salt, dkLen) {\n    // compress password if it's longer than hash block length\n    password = password.length <= 64 ? password : SHA256(password);\n\n    var i, innerLen = 64 + salt.length + 4,\n        inner = new Array(innerLen),\n        outerKey = new Array(64),\n        dk = [];\n\n    // inner = (password ^ ipad) || salt || counter\n    for (i = 0; i < 64; i++) inner[i] = 0x36;\n    for (i = 0; i < password.length; i++) inner[i] ^= password[i];\n    for (i = 0; i < salt.length; i++) inner[64+i] = salt[i];\n    for (i = innerLen - 4; i < innerLen; i++) inner[i] = 0;\n\n    // outerKey = password ^ opad\n    for (i = 0; i < 64; i++) outerKey[i] = 0x5c;\n    for (i = 0; i < password.length; i++) outerKey[i] ^= password[i];\n\n    // increments counter inside inner\n    function incrementCounter() {\n      for (var i = innerLen-1; i >= innerLen-4; i--) {\n        inner[i]++;\n        if (inner[i] <= 0xff) return;\n        inner[i] = 0;\n      }\n    }\n\n    // output blocks = SHA256(outerKey || SHA256(inner)) ...\n    while (dkLen >= 32) {\n      incrementCounter();\n      dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))));\n      dkLen -= 32;\n    }\n    if (dkLen > 0) {\n      incrementCounter();\n      dk = dk.concat(SHA256(outerKey.concat(SHA256(inner))).slice(0, dkLen));\n    }\n    return dk;\n  }\n\n  function salsaXOR(tmp, B, bin, bout) {\n    var j0  = tmp[0]  ^ B[bin++],\n        j1  = tmp[1]  ^ B[bin++],\n        j2  = tmp[2]  ^ B[bin++],\n        j3  = tmp[3]  ^ B[bin++],\n        j4  = tmp[4]  ^ B[bin++],\n        j5  = tmp[5]  ^ B[bin++],\n        j6  = tmp[6]  ^ B[bin++],\n        j7  = tmp[7]  ^ B[bin++],\n        j8  = tmp[8]  ^ B[bin++],\n        j9  = tmp[9]  ^ B[bin++],\n        j10 = tmp[10] ^ B[bin++],\n        j11 = tmp[11] ^ B[bin++],\n        j12 = tmp[12] ^ B[bin++],\n        j13 = tmp[13] ^ B[bin++],\n        j14 = tmp[14] ^ B[bin++],\n        j15 = tmp[15] ^ B[bin++],\n        u, i;\n\n    var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n        x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n        x15 = j15;\n\n    for (i = 0; i < 8; i += 2) {\n      u =  x0 + x12;   x4 ^= u<<7  | u>>>(32-7);\n      u =  x4 +  x0;   x8 ^= u<<9  | u>>>(32-9);\n      u =  x8 +  x4;  x12 ^= u<<13 | u>>>(32-13);\n      u = x12 +  x8;   x0 ^= u<<18 | u>>>(32-18);\n\n      u =  x5 +  x1;   x9 ^= u<<7  | u>>>(32-7);\n      u =  x9 +  x5;  x13 ^= u<<9  | u>>>(32-9);\n      u = x13 +  x9;   x1 ^= u<<13 | u>>>(32-13);\n      u =  x1 + x13;   x5 ^= u<<18 | u>>>(32-18);\n\n      u = x10 +  x6;  x14 ^= u<<7  | u>>>(32-7);\n      u = x14 + x10;   x2 ^= u<<9  | u>>>(32-9);\n      u =  x2 + x14;   x6 ^= u<<13 | u>>>(32-13);\n      u =  x6 +  x2;  x10 ^= u<<18 | u>>>(32-18);\n\n      u = x15 + x11;   x3 ^= u<<7  | u>>>(32-7);\n      u =  x3 + x15;   x7 ^= u<<9  | u>>>(32-9);\n      u =  x7 +  x3;  x11 ^= u<<13 | u>>>(32-13);\n      u = x11 +  x7;  x15 ^= u<<18 | u>>>(32-18);\n\n      u =  x0 +  x3;   x1 ^= u<<7  | u>>>(32-7);\n      u =  x1 +  x0;   x2 ^= u<<9  | u>>>(32-9);\n      u =  x2 +  x1;   x3 ^= u<<13 | u>>>(32-13);\n      u =  x3 +  x2;   x0 ^= u<<18 | u>>>(32-18);\n\n      u =  x5 +  x4;   x6 ^= u<<7  | u>>>(32-7);\n      u =  x6 +  x5;   x7 ^= u<<9  | u>>>(32-9);\n      u =  x7 +  x6;   x4 ^= u<<13 | u>>>(32-13);\n      u =  x4 +  x7;   x5 ^= u<<18 | u>>>(32-18);\n\n      u = x10 +  x9;  x11 ^= u<<7  | u>>>(32-7);\n      u = x11 + x10;   x8 ^= u<<9  | u>>>(32-9);\n      u =  x8 + x11;   x9 ^= u<<13 | u>>>(32-13);\n      u =  x9 +  x8;  x10 ^= u<<18 | u>>>(32-18);\n\n      u = x15 + x14;  x12 ^= u<<7  | u>>>(32-7);\n      u = x12 + x15;  x13 ^= u<<9  | u>>>(32-9);\n      u = x13 + x12;  x14 ^= u<<13 | u>>>(32-13);\n      u = x14 + x13;  x15 ^= u<<18 | u>>>(32-18);\n    }\n\n    B[bout++] = tmp[0]  = (x0  + j0)  | 0;\n    B[bout++] = tmp[1]  = (x1  + j1)  | 0;\n    B[bout++] = tmp[2]  = (x2  + j2)  | 0;\n    B[bout++] = tmp[3]  = (x3  + j3)  | 0;\n    B[bout++] = tmp[4]  = (x4  + j4)  | 0;\n    B[bout++] = tmp[5]  = (x5  + j5)  | 0;\n    B[bout++] = tmp[6]  = (x6  + j6)  | 0;\n    B[bout++] = tmp[7]  = (x7  + j7)  | 0;\n    B[bout++] = tmp[8]  = (x8  + j8)  | 0;\n    B[bout++] = tmp[9]  = (x9  + j9)  | 0;\n    B[bout++] = tmp[10] = (x10 + j10) | 0;\n    B[bout++] = tmp[11] = (x11 + j11) | 0;\n    B[bout++] = tmp[12] = (x12 + j12) | 0;\n    B[bout++] = tmp[13] = (x13 + j13) | 0;\n    B[bout++] = tmp[14] = (x14 + j14) | 0;\n    B[bout++] = tmp[15] = (x15 + j15) | 0;\n  }\n\n  function blockCopy(dst, di, src, si, len) {\n    while (len--) dst[di++] = src[si++];\n  }\n\n  function blockXOR(dst, di, src, si, len) {\n    while (len--) dst[di++] ^= src[si++];\n  }\n\n  function blockMix(tmp, B, bin, bout, r) {\n    blockCopy(tmp, 0, B, bin + (2*r-1)*16, 16);\n    for (var i = 0; i < 2*r; i += 2) {\n      salsaXOR(tmp, B, bin + i*16,      bout + i*8);\n      salsaXOR(tmp, B, bin + i*16 + 16, bout + i*8 + r*16);\n    }\n  }\n\n  function integerify(B, bi, r) {\n    return B[bi+(2*r-1)*16];\n  }\n\n  function stringToUTF8Bytes(s) {\n    var arr = [];\n    for (var i = 0; i < s.length; i++) {\n      var c = s.charCodeAt(i);\n      if (c < 0x80) {\n        arr.push(c);\n      } else if (c < 0x800) {\n        arr.push(0xc0 | c >> 6);\n        arr.push(0x80 | c & 0x3f);\n      } else if (c < 0xd800) {\n        arr.push(0xe0 | c >> 12);\n        arr.push(0x80 | (c >> 6) & 0x3f);\n        arr.push(0x80 | c & 0x3f);\n      } else {\n        if (i >= s.length - 1) {\n          throw new Error('invalid string');\n        }\n        i++; // get one more character\n        c = (c & 0x3ff) << 10;\n        c |= s.charCodeAt(i) & 0x3ff;\n        c += 0x10000;\n\n        arr.push(0xf0 | c >> 18);\n        arr.push(0x80 | (c >> 12) & 0x3f);\n        arr.push(0x80 | (c >> 6) & 0x3f);\n        arr.push(0x80 | c & 0x3f);\n      }\n    }\n    return arr;\n  }\n\n  function bytesToHex(p) {\n    /** @const */\n    var enc = '0123456789abcdef'.split('');\n\n    var len = p.length,\n        arr = [],\n        i = 0;\n\n    for (; i < len; i++) {\n        arr.push(enc[(p[i]>>>4) & 15]);\n        arr.push(enc[(p[i]>>>0) & 15]);\n    }\n    return arr.join('');\n  }\n\n  function bytesToBase64(p) {\n    /** @const */\n    var enc = ('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz' +\n              '0123456789+/').split('');\n\n    var len = p.length,\n        arr = [],\n        i = 0,\n        a, b, c, t;\n\n    while (i < len) {\n      a = i < len ? p[i++] : 0;\n      b = i < len ? p[i++] : 0;\n      c = i < len ? p[i++] : 0;\n      t = (a << 16) + (b << 8) + c;\n      arr.push(enc[(t >>> 3 * 6) & 63]);\n      arr.push(enc[(t >>> 2 * 6) & 63]);\n      arr.push(enc[(t >>> 1 * 6) & 63]);\n      arr.push(enc[(t >>> 0 * 6) & 63]);\n    }\n    if (len % 3 > 0) {\n      arr[arr.length-1] = '=';\n      if (len % 3 === 1) arr[arr.length-2] = '=';\n    }\n    return arr.join('');\n  }\n\n\n  // Generate key.\n\n  var MAX_UINT = (-1)>>>0,\n      p = 1;\n\n  if (typeof logN === \"object\") {\n    // Called as: scrypt(password, salt, opts, callback)\n    if (arguments.length > 4) {\n      throw new Error('scrypt: incorrect number of arguments');\n    }\n\n    var opts = logN;\n\n    callback = r;\n    logN = opts.logN;\n    if (typeof logN === 'undefined') {\n      if (typeof opts.N !== 'undefined') {\n        if (opts.N < 2 || opts.N > MAX_UINT)\n          throw new Error('scrypt: N is out of range');\n\n        if ((opts.N & (opts.N - 1)) !== 0)\n          throw new Error('scrypt: N is not a power of 2');\n\n        logN = Math.log(opts.N) / Math.LN2;\n      } else {\n        throw new Error('scrypt: missing N parameter');\n      }\n    }\n    p = opts.p || 1;\n    r = opts.r;\n    dkLen = opts.dkLen || 32;\n    interruptStep = opts.interruptStep || 0;\n    encoding = opts.encoding;\n  }\n\n  if (p < 1)\n    throw new Error('scrypt: invalid p');\n\n  if (r <= 0)\n    throw new Error('scrypt: invalid r');\n\n  if (logN < 1 || logN > 31)\n    throw new Error('scrypt: logN must be between 1 and 31');\n\n\n  var N = (1<<logN)>>>0,\n      XY, V, B, tmp;\n\n  if (r*p >= 1<<30 || r > MAX_UINT/128/p || r > MAX_UINT/256 || N > MAX_UINT/128/r)\n    throw new Error('scrypt: parameters are too large');\n\n  // Decode strings.\n  if (typeof password === 'string')\n    password = stringToUTF8Bytes(password);\n  if (typeof salt === 'string')\n    salt = stringToUTF8Bytes(salt);\n\n  if (typeof Int32Array !== 'undefined') {\n    //XXX We can use Uint32Array, but Int32Array is faster in Safari.\n    XY = new Int32Array(64*r);\n    V = new Int32Array(32*N*r);\n    tmp = new Int32Array(16);\n  } else {\n    XY = [];\n    V = [];\n    tmp = new Array(16);\n  }\n  B = PBKDF2_HMAC_SHA256_OneIter(password, salt, p*128*r);\n\n  var xi = 0, yi = 32 * r;\n\n  function smixStart(pos) {\n    for (var i = 0; i < 32*r; i++) {\n      var j = pos + i*4;\n      XY[xi+i] = ((B[j+3] & 0xff)<<24) | ((B[j+2] & 0xff)<<16) |\n                 ((B[j+1] & 0xff)<<8)  | ((B[j+0] & 0xff)<<0);\n    }\n  }\n\n  function smixStep1(start, end) {\n    for (var i = start; i < end; i += 2) {\n      blockCopy(V, i*(32*r), XY, xi, 32*r);\n      blockMix(tmp, XY, xi, yi, r);\n\n      blockCopy(V, (i+1)*(32*r), XY, yi, 32*r);\n      blockMix(tmp, XY, yi, xi, r);\n    }\n  }\n\n  function smixStep2(start, end) {\n    for (var i = start; i < end; i += 2) {\n      var j = integerify(XY, xi, r) & (N-1);\n      blockXOR(XY, xi, V, j*(32*r), 32*r);\n      blockMix(tmp, XY, xi, yi, r);\n\n      j = integerify(XY, yi, r) & (N-1);\n      blockXOR(XY, yi, V, j*(32*r), 32*r);\n      blockMix(tmp, XY, yi, xi, r);\n    }\n  }\n\n  function smixFinish(pos) {\n    for (var i = 0; i < 32*r; i++) {\n      var j = XY[xi+i];\n      B[pos + i*4 + 0] = (j>>>0)  & 0xff;\n      B[pos + i*4 + 1] = (j>>>8)  & 0xff;\n      B[pos + i*4 + 2] = (j>>>16) & 0xff;\n      B[pos + i*4 + 3] = (j>>>24) & 0xff;\n    }\n  }\n\n  var nextTick = (typeof setImmediate !== 'undefined') ? setImmediate : setTimeout;\n\n  function interruptedFor(start, end, step, fn, donefn) {\n    (function performStep() {\n      nextTick(function() {\n        fn(start, start + step < end ? start + step : end);\n        start += step;\n        if (start < end)\n          performStep();\n        else\n          donefn();\n        });\n    })();\n  }\n\n  function getResult(enc) {\n      var result = PBKDF2_HMAC_SHA256_OneIter(password, B, dkLen);\n      if (enc === 'base64')\n        return bytesToBase64(result);\n      else if (enc === 'hex')\n        return bytesToHex(result);\n      else if (enc === 'binary')\n        return new Uint8Array(result);\n      else\n        return result;\n  }\n\n  // Blocking variant.\n  function calculateSync() {\n    for (var i = 0; i < p; i++) {\n      smixStart(i*128*r);\n      smixStep1(0, N);\n      smixStep2(0, N);\n      smixFinish(i*128*r);\n    }\n    callback(getResult(encoding));\n  }\n\n  // Async variant.\n  function calculateAsync(i) {\n      smixStart(i*128*r);\n      interruptedFor(0, N, interruptStep*2, smixStep1, function() {\n        interruptedFor(0, N, interruptStep*2, smixStep2, function () {\n          smixFinish(i*128*r);\n          if (i + 1 < p) {\n            nextTick(function() { calculateAsync(i + 1); });\n          } else {\n            callback(getResult(encoding));\n          }\n        });\n      });\n  }\n\n  if (typeof interruptStep === 'function') {\n    // Called as: scrypt(...,      callback, [encoding])\n    //  shifting: scrypt(..., interruptStep,  callback, [encoding])\n    encoding = callback;\n    callback = interruptStep;\n    interruptStep = 1000;\n  }\n\n  if (interruptStep <= 0) {\n    calculateSync();\n  } else {\n    calculateAsync(0);\n  }\n}\n\nif (true) module.exports = scrypt;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../timers-browserify/main.js */ \"./node_modules/timers-browserify/main.js\").setImmediate))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2NyeXB0LWFzeW5jL3NjcnlwdC1hc3luYy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvc2NyeXB0LWFzeW5jL3NjcnlwdC1hc3luYy5qcz82YTBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogRmFzdCBcImFzeW5jXCIgc2NyeXB0IGltcGxlbWVudGF0aW9uIGluIEphdmFTY3JpcHQuXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNiBEbWl0cnkgQ2hlc3RueWtoIHwgQlNEIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kY2hlc3Qvc2NyeXB0LWFzeW5jLWpzXG4gKi9cblxuLyoqXG4gKiBzY3J5cHQocGFzc3dvcmQsIHNhbHQsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICpcbiAqIHdoZXJlXG4gKlxuICogcGFzc3dvcmQgYW5kIHNhbHQgYXJlIHN0cmluZ3Mgb3IgYXJyYXlzIG9mIGJ5dGVzIChBcnJheSBvZiBVaW50OEFycmF5KVxuICogb3B0aW9ucyBpc1xuICpcbiAqIHtcbiAqICAgIE46ICAgICAgLy8gQ1BVL21lbW9yeSBjb3N0IHBhcmFtZXRlciwgbXVzdCBiZSBwb3dlciBvZiB0d29cbiAqICAgICAgICAgICAgLy8gKGFsdGVybmF0aXZlbHksIHlvdSBjYW4gc3BlY2lmeSBsb2dOKVxuICogICAgcjogICAgICAvLyBibG9jayBzaXplXG4gKiAgICBwOiAgICAgIC8vIHBhcmFsbGVsaXphdGlvbiBwYXJhbWV0ZXJcbiAqICAgIGRrTGVuOiAgLy8gbGVuZ3RoIG9mIGRlcml2ZWQga2V5LCBkZWZhdWx0ID0gMzJcbiAqICAgIGVuY29kaW5nOiAvLyBvcHRpb25hbCBlbmNvZGluZzpcbiAqICAgICAgICAgICAgICAgICAgICBcImJhc2U2NFwiIC0gc3RhbmRhcmQgQmFzZTY0IGVuY29kaW5nXG4gKiAgICAgICAgICAgICAgICAgICAgXCJoZXhcIiDigJQgaGV4IGVuY29kaW5nLFxuICogICAgICAgICAgICAgICAgICAgIFwiYmluYXJ5XCIg4oCUIFVpbnQ4QXJyYXksXG4gKiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkL251bGwgLSBBcnJheSBvZiBieXRlc1xuICogICAgaW50ZXJydXB0U3RlcDogLy8gb3B0aW9uYWwsIHN0ZXBzIHRvIHNwbGl0IGNhbGN1bGF0aW9ucyAoZGVmYXVsdCBpcyAwKVxuICogfVxuICpcbiAqIERlcml2ZXMgYSBrZXkgZnJvbSBwYXNzd29yZCBhbmQgc2FsdCBhbmQgY2FsbHMgY2FsbGJhY2tcbiAqIHdpdGggZGVyaXZlZCBrZXkgYXMgdGhlIG9ubHkgYXJndW1lbnQuXG4gKlxuICogQ2FsY3VsYXRpb25zIGFyZSBpbnRlcnJ1cHRlZCB3aXRoIHNldEltbWVkaWF0ZSAob3IgemVybyBzZXRUaW1lb3V0KSBhdCB0aGVcbiAqIGdpdmVuIGludGVycnVwdFN0ZXBzIHRvIGF2b2lkIGZyZWV6aW5nIHRoZSBicm93c2VyLiBJZiBpdCdzIHVuZGVmaW5lZCBvciB6ZXJvLFxuICogdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY2FsY3VsYXRpb24sIGF2b2lkaW5nIHNldEltbWVkaWF0ZS5cbiAqXG4gKiBMZWdhY3kgd2F5IChvbmx5IHN1cHBvcnRzIHAgPSAxKSB0byBjYWxsIHRoaXMgZnVuY3Rpb24gaXM6XG4gKlxuICogc2NyeXB0KHBhc3N3b3JkLCBzYWx0LCBsb2dOLCByLCBka0xlbiwgW2ludGVycnVwdFN0ZXBdLCBjYWxsYmFjaywgW2VuY29kaW5nXSlcbiAqXG4gKiBJbiBsZWdhY3kgQVBJLCBpZiBpbnRlcnJ1cHRTdGVwIGlzIG5vdCBnaXZlbiwgaXQgZGVmYXVsdHMgdG8gMTAwMC5cbiAqIFBhc3MgMCB0byBoYXZlIGNhbGxiYWNrIGNhbGxlZCBpbW1lZGlhdGVseS5cbiAqXG4gKi9cbmZ1bmN0aW9uIHNjcnlwdChwYXNzd29yZCwgc2FsdCwgbG9nTiwgciwgZGtMZW4sIGludGVycnVwdFN0ZXAsIGNhbGxiYWNrLCBlbmNvZGluZykge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gU0hBMjU2KG0pIHtcbiAgICAvKiogQGNvbnN0ICovIHZhciBLID0gW1xuICAgICAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwgMHgzOTU2YzI1YixcbiAgICAgIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsXG4gICAgICAweDI0MzE4NWJlLCAweDU1MGM3ZGMzLCAweDcyYmU1ZDc0LCAweDgwZGViMWZlLCAweDliZGMwNmE3LFxuICAgICAgMHhjMTliZjE3NCwgMHhlNDliNjljMSwgMHhlZmJlNDc4NiwgMHgwZmMxOWRjNiwgMHgyNDBjYTFjYyxcbiAgICAgIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsIDB4OTgzZTUxNTIsXG4gICAgICAweGE4MzFjNjZkLCAweGIwMDMyN2M4LCAweGJmNTk3ZmM3LCAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LFxuICAgICAgMHgwNmNhNjM1MSwgMHgxNDI5Mjk2NywgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYyxcbiAgICAgIDB4NTMzODBkMTMsIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gICAgICAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLCAweGQxOTJlODE5LFxuICAgICAgMHhkNjk5MDYyNCwgMHhmNDBlMzU4NSwgMHgxMDZhYTA3MCwgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCxcbiAgICAgIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsXG4gICAgICAweDY4MmU2ZmYzLCAweDc0OGY4MmVlLCAweDc4YTU2MzZmLCAweDg0Yzg3ODE0LCAweDhjYzcwMjA4LFxuICAgICAgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuICAgIF07XG5cbiAgICB2YXIgaDAgPSAweDZhMDllNjY3LCBoMSA9IDB4YmI2N2FlODUsIGgyID0gMHgzYzZlZjM3MiwgaDMgPSAweGE1NGZmNTNhLFxuICAgICAgICBoNCA9IDB4NTEwZTUyN2YsIGg1ID0gMHg5YjA1Njg4YywgaDYgPSAweDFmODNkOWFiLCBoNyA9IDB4NWJlMGNkMTksXG4gICAgICAgIHcgPSBuZXcgQXJyYXkoNjQpO1xuXG4gICAgZnVuY3Rpb24gYmxvY2tzKHApIHtcbiAgICAgIHZhciBvZmYgPSAwLCBsZW4gPSBwLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW4gPj0gNjQpIHtcbiAgICAgICAgdmFyIGEgPSBoMCwgYiA9IGgxLCBjID0gaDIsIGQgPSBoMywgZSA9IGg0LCBmID0gaDUsIGcgPSBoNiwgaCA9IGg3LFxuICAgICAgICAgICAgdSwgaSwgaiwgdDEsIHQyO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgaiA9IG9mZiArIGkqNDtcbiAgICAgICAgICB3W2ldID0gKChwW2pdICYgMHhmZik8PDI0KSB8ICgocFtqKzFdICYgMHhmZik8PDE2KSB8XG4gICAgICAgICAgICAgICAgICgocFtqKzJdICYgMHhmZik8PDgpIHwgKHBbaiszXSAmIDB4ZmYpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgdSA9IHdbaS0yXTtcbiAgICAgICAgICB0MSA9ICgodT4+PjE3KSB8ICh1PDwoMzItMTcpKSkgXiAoKHU+Pj4xOSkgfCAodTw8KDMyLTE5KSkpIF4gKHU+Pj4xMCk7XG5cbiAgICAgICAgICB1ID0gd1tpLTE1XTtcbiAgICAgICAgICB0MiA9ICgodT4+PjcpIHwgKHU8PCgzMi03KSkpIF4gKCh1Pj4+MTgpIHwgKHU8PCgzMi0xOCkpKSBeICh1Pj4+Myk7XG5cbiAgICAgICAgICB3W2ldID0gKCgodDEgKyB3W2ktN10pIHwgMCkgKyAoKHQyICsgd1tpLTE2XSkgfCAwKSkgfCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICB0MSA9ICgoKCgoKGU+Pj42KSB8IChlPDwoMzItNikpKSBeICgoZT4+PjExKSB8IChlPDwoMzItMTEpKSkgXlxuICAgICAgICAgICAgICAgKChlPj4+MjUpIHwgKGU8PCgzMi0yNSkpKSkgKyAoKGUgJiBmKSBeICh+ZSAmIGcpKSkgfCAwKSArXG4gICAgICAgICAgICAgICAoKGggKyAoKEtbaV0gKyB3W2ldKSB8IDApKSB8IDApKSB8IDA7XG5cbiAgICAgICAgICB0MiA9ICgoKChhPj4+MikgfCAoYTw8KDMyLTIpKSkgXiAoKGE+Pj4xMykgfCAoYTw8KDMyLTEzKSkpIF5cbiAgICAgICAgICAgICAgICgoYT4+PjIyKSB8IChhPDwoMzItMjIpKSkpICsgKChhICYgYikgXiAoYSAmIGMpIF4gKGIgJiBjKSkpIHwgMDtcblxuICAgICAgICAgIGggPSBnO1xuICAgICAgICAgIGcgPSBmO1xuICAgICAgICAgIGYgPSBlO1xuICAgICAgICAgIGUgPSAoZCArIHQxKSB8IDA7XG4gICAgICAgICAgZCA9IGM7XG4gICAgICAgICAgYyA9IGI7XG4gICAgICAgICAgYiA9IGE7XG4gICAgICAgICAgYSA9ICh0MSArIHQyKSB8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBoMCA9IChoMCArIGEpIHwgMDtcbiAgICAgICAgaDEgPSAoaDEgKyBiKSB8IDA7XG4gICAgICAgIGgyID0gKGgyICsgYykgfCAwO1xuICAgICAgICBoMyA9IChoMyArIGQpIHwgMDtcbiAgICAgICAgaDQgPSAoaDQgKyBlKSB8IDA7XG4gICAgICAgIGg1ID0gKGg1ICsgZikgfCAwO1xuICAgICAgICBoNiA9IChoNiArIGcpIHwgMDtcbiAgICAgICAgaDcgPSAoaDcgKyBoKSB8IDA7XG5cbiAgICAgICAgb2ZmICs9IDY0O1xuICAgICAgICBsZW4gLT0gNjQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYmxvY2tzKG0pO1xuXG4gICAgdmFyIGksIGJ5dGVzTGVmdCA9IG0ubGVuZ3RoICUgNjQsXG4gICAgICAgIGJpdExlbkhpID0gKG0ubGVuZ3RoIC8gMHgyMDAwMDAwMCkgfCAwLFxuICAgICAgICBiaXRMZW5MbyA9IG0ubGVuZ3RoIDw8IDMsXG4gICAgICAgIG51bVplcm9zID0gKGJ5dGVzTGVmdCA8IDU2KSA/IDU2IDogMTIwLFxuICAgICAgICBwID0gbS5zbGljZShtLmxlbmd0aCAtIGJ5dGVzTGVmdCwgbS5sZW5ndGgpO1xuXG4gICAgcC5wdXNoKDB4ODApO1xuICAgIGZvciAoaSA9IGJ5dGVzTGVmdCArIDE7IGkgPCBudW1aZXJvczsgaSsrKSBwLnB1c2goMCk7XG4gICAgcC5wdXNoKChiaXRMZW5IaT4+PjI0KSAmIDB4ZmYpO1xuICAgIHAucHVzaCgoYml0TGVuSGk+Pj4xNikgJiAweGZmKTtcbiAgICBwLnB1c2goKGJpdExlbkhpPj4+OCkgICYgMHhmZik7XG4gICAgcC5wdXNoKChiaXRMZW5IaT4+PjApICAmIDB4ZmYpO1xuICAgIHAucHVzaCgoYml0TGVuTG8+Pj4yNCkgJiAweGZmKTtcbiAgICBwLnB1c2goKGJpdExlbkxvPj4+MTYpICYgMHhmZik7XG4gICAgcC5wdXNoKChiaXRMZW5Mbz4+PjgpICAmIDB4ZmYpO1xuICAgIHAucHVzaCgoYml0TGVuTG8+Pj4wKSAgJiAweGZmKTtcblxuICAgIGJsb2NrcyhwKTtcblxuICAgIHJldHVybiBbXG4gICAgICAoaDA+Pj4yNCkgJiAweGZmLCAoaDA+Pj4xNikgJiAweGZmLCAoaDA+Pj44KSAmIDB4ZmYsIChoMD4+PjApICYgMHhmZixcbiAgICAgIChoMT4+PjI0KSAmIDB4ZmYsIChoMT4+PjE2KSAmIDB4ZmYsIChoMT4+PjgpICYgMHhmZiwgKGgxPj4+MCkgJiAweGZmLFxuICAgICAgKGgyPj4+MjQpICYgMHhmZiwgKGgyPj4+MTYpICYgMHhmZiwgKGgyPj4+OCkgJiAweGZmLCAoaDI+Pj4wKSAmIDB4ZmYsXG4gICAgICAoaDM+Pj4yNCkgJiAweGZmLCAoaDM+Pj4xNikgJiAweGZmLCAoaDM+Pj44KSAmIDB4ZmYsIChoMz4+PjApICYgMHhmZixcbiAgICAgIChoND4+PjI0KSAmIDB4ZmYsIChoND4+PjE2KSAmIDB4ZmYsIChoND4+PjgpICYgMHhmZiwgKGg0Pj4+MCkgJiAweGZmLFxuICAgICAgKGg1Pj4+MjQpICYgMHhmZiwgKGg1Pj4+MTYpICYgMHhmZiwgKGg1Pj4+OCkgJiAweGZmLCAoaDU+Pj4wKSAmIDB4ZmYsXG4gICAgICAoaDY+Pj4yNCkgJiAweGZmLCAoaDY+Pj4xNikgJiAweGZmLCAoaDY+Pj44KSAmIDB4ZmYsIChoNj4+PjApICYgMHhmZixcbiAgICAgIChoNz4+PjI0KSAmIDB4ZmYsIChoNz4+PjE2KSAmIDB4ZmYsIChoNz4+PjgpICYgMHhmZiwgKGg3Pj4+MCkgJiAweGZmXG4gICAgXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFBCS0RGMl9ITUFDX1NIQTI1Nl9PbmVJdGVyKHBhc3N3b3JkLCBzYWx0LCBka0xlbikge1xuICAgIC8vIGNvbXByZXNzIHBhc3N3b3JkIGlmIGl0J3MgbG9uZ2VyIHRoYW4gaGFzaCBibG9jayBsZW5ndGhcbiAgICBwYXNzd29yZCA9IHBhc3N3b3JkLmxlbmd0aCA8PSA2NCA/IHBhc3N3b3JkIDogU0hBMjU2KHBhc3N3b3JkKTtcblxuICAgIHZhciBpLCBpbm5lckxlbiA9IDY0ICsgc2FsdC5sZW5ndGggKyA0LFxuICAgICAgICBpbm5lciA9IG5ldyBBcnJheShpbm5lckxlbiksXG4gICAgICAgIG91dGVyS2V5ID0gbmV3IEFycmF5KDY0KSxcbiAgICAgICAgZGsgPSBbXTtcblxuICAgIC8vIGlubmVyID0gKHBhc3N3b3JkIF4gaXBhZCkgfHwgc2FsdCB8fCBjb3VudGVyXG4gICAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIGlubmVyW2ldID0gMHgzNjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFzc3dvcmQubGVuZ3RoOyBpKyspIGlubmVyW2ldIF49IHBhc3N3b3JkW2ldO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzYWx0Lmxlbmd0aDsgaSsrKSBpbm5lcls2NCtpXSA9IHNhbHRbaV07XG4gICAgZm9yIChpID0gaW5uZXJMZW4gLSA0OyBpIDwgaW5uZXJMZW47IGkrKykgaW5uZXJbaV0gPSAwO1xuXG4gICAgLy8gb3V0ZXJLZXkgPSBwYXNzd29yZCBeIG9wYWRcbiAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykgb3V0ZXJLZXlbaV0gPSAweDVjO1xuICAgIGZvciAoaSA9IDA7IGkgPCBwYXNzd29yZC5sZW5ndGg7IGkrKykgb3V0ZXJLZXlbaV0gXj0gcGFzc3dvcmRbaV07XG5cbiAgICAvLyBpbmNyZW1lbnRzIGNvdW50ZXIgaW5zaWRlIGlubmVyXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50Q291bnRlcigpIHtcbiAgICAgIGZvciAodmFyIGkgPSBpbm5lckxlbi0xOyBpID49IGlubmVyTGVuLTQ7IGktLSkge1xuICAgICAgICBpbm5lcltpXSsrO1xuICAgICAgICBpZiAoaW5uZXJbaV0gPD0gMHhmZikgcmV0dXJuO1xuICAgICAgICBpbm5lcltpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gb3V0cHV0IGJsb2NrcyA9IFNIQTI1NihvdXRlcktleSB8fCBTSEEyNTYoaW5uZXIpKSAuLi5cbiAgICB3aGlsZSAoZGtMZW4gPj0gMzIpIHtcbiAgICAgIGluY3JlbWVudENvdW50ZXIoKTtcbiAgICAgIGRrID0gZGsuY29uY2F0KFNIQTI1NihvdXRlcktleS5jb25jYXQoU0hBMjU2KGlubmVyKSkpKTtcbiAgICAgIGRrTGVuIC09IDMyO1xuICAgIH1cbiAgICBpZiAoZGtMZW4gPiAwKSB7XG4gICAgICBpbmNyZW1lbnRDb3VudGVyKCk7XG4gICAgICBkayA9IGRrLmNvbmNhdChTSEEyNTYob3V0ZXJLZXkuY29uY2F0KFNIQTI1Nihpbm5lcikpKS5zbGljZSgwLCBka0xlbikpO1xuICAgIH1cbiAgICByZXR1cm4gZGs7XG4gIH1cblxuICBmdW5jdGlvbiBzYWxzYVhPUih0bXAsIEIsIGJpbiwgYm91dCkge1xuICAgIHZhciBqMCAgPSB0bXBbMF0gIF4gQltiaW4rK10sXG4gICAgICAgIGoxICA9IHRtcFsxXSAgXiBCW2JpbisrXSxcbiAgICAgICAgajIgID0gdG1wWzJdICBeIEJbYmluKytdLFxuICAgICAgICBqMyAgPSB0bXBbM10gIF4gQltiaW4rK10sXG4gICAgICAgIGo0ICA9IHRtcFs0XSAgXiBCW2JpbisrXSxcbiAgICAgICAgajUgID0gdG1wWzVdICBeIEJbYmluKytdLFxuICAgICAgICBqNiAgPSB0bXBbNl0gIF4gQltiaW4rK10sXG4gICAgICAgIGo3ICA9IHRtcFs3XSAgXiBCW2JpbisrXSxcbiAgICAgICAgajggID0gdG1wWzhdICBeIEJbYmluKytdLFxuICAgICAgICBqOSAgPSB0bXBbOV0gIF4gQltiaW4rK10sXG4gICAgICAgIGoxMCA9IHRtcFsxMF0gXiBCW2JpbisrXSxcbiAgICAgICAgajExID0gdG1wWzExXSBeIEJbYmluKytdLFxuICAgICAgICBqMTIgPSB0bXBbMTJdIF4gQltiaW4rK10sXG4gICAgICAgIGoxMyA9IHRtcFsxM10gXiBCW2JpbisrXSxcbiAgICAgICAgajE0ID0gdG1wWzE0XSBeIEJbYmluKytdLFxuICAgICAgICBqMTUgPSB0bXBbMTVdIF4gQltiaW4rK10sXG4gICAgICAgIHUsIGk7XG5cbiAgICB2YXIgeDAgPSBqMCwgeDEgPSBqMSwgeDIgPSBqMiwgeDMgPSBqMywgeDQgPSBqNCwgeDUgPSBqNSwgeDYgPSBqNiwgeDcgPSBqNyxcbiAgICAgICAgeDggPSBqOCwgeDkgPSBqOSwgeDEwID0gajEwLCB4MTEgPSBqMTEsIHgxMiA9IGoxMiwgeDEzID0gajEzLCB4MTQgPSBqMTQsXG4gICAgICAgIHgxNSA9IGoxNTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCA4OyBpICs9IDIpIHtcbiAgICAgIHUgPSAgeDAgKyB4MTI7ICAgeDQgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9ICB4NCArICB4MDsgICB4OCBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHg4ICsgIHg0OyAgeDEyIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0geDEyICsgIHg4OyAgIHgwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSAgeDUgKyAgeDE7ICAgeDkgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9ICB4OSArICB4NTsgIHgxMyBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0geDEzICsgIHg5OyAgIHgxIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0gIHgxICsgeDEzOyAgIHg1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSB4MTAgKyAgeDY7ICB4MTQgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9IHgxNCArIHgxMDsgICB4MiBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHgyICsgeDE0OyAgIHg2IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0gIHg2ICsgIHgyOyAgeDEwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSB4MTUgKyB4MTE7ICAgeDMgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9ICB4MyArIHgxNTsgICB4NyBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHg3ICsgIHgzOyAgeDExIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0geDExICsgIHg3OyAgeDE1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSAgeDAgKyAgeDM7ICAgeDEgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9ICB4MSArICB4MDsgICB4MiBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHgyICsgIHgxOyAgIHgzIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0gIHgzICsgIHgyOyAgIHgwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSAgeDUgKyAgeDQ7ICAgeDYgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9ICB4NiArICB4NTsgICB4NyBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHg3ICsgIHg2OyAgIHg0IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0gIHg0ICsgIHg3OyAgIHg1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSB4MTAgKyAgeDk7ICB4MTEgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9IHgxMSArIHgxMDsgICB4OCBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0gIHg4ICsgeDExOyAgIHg5IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0gIHg5ICsgIHg4OyAgeDEwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICAgIHUgPSB4MTUgKyB4MTQ7ICB4MTIgXj0gdTw8NyAgfCB1Pj4+KDMyLTcpO1xuICAgICAgdSA9IHgxMiArIHgxNTsgIHgxMyBePSB1PDw5ICB8IHU+Pj4oMzItOSk7XG4gICAgICB1ID0geDEzICsgeDEyOyAgeDE0IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgICB1ID0geDE0ICsgeDEzOyAgeDE1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG4gICAgfVxuXG4gICAgQltib3V0KytdID0gdG1wWzBdICA9ICh4MCAgKyBqMCkgIHwgMDtcbiAgICBCW2JvdXQrK10gPSB0bXBbMV0gID0gKHgxICArIGoxKSAgfCAwO1xuICAgIEJbYm91dCsrXSA9IHRtcFsyXSAgPSAoeDIgICsgajIpICB8IDA7XG4gICAgQltib3V0KytdID0gdG1wWzNdICA9ICh4MyAgKyBqMykgIHwgMDtcbiAgICBCW2JvdXQrK10gPSB0bXBbNF0gID0gKHg0ICArIGo0KSAgfCAwO1xuICAgIEJbYm91dCsrXSA9IHRtcFs1XSAgPSAoeDUgICsgajUpICB8IDA7XG4gICAgQltib3V0KytdID0gdG1wWzZdICA9ICh4NiAgKyBqNikgIHwgMDtcbiAgICBCW2JvdXQrK10gPSB0bXBbN10gID0gKHg3ICArIGo3KSAgfCAwO1xuICAgIEJbYm91dCsrXSA9IHRtcFs4XSAgPSAoeDggICsgajgpICB8IDA7XG4gICAgQltib3V0KytdID0gdG1wWzldICA9ICh4OSAgKyBqOSkgIHwgMDtcbiAgICBCW2JvdXQrK10gPSB0bXBbMTBdID0gKHgxMCArIGoxMCkgfCAwO1xuICAgIEJbYm91dCsrXSA9IHRtcFsxMV0gPSAoeDExICsgajExKSB8IDA7XG4gICAgQltib3V0KytdID0gdG1wWzEyXSA9ICh4MTIgKyBqMTIpIHwgMDtcbiAgICBCW2JvdXQrK10gPSB0bXBbMTNdID0gKHgxMyArIGoxMykgfCAwO1xuICAgIEJbYm91dCsrXSA9IHRtcFsxNF0gPSAoeDE0ICsgajE0KSB8IDA7XG4gICAgQltib3V0KytdID0gdG1wWzE1XSA9ICh4MTUgKyBqMTUpIHwgMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrQ29weShkc3QsIGRpLCBzcmMsIHNpLCBsZW4pIHtcbiAgICB3aGlsZSAobGVuLS0pIGRzdFtkaSsrXSA9IHNyY1tzaSsrXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrWE9SKGRzdCwgZGksIHNyYywgc2ksIGxlbikge1xuICAgIHdoaWxlIChsZW4tLSkgZHN0W2RpKytdIF49IHNyY1tzaSsrXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrTWl4KHRtcCwgQiwgYmluLCBib3V0LCByKSB7XG4gICAgYmxvY2tDb3B5KHRtcCwgMCwgQiwgYmluICsgKDIqci0xKSoxNiwgMTYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMipyOyBpICs9IDIpIHtcbiAgICAgIHNhbHNhWE9SKHRtcCwgQiwgYmluICsgaSoxNiwgICAgICBib3V0ICsgaSo4KTtcbiAgICAgIHNhbHNhWE9SKHRtcCwgQiwgYmluICsgaSoxNiArIDE2LCBib3V0ICsgaSo4ICsgcioxNik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW50ZWdlcmlmeShCLCBiaSwgcikge1xuICAgIHJldHVybiBCW2JpKygyKnItMSkqMTZdO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5nVG9VVEY4Qnl0ZXMocykge1xuICAgIHZhciBhcnIgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgIGFyci5wdXNoKGMpO1xuICAgICAgfSBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgYXJyLnB1c2goMHhjMCB8IGMgPj4gNik7XG4gICAgICAgIGFyci5wdXNoKDB4ODAgfCBjICYgMHgzZik7XG4gICAgICB9IGVsc2UgaWYgKGMgPCAweGQ4MDApIHtcbiAgICAgICAgYXJyLnB1c2goMHhlMCB8IGMgPj4gMTIpO1xuICAgICAgICBhcnIucHVzaCgweDgwIHwgKGMgPj4gNikgJiAweDNmKTtcbiAgICAgICAgYXJyLnB1c2goMHg4MCB8IGMgJiAweDNmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpID49IHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7IC8vIGdldCBvbmUgbW9yZSBjaGFyYWN0ZXJcbiAgICAgICAgYyA9IChjICYgMHgzZmYpIDw8IDEwO1xuICAgICAgICBjIHw9IHMuY2hhckNvZGVBdChpKSAmIDB4M2ZmO1xuICAgICAgICBjICs9IDB4MTAwMDA7XG5cbiAgICAgICAgYXJyLnB1c2goMHhmMCB8IGMgPj4gMTgpO1xuICAgICAgICBhcnIucHVzaCgweDgwIHwgKGMgPj4gMTIpICYgMHgzZik7XG4gICAgICAgIGFyci5wdXNoKDB4ODAgfCAoYyA+PiA2KSAmIDB4M2YpO1xuICAgICAgICBhcnIucHVzaCgweDgwIHwgYyAmIDB4M2YpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gYnl0ZXNUb0hleChwKSB7XG4gICAgLyoqIEBjb25zdCAqL1xuICAgIHZhciBlbmMgPSAnMDEyMzQ1Njc4OWFiY2RlZicuc3BsaXQoJycpO1xuXG4gICAgdmFyIGxlbiA9IHAubGVuZ3RoLFxuICAgICAgICBhcnIgPSBbXSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGFyci5wdXNoKGVuY1socFtpXT4+PjQpICYgMTVdKTtcbiAgICAgICAgYXJyLnB1c2goZW5jWyhwW2ldPj4+MCkgJiAxNV0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyLmpvaW4oJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gYnl0ZXNUb0Jhc2U2NChwKSB7XG4gICAgLyoqIEBjb25zdCAqL1xuICAgIHZhciBlbmMgPSAoJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICtcbiAgICAgICAgICAgICAgJzAxMjM0NTY3ODkrLycpLnNwbGl0KCcnKTtcblxuICAgIHZhciBsZW4gPSBwLmxlbmd0aCxcbiAgICAgICAgYXJyID0gW10sXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBhLCBiLCBjLCB0O1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGEgPSBpIDwgbGVuID8gcFtpKytdIDogMDtcbiAgICAgIGIgPSBpIDwgbGVuID8gcFtpKytdIDogMDtcbiAgICAgIGMgPSBpIDwgbGVuID8gcFtpKytdIDogMDtcbiAgICAgIHQgPSAoYSA8PCAxNikgKyAoYiA8PCA4KSArIGM7XG4gICAgICBhcnIucHVzaChlbmNbKHQgPj4+IDMgKiA2KSAmIDYzXSk7XG4gICAgICBhcnIucHVzaChlbmNbKHQgPj4+IDIgKiA2KSAmIDYzXSk7XG4gICAgICBhcnIucHVzaChlbmNbKHQgPj4+IDEgKiA2KSAmIDYzXSk7XG4gICAgICBhcnIucHVzaChlbmNbKHQgPj4+IDAgKiA2KSAmIDYzXSk7XG4gICAgfVxuICAgIGlmIChsZW4gJSAzID4gMCkge1xuICAgICAgYXJyW2Fyci5sZW5ndGgtMV0gPSAnPSc7XG4gICAgICBpZiAobGVuICUgMyA9PT0gMSkgYXJyW2Fyci5sZW5ndGgtMl0gPSAnPSc7XG4gICAgfVxuICAgIHJldHVybiBhcnIuam9pbignJyk7XG4gIH1cblxuXG4gIC8vIEdlbmVyYXRlIGtleS5cblxuICB2YXIgTUFYX1VJTlQgPSAoLTEpPj4+MCxcbiAgICAgIHAgPSAxO1xuXG4gIGlmICh0eXBlb2YgbG9nTiA9PT0gXCJvYmplY3RcIikge1xuICAgIC8vIENhbGxlZCBhczogc2NyeXB0KHBhc3N3b3JkLCBzYWx0LCBvcHRzLCBjYWxsYmFjaylcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2NyeXB0OiBpbmNvcnJlY3QgbnVtYmVyIG9mIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIHZhciBvcHRzID0gbG9nTjtcblxuICAgIGNhbGxiYWNrID0gcjtcbiAgICBsb2dOID0gb3B0cy5sb2dOO1xuICAgIGlmICh0eXBlb2YgbG9nTiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5OICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAob3B0cy5OIDwgMiB8fCBvcHRzLk4gPiBNQVhfVUlOVClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjcnlwdDogTiBpcyBvdXQgb2YgcmFuZ2UnKTtcblxuICAgICAgICBpZiAoKG9wdHMuTiAmIChvcHRzLk4gLSAxKSkgIT09IDApXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzY3J5cHQ6IE4gaXMgbm90IGEgcG93ZXIgb2YgMicpO1xuXG4gICAgICAgIGxvZ04gPSBNYXRoLmxvZyhvcHRzLk4pIC8gTWF0aC5MTjI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjcnlwdDogbWlzc2luZyBOIHBhcmFtZXRlcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBwID0gb3B0cy5wIHx8IDE7XG4gICAgciA9IG9wdHMucjtcbiAgICBka0xlbiA9IG9wdHMuZGtMZW4gfHwgMzI7XG4gICAgaW50ZXJydXB0U3RlcCA9IG9wdHMuaW50ZXJydXB0U3RlcCB8fCAwO1xuICAgIGVuY29kaW5nID0gb3B0cy5lbmNvZGluZztcbiAgfVxuXG4gIGlmIChwIDwgMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjcnlwdDogaW52YWxpZCBwJyk7XG5cbiAgaWYgKHIgPD0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjcnlwdDogaW52YWxpZCByJyk7XG5cbiAgaWYgKGxvZ04gPCAxIHx8IGxvZ04gPiAzMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjcnlwdDogbG9nTiBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMzEnKTtcblxuXG4gIHZhciBOID0gKDE8PGxvZ04pPj4+MCxcbiAgICAgIFhZLCBWLCBCLCB0bXA7XG5cbiAgaWYgKHIqcCA+PSAxPDwzMCB8fCByID4gTUFYX1VJTlQvMTI4L3AgfHwgciA+IE1BWF9VSU5ULzI1NiB8fCBOID4gTUFYX1VJTlQvMTI4L3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzY3J5cHQ6IHBhcmFtZXRlcnMgYXJlIHRvbyBsYXJnZScpO1xuXG4gIC8vIERlY29kZSBzdHJpbmdzLlxuICBpZiAodHlwZW9mIHBhc3N3b3JkID09PSAnc3RyaW5nJylcbiAgICBwYXNzd29yZCA9IHN0cmluZ1RvVVRGOEJ5dGVzKHBhc3N3b3JkKTtcbiAgaWYgKHR5cGVvZiBzYWx0ID09PSAnc3RyaW5nJylcbiAgICBzYWx0ID0gc3RyaW5nVG9VVEY4Qnl0ZXMoc2FsdCk7XG5cbiAgaWYgKHR5cGVvZiBJbnQzMkFycmF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vWFhYIFdlIGNhbiB1c2UgVWludDMyQXJyYXksIGJ1dCBJbnQzMkFycmF5IGlzIGZhc3RlciBpbiBTYWZhcmkuXG4gICAgWFkgPSBuZXcgSW50MzJBcnJheSg2NCpyKTtcbiAgICBWID0gbmV3IEludDMyQXJyYXkoMzIqTipyKTtcbiAgICB0bXAgPSBuZXcgSW50MzJBcnJheSgxNik7XG4gIH0gZWxzZSB7XG4gICAgWFkgPSBbXTtcbiAgICBWID0gW107XG4gICAgdG1wID0gbmV3IEFycmF5KDE2KTtcbiAgfVxuICBCID0gUEJLREYyX0hNQUNfU0hBMjU2X09uZUl0ZXIocGFzc3dvcmQsIHNhbHQsIHAqMTI4KnIpO1xuXG4gIHZhciB4aSA9IDAsIHlpID0gMzIgKiByO1xuXG4gIGZ1bmN0aW9uIHNtaXhTdGFydChwb3MpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyKnI7IGkrKykge1xuICAgICAgdmFyIGogPSBwb3MgKyBpKjQ7XG4gICAgICBYWVt4aStpXSA9ICgoQltqKzNdICYgMHhmZik8PDI0KSB8ICgoQltqKzJdICYgMHhmZik8PDE2KSB8XG4gICAgICAgICAgICAgICAgICgoQltqKzFdICYgMHhmZik8PDgpICB8ICgoQltqKzBdICYgMHhmZik8PDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNtaXhTdGVwMShzdGFydCwgZW5kKSB7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgIGJsb2NrQ29weShWLCBpKigzMipyKSwgWFksIHhpLCAzMipyKTtcbiAgICAgIGJsb2NrTWl4KHRtcCwgWFksIHhpLCB5aSwgcik7XG5cbiAgICAgIGJsb2NrQ29weShWLCAoaSsxKSooMzIqciksIFhZLCB5aSwgMzIqcik7XG4gICAgICBibG9ja01peCh0bXAsIFhZLCB5aSwgeGksIHIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNtaXhTdGVwMihzdGFydCwgZW5kKSB7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDIpIHtcbiAgICAgIHZhciBqID0gaW50ZWdlcmlmeShYWSwgeGksIHIpICYgKE4tMSk7XG4gICAgICBibG9ja1hPUihYWSwgeGksIFYsIGoqKDMyKnIpLCAzMipyKTtcbiAgICAgIGJsb2NrTWl4KHRtcCwgWFksIHhpLCB5aSwgcik7XG5cbiAgICAgIGogPSBpbnRlZ2VyaWZ5KFhZLCB5aSwgcikgJiAoTi0xKTtcbiAgICAgIGJsb2NrWE9SKFhZLCB5aSwgViwgaiooMzIqciksIDMyKnIpO1xuICAgICAgYmxvY2tNaXgodG1wLCBYWSwgeWksIHhpLCByKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzbWl4RmluaXNoKHBvcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzIqcjsgaSsrKSB7XG4gICAgICB2YXIgaiA9IFhZW3hpK2ldO1xuICAgICAgQltwb3MgKyBpKjQgKyAwXSA9IChqPj4+MCkgICYgMHhmZjtcbiAgICAgIEJbcG9zICsgaSo0ICsgMV0gPSAoaj4+PjgpICAmIDB4ZmY7XG4gICAgICBCW3BvcyArIGkqNCArIDJdID0gKGo+Pj4xNikgJiAweGZmO1xuICAgICAgQltwb3MgKyBpKjQgKyAzXSA9IChqPj4+MjQpICYgMHhmZjtcbiAgICB9XG4gIH1cblxuICB2YXIgbmV4dFRpY2sgPSAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcpID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcblxuICBmdW5jdGlvbiBpbnRlcnJ1cHRlZEZvcihzdGFydCwgZW5kLCBzdGVwLCBmbiwgZG9uZWZuKSB7XG4gICAgKGZ1bmN0aW9uIHBlcmZvcm1TdGVwKCkge1xuICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGZuKHN0YXJ0LCBzdGFydCArIHN0ZXAgPCBlbmQgPyBzdGFydCArIHN0ZXAgOiBlbmQpO1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgICBpZiAoc3RhcnQgPCBlbmQpXG4gICAgICAgICAgcGVyZm9ybVN0ZXAoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRvbmVmbigpO1xuICAgICAgICB9KTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmVzdWx0KGVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IFBCS0RGMl9ITUFDX1NIQTI1Nl9PbmVJdGVyKHBhc3N3b3JkLCBCLCBka0xlbik7XG4gICAgICBpZiAoZW5jID09PSAnYmFzZTY0JylcbiAgICAgICAgcmV0dXJuIGJ5dGVzVG9CYXNlNjQocmVzdWx0KTtcbiAgICAgIGVsc2UgaWYgKGVuYyA9PT0gJ2hleCcpXG4gICAgICAgIHJldHVybiBieXRlc1RvSGV4KHJlc3VsdCk7XG4gICAgICBlbHNlIGlmIChlbmMgPT09ICdiaW5hcnknKVxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIEJsb2NraW5nIHZhcmlhbnQuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZVN5bmMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwOyBpKyspIHtcbiAgICAgIHNtaXhTdGFydChpKjEyOCpyKTtcbiAgICAgIHNtaXhTdGVwMSgwLCBOKTtcbiAgICAgIHNtaXhTdGVwMigwLCBOKTtcbiAgICAgIHNtaXhGaW5pc2goaSoxMjgqcik7XG4gICAgfVxuICAgIGNhbGxiYWNrKGdldFJlc3VsdChlbmNvZGluZykpO1xuICB9XG5cbiAgLy8gQXN5bmMgdmFyaWFudC5cbiAgZnVuY3Rpb24gY2FsY3VsYXRlQXN5bmMoaSkge1xuICAgICAgc21peFN0YXJ0KGkqMTI4KnIpO1xuICAgICAgaW50ZXJydXB0ZWRGb3IoMCwgTiwgaW50ZXJydXB0U3RlcCoyLCBzbWl4U3RlcDEsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnRlcnJ1cHRlZEZvcigwLCBOLCBpbnRlcnJ1cHRTdGVwKjIsIHNtaXhTdGVwMiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNtaXhGaW5pc2goaSoxMjgqcik7XG4gICAgICAgICAgaWYgKGkgKyAxIDwgcCkge1xuICAgICAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7IGNhbGN1bGF0ZUFzeW5jKGkgKyAxKTsgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGdldFJlc3VsdChlbmNvZGluZykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaW50ZXJydXB0U3RlcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIENhbGxlZCBhczogc2NyeXB0KC4uLiwgICAgICBjYWxsYmFjaywgW2VuY29kaW5nXSlcbiAgICAvLyAgc2hpZnRpbmc6IHNjcnlwdCguLi4sIGludGVycnVwdFN0ZXAsICBjYWxsYmFjaywgW2VuY29kaW5nXSlcbiAgICBlbmNvZGluZyA9IGNhbGxiYWNrO1xuICAgIGNhbGxiYWNrID0gaW50ZXJydXB0U3RlcDtcbiAgICBpbnRlcnJ1cHRTdGVwID0gMTAwMDtcbiAgfVxuXG4gIGlmIChpbnRlcnJ1cHRTdGVwIDw9IDApIHtcbiAgICBjYWxjdWxhdGVTeW5jKCk7XG4gIH0gZWxzZSB7XG4gICAgY2FsY3VsYXRlQXN5bmMoMCk7XG4gIH1cbn1cblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSBtb2R1bGUuZXhwb3J0cyA9IHNjcnlwdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/scrypt-async/scrypt-async.js\n");

/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcz82MDE3Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/setimmediate/setImmediate.js\n");

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ \"./node_modules/style-loader/lib/urls.js\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzPzY4NDQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/lib/addStyles.js\n");

/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanM/ZjZkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/lib/urls.js\n");

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(/*! setimmediate */ \"./node_modules/setimmediate/setImmediate.js\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcz81MTE4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/timers-browserify/main.js\n");

/***/ }),

/***/ "./node_modules/tweetnacl-util/nacl-util.js":
/*!**************************************************!*\
  !*** ./node_modules/tweetnacl-util/nacl-util.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(Buffer) {// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ \"./node_modules/buffer/index.js\").Buffer))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHdlZXRuYWNsLXV0aWwvbmFjbC11dGlsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci8uL25vZGVfbW9kdWxlcy90d2VldG5hY2wtdXRpbC9uYWNsLXV0aWwuanM/NDI3YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBXcml0dGVuIGluIDIwMTQtMjAxNiBieSBEbWl0cnkgQ2hlc3RueWtoIGFuZCBEZXZpIE1hbmRpcmkuXG4vLyBQdWJsaWMgZG9tYWluLlxuKGZ1bmN0aW9uKHJvb3QsIGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIG1vZHVsZS5leHBvcnRzID0gZigpO1xuICBlbHNlIGlmIChyb290Lm5hY2wpIHJvb3QubmFjbC51dGlsID0gZigpO1xuICBlbHNlIHtcbiAgICByb290Lm5hY2wgPSB7fTtcbiAgICByb290Lm5hY2wudXRpbCA9IGYoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB1dGlsID0ge307XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVCYXNlNjQocykge1xuICAgIGlmICghKC9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KHMpKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBlbmNvZGluZycpO1xuICAgIH1cbiAgfVxuXG4gIHV0aWwuZGVjb2RlVVRGOCA9IGZ1bmN0aW9uKHMpIHtcbiAgICBpZiAodHlwZW9mIHMgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBzdHJpbmcnKTtcbiAgICB2YXIgaSwgZCA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzKSksIGIgPSBuZXcgVWludDhBcnJheShkLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIGJbaV0gPSBkLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGI7XG4gIH07XG5cbiAgdXRpbC5lbmNvZGVVVEY4ID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgdmFyIGksIHMgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShhcnJbaV0pKTtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShzLmpvaW4oJycpKSk7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBhdG9iID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vZGUuanNcblxuICAgIGlmICh0eXBlb2YgQnVmZmVyLmZyb20gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgLy8gTm9kZSB2NiBhbmQgbGF0ZXJcbiAgICAgIHV0aWwuZW5jb2RlQmFzZTY0ID0gZnVuY3Rpb24gKGFycikgeyAvLyB2NiBhbmQgbGF0ZXJcbiAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYXJyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICB9O1xuXG4gICAgICB1dGlsLmRlY29kZUJhc2U2NCA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhbGlkYXRlQmFzZTY0KHMpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoQnVmZmVyLmZyb20ocywgJ2Jhc2U2NCcpLCAwKSk7XG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vZGUgZWFybGllciB0aGFuIHY2XG4gICAgICB1dGlsLmVuY29kZUJhc2U2NCA9IGZ1bmN0aW9uIChhcnIpIHsgLy8gdjYgYW5kIGxhdGVyXG4gICAgICAgIHJldHVybiAobmV3IEJ1ZmZlcihhcnIpKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICB9O1xuXG4gICAgICB1dGlsLmRlY29kZUJhc2U2NCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdmFsaWRhdGVCYXNlNjQocyk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuZXcgQnVmZmVyKHMsICdiYXNlNjQnKSwgMCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2Vyc1xuXG4gICAgdXRpbC5lbmNvZGVCYXNlNjQgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAgIHZhciBpLCBzID0gW10sIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGFycltpXSkpO1xuICAgICAgcmV0dXJuIGJ0b2Eocy5qb2luKCcnKSk7XG4gICAgfTtcblxuICAgIHV0aWwuZGVjb2RlQmFzZTY0ID0gZnVuY3Rpb24ocykge1xuICAgICAgdmFsaWRhdGVCYXNlNjQocyk7XG4gICAgICB2YXIgaSwgZCA9IGF0b2IocyksIGIgPSBuZXcgVWludDhBcnJheShkLmxlbmd0aCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykgYltpXSA9IGQuY2hhckNvZGVBdChpKTtcbiAgICAgIHJldHVybiBiO1xuICAgIH07XG5cbiAgfVxuXG4gIHJldHVybiB1dGlsO1xuXG59KSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/tweetnacl-util/nacl-util.js\n");

/***/ }),

/***/ "./node_modules/tweetnacl/nacl-fast.js":
/*!*********************************************!*\
  !*** ./node_modules/tweetnacl/nacl-fast.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i, mlen;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  mlen = -1;\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  mlen = n;\n  return mlen;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (true) {\n    // Node.js.\n    crypto = __webpack_require__(/*! crypto */ 0);\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHdlZXRuYWNsL25hY2wtZmFzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9ub2RlX21vZHVsZXMvdHdlZXRuYWNsL25hY2wtZmFzdC5qcz81OGE0Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihuYWNsKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIFBvcnRlZCBpbiAyMDE0IGJ5IERtaXRyeSBDaGVzdG55a2ggYW5kIERldmkgTWFuZGlyaS5cbi8vIFB1YmxpYyBkb21haW4uXG4vL1xuLy8gSW1wbGVtZW50YXRpb24gZGVyaXZlZCBmcm9tIFR3ZWV0TmFDbCB2ZXJzaW9uIDIwMTQwNDI3LlxuLy8gU2VlIGZvciBkZXRhaWxzOiBodHRwOi8vdHdlZXRuYWNsLmNyLnlwLnRvL1xuXG52YXIgZ2YgPSBmdW5jdGlvbihpbml0KSB7XG4gIHZhciBpLCByID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gIGlmIChpbml0KSBmb3IgKGkgPSAwOyBpIDwgaW5pdC5sZW5ndGg7IGkrKykgcltpXSA9IGluaXRbaV07XG4gIHJldHVybiByO1xufTtcblxuLy8gIFBsdWdnYWJsZSwgaW5pdGlhbGl6ZWQgaW4gaGlnaC1sZXZlbCBBUEkgYmVsb3cuXG52YXIgcmFuZG9tYnl0ZXMgPSBmdW5jdGlvbigvKiB4LCBuICovKSB7IHRocm93IG5ldyBFcnJvcignbm8gUFJORycpOyB9O1xuXG52YXIgXzAgPSBuZXcgVWludDhBcnJheSgxNik7XG52YXIgXzkgPSBuZXcgVWludDhBcnJheSgzMik7IF85WzBdID0gOTtcblxudmFyIGdmMCA9IGdmKCksXG4gICAgZ2YxID0gZ2YoWzFdKSxcbiAgICBfMTIxNjY1ID0gZ2YoWzB4ZGI0MSwgMV0pLFxuICAgIEQgPSBnZihbMHg3OGEzLCAweDEzNTksIDB4NGRjYSwgMHg3NWViLCAweGQ4YWIsIDB4NDE0MSwgMHgwYTRkLCAweDAwNzAsIDB4ZTg5OCwgMHg3Nzc5LCAweDQwNzksIDB4OGNjNywgMHhmZTczLCAweDJiNmYsIDB4NmNlZSwgMHg1MjAzXSksXG4gICAgRDIgPSBnZihbMHhmMTU5LCAweDI2YjIsIDB4OWI5NCwgMHhlYmQ2LCAweGIxNTYsIDB4ODI4MywgMHgxNDlhLCAweDAwZTAsIDB4ZDEzMCwgMHhlZWYzLCAweDgwZjIsIDB4MTk4ZSwgMHhmY2U3LCAweDU2ZGYsIDB4ZDlkYywgMHgyNDA2XSksXG4gICAgWCA9IGdmKFsweGQ1MWEsIDB4OGYyNSwgMHgyZDYwLCAweGM5NTYsIDB4YTdiMiwgMHg5NTI1LCAweGM3NjAsIDB4NjkyYywgMHhkYzVjLCAweGZkZDYsIDB4ZTIzMSwgMHhjMGE0LCAweDUzZmUsIDB4Y2Q2ZSwgMHgzNmQzLCAweDIxNjldKSxcbiAgICBZID0gZ2YoWzB4NjY1OCwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2NiwgMHg2NjY2LCAweDY2NjYsIDB4NjY2Nl0pLFxuICAgIEkgPSBnZihbMHhhMGIwLCAweDRhMGUsIDB4MWIyNywgMHhjNGVlLCAweGU0NzgsIDB4YWQyZiwgMHgxODA2LCAweDJmNDMsIDB4ZDdhNywgMHgzZGZiLCAweDAwOTksIDB4MmI0ZCwgMHhkZjBiLCAweDRmYzEsIDB4MjQ4MCwgMHgyYjgzXSk7XG5cbmZ1bmN0aW9uIHRzNjQoeCwgaSwgaCwgbCkge1xuICB4W2ldICAgPSAoaCA+PiAyNCkgJiAweGZmO1xuICB4W2krMV0gPSAoaCA+PiAxNikgJiAweGZmO1xuICB4W2krMl0gPSAoaCA+PiAgOCkgJiAweGZmO1xuICB4W2krM10gPSBoICYgMHhmZjtcbiAgeFtpKzRdID0gKGwgPj4gMjQpICAmIDB4ZmY7XG4gIHhbaSs1XSA9IChsID4+IDE2KSAgJiAweGZmO1xuICB4W2krNl0gPSAobCA+PiAgOCkgICYgMHhmZjtcbiAgeFtpKzddID0gbCAmIDB4ZmY7XG59XG5cbmZ1bmN0aW9uIHZuKHgsIHhpLCB5LCB5aSwgbikge1xuICB2YXIgaSxkID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgZCB8PSB4W3hpK2ldXnlbeWkraV07XG4gIHJldHVybiAoMSAmICgoZCAtIDEpID4+PiA4KSkgLSAxO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fdmVyaWZ5XzE2KHgsIHhpLCB5LCB5aSkge1xuICByZXR1cm4gdm4oeCx4aSx5LHlpLDE2KTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3ZlcmlmeV8zMih4LCB4aSwgeSwgeWkpIHtcbiAgcmV0dXJuIHZuKHgseGkseSx5aSwzMik7XG59XG5cbmZ1bmN0aW9uIGNvcmVfc2Fsc2EyMChvLCBwLCBrLCBjKSB7XG4gIHZhciBqMCAgPSBjWyAwXSAmIDB4ZmYgfCAoY1sgMV0gJiAweGZmKTw8OCB8IChjWyAyXSAmIDB4ZmYpPDwxNiB8IChjWyAzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxICA9IGtbIDBdICYgMHhmZiB8IChrWyAxXSAmIDB4ZmYpPDw4IHwgKGtbIDJdICYgMHhmZik8PDE2IHwgKGtbIDNdICYgMHhmZik8PDI0LFxuICAgICAgajIgID0ga1sgNF0gJiAweGZmIHwgKGtbIDVdICYgMHhmZik8PDggfCAoa1sgNl0gJiAweGZmKTw8MTYgfCAoa1sgN10gJiAweGZmKTw8MjQsXG4gICAgICBqMyAgPSBrWyA4XSAmIDB4ZmYgfCAoa1sgOV0gJiAweGZmKTw8OCB8IChrWzEwXSAmIDB4ZmYpPDwxNiB8IChrWzExXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo0ICA9IGtbMTJdICYgMHhmZiB8IChrWzEzXSAmIDB4ZmYpPDw4IHwgKGtbMTRdICYgMHhmZik8PDE2IHwgKGtbMTVdICYgMHhmZik8PDI0LFxuICAgICAgajUgID0gY1sgNF0gJiAweGZmIHwgKGNbIDVdICYgMHhmZik8PDggfCAoY1sgNl0gJiAweGZmKTw8MTYgfCAoY1sgN10gJiAweGZmKTw8MjQsXG4gICAgICBqNiAgPSBwWyAwXSAmIDB4ZmYgfCAocFsgMV0gJiAweGZmKTw8OCB8IChwWyAyXSAmIDB4ZmYpPDwxNiB8IChwWyAzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo3ICA9IHBbIDRdICYgMHhmZiB8IChwWyA1XSAmIDB4ZmYpPDw4IHwgKHBbIDZdICYgMHhmZik8PDE2IHwgKHBbIDddICYgMHhmZik8PDI0LFxuICAgICAgajggID0gcFsgOF0gJiAweGZmIHwgKHBbIDldICYgMHhmZik8PDggfCAocFsxMF0gJiAweGZmKTw8MTYgfCAocFsxMV0gJiAweGZmKTw8MjQsXG4gICAgICBqOSAgPSBwWzEyXSAmIDB4ZmYgfCAocFsxM10gJiAweGZmKTw8OCB8IChwWzE0XSAmIDB4ZmYpPDwxNiB8IChwWzE1XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMCA9IGNbIDhdICYgMHhmZiB8IChjWyA5XSAmIDB4ZmYpPDw4IHwgKGNbMTBdICYgMHhmZik8PDE2IHwgKGNbMTFdICYgMHhmZik8PDI0LFxuICAgICAgajExID0ga1sxNl0gJiAweGZmIHwgKGtbMTddICYgMHhmZik8PDggfCAoa1sxOF0gJiAweGZmKTw8MTYgfCAoa1sxOV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTIgPSBrWzIwXSAmIDB4ZmYgfCAoa1syMV0gJiAweGZmKTw8OCB8IChrWzIyXSAmIDB4ZmYpPDwxNiB8IChrWzIzXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMyA9IGtbMjRdICYgMHhmZiB8IChrWzI1XSAmIDB4ZmYpPDw4IHwgKGtbMjZdICYgMHhmZik8PDE2IHwgKGtbMjddICYgMHhmZik8PDI0LFxuICAgICAgajE0ID0ga1syOF0gJiAweGZmIHwgKGtbMjldICYgMHhmZik8PDggfCAoa1szMF0gJiAweGZmKTw8MTYgfCAoa1szMV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTUgPSBjWzEyXSAmIDB4ZmYgfCAoY1sxM10gJiAweGZmKTw8OCB8IChjWzE0XSAmIDB4ZmYpPDwxNiB8IChjWzE1XSAmIDB4ZmYpPDwyNDtcblxuICB2YXIgeDAgPSBqMCwgeDEgPSBqMSwgeDIgPSBqMiwgeDMgPSBqMywgeDQgPSBqNCwgeDUgPSBqNSwgeDYgPSBqNiwgeDcgPSBqNyxcbiAgICAgIHg4ID0gajgsIHg5ID0gajksIHgxMCA9IGoxMCwgeDExID0gajExLCB4MTIgPSBqMTIsIHgxMyA9IGoxMywgeDE0ID0gajE0LFxuICAgICAgeDE1ID0gajE1LCB1O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkgKz0gMikge1xuICAgIHUgPSB4MCArIHgxMiB8IDA7XG4gICAgeDQgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHg0ICsgeDAgfCAwO1xuICAgIHg4IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4OCArIHg0IHwgMDtcbiAgICB4MTIgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDEyICsgeDggfCAwO1xuICAgIHgwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDUgKyB4MSB8IDA7XG4gICAgeDkgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHg5ICsgeDUgfCAwO1xuICAgIHgxMyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDEzICsgeDkgfCAwO1xuICAgIHgxIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgxICsgeDEzIHwgMDtcbiAgICB4NSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgxMCArIHg2IHwgMDtcbiAgICB4MTQgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxNCArIHgxMCB8IDA7XG4gICAgeDIgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHgyICsgeDE0IHwgMDtcbiAgICB4NiBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4NiArIHgyIHwgMDtcbiAgICB4MTAgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTUgKyB4MTEgfCAwO1xuICAgIHgzIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MyArIHgxNSB8IDA7XG4gICAgeDcgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHg3ICsgeDMgfCAwO1xuICAgIHgxMSBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MTEgKyB4NyB8IDA7XG4gICAgeDE1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDAgKyB4MyB8IDA7XG4gICAgeDEgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxICsgeDAgfCAwO1xuICAgIHgyIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MiArIHgxIHwgMDtcbiAgICB4MyBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MyArIHgyIHwgMDtcbiAgICB4MCBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHg1ICsgeDQgfCAwO1xuICAgIHg2IF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4NiArIHg1IHwgMDtcbiAgICB4NyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDcgKyB4NiB8IDA7XG4gICAgeDQgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDQgKyB4NyB8IDA7XG4gICAgeDUgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTAgKyB4OSB8IDA7XG4gICAgeDExIF49IHU8PDcgfCB1Pj4+KDMyLTcpO1xuICAgIHUgPSB4MTEgKyB4MTAgfCAwO1xuICAgIHg4IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4OCArIHgxMSB8IDA7XG4gICAgeDkgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDkgKyB4OCB8IDA7XG4gICAgeDEwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDE1ICsgeDE0IHwgMDtcbiAgICB4MTIgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxMiArIHgxNSB8IDA7XG4gICAgeDEzIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MTMgKyB4MTIgfCAwO1xuICAgIHgxNCBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MTQgKyB4MTMgfCAwO1xuICAgIHgxNSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuICB9XG4gICB4MCA9ICB4MCArICBqMCB8IDA7XG4gICB4MSA9ICB4MSArICBqMSB8IDA7XG4gICB4MiA9ICB4MiArICBqMiB8IDA7XG4gICB4MyA9ICB4MyArICBqMyB8IDA7XG4gICB4NCA9ICB4NCArICBqNCB8IDA7XG4gICB4NSA9ICB4NSArICBqNSB8IDA7XG4gICB4NiA9ICB4NiArICBqNiB8IDA7XG4gICB4NyA9ICB4NyArICBqNyB8IDA7XG4gICB4OCA9ICB4OCArICBqOCB8IDA7XG4gICB4OSA9ICB4OSArICBqOSB8IDA7XG4gIHgxMCA9IHgxMCArIGoxMCB8IDA7XG4gIHgxMSA9IHgxMSArIGoxMSB8IDA7XG4gIHgxMiA9IHgxMiArIGoxMiB8IDA7XG4gIHgxMyA9IHgxMyArIGoxMyB8IDA7XG4gIHgxNCA9IHgxNCArIGoxNCB8IDA7XG4gIHgxNSA9IHgxNSArIGoxNSB8IDA7XG5cbiAgb1sgMF0gPSB4MCA+Pj4gIDAgJiAweGZmO1xuICBvWyAxXSA9IHgwID4+PiAgOCAmIDB4ZmY7XG4gIG9bIDJdID0geDAgPj4+IDE2ICYgMHhmZjtcbiAgb1sgM10gPSB4MCA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bIDRdID0geDEgPj4+ICAwICYgMHhmZjtcbiAgb1sgNV0gPSB4MSA+Pj4gIDggJiAweGZmO1xuICBvWyA2XSA9IHgxID4+PiAxNiAmIDB4ZmY7XG4gIG9bIDddID0geDEgPj4+IDI0ICYgMHhmZjtcblxuICBvWyA4XSA9IHgyID4+PiAgMCAmIDB4ZmY7XG4gIG9bIDldID0geDIgPj4+ICA4ICYgMHhmZjtcbiAgb1sxMF0gPSB4MiA+Pj4gMTYgJiAweGZmO1xuICBvWzExXSA9IHgyID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1sxMl0gPSB4MyA+Pj4gIDAgJiAweGZmO1xuICBvWzEzXSA9IHgzID4+PiAgOCAmIDB4ZmY7XG4gIG9bMTRdID0geDMgPj4+IDE2ICYgMHhmZjtcbiAgb1sxNV0gPSB4MyA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMTZdID0geDQgPj4+ICAwICYgMHhmZjtcbiAgb1sxN10gPSB4NCA+Pj4gIDggJiAweGZmO1xuICBvWzE4XSA9IHg0ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMTldID0geDQgPj4+IDI0ICYgMHhmZjtcblxuICBvWzIwXSA9IHg1ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMjFdID0geDUgPj4+ICA4ICYgMHhmZjtcbiAgb1syMl0gPSB4NSA+Pj4gMTYgJiAweGZmO1xuICBvWzIzXSA9IHg1ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1syNF0gPSB4NiA+Pj4gIDAgJiAweGZmO1xuICBvWzI1XSA9IHg2ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMjZdID0geDYgPj4+IDE2ICYgMHhmZjtcbiAgb1syN10gPSB4NiA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMjhdID0geDcgPj4+ICAwICYgMHhmZjtcbiAgb1syOV0gPSB4NyA+Pj4gIDggJiAweGZmO1xuICBvWzMwXSA9IHg3ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMzFdID0geDcgPj4+IDI0ICYgMHhmZjtcblxuICBvWzMyXSA9IHg4ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMzNdID0geDggPj4+ICA4ICYgMHhmZjtcbiAgb1szNF0gPSB4OCA+Pj4gMTYgJiAweGZmO1xuICBvWzM1XSA9IHg4ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1szNl0gPSB4OSA+Pj4gIDAgJiAweGZmO1xuICBvWzM3XSA9IHg5ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMzhdID0geDkgPj4+IDE2ICYgMHhmZjtcbiAgb1szOV0gPSB4OSA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bNDBdID0geDEwID4+PiAgMCAmIDB4ZmY7XG4gIG9bNDFdID0geDEwID4+PiAgOCAmIDB4ZmY7XG4gIG9bNDJdID0geDEwID4+PiAxNiAmIDB4ZmY7XG4gIG9bNDNdID0geDEwID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1s0NF0gPSB4MTEgPj4+ICAwICYgMHhmZjtcbiAgb1s0NV0gPSB4MTEgPj4+ICA4ICYgMHhmZjtcbiAgb1s0Nl0gPSB4MTEgPj4+IDE2ICYgMHhmZjtcbiAgb1s0N10gPSB4MTEgPj4+IDI0ICYgMHhmZjtcblxuICBvWzQ4XSA9IHgxMiA+Pj4gIDAgJiAweGZmO1xuICBvWzQ5XSA9IHgxMiA+Pj4gIDggJiAweGZmO1xuICBvWzUwXSA9IHgxMiA+Pj4gMTYgJiAweGZmO1xuICBvWzUxXSA9IHgxMiA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bNTJdID0geDEzID4+PiAgMCAmIDB4ZmY7XG4gIG9bNTNdID0geDEzID4+PiAgOCAmIDB4ZmY7XG4gIG9bNTRdID0geDEzID4+PiAxNiAmIDB4ZmY7XG4gIG9bNTVdID0geDEzID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1s1Nl0gPSB4MTQgPj4+ICAwICYgMHhmZjtcbiAgb1s1N10gPSB4MTQgPj4+ICA4ICYgMHhmZjtcbiAgb1s1OF0gPSB4MTQgPj4+IDE2ICYgMHhmZjtcbiAgb1s1OV0gPSB4MTQgPj4+IDI0ICYgMHhmZjtcblxuICBvWzYwXSA9IHgxNSA+Pj4gIDAgJiAweGZmO1xuICBvWzYxXSA9IHgxNSA+Pj4gIDggJiAweGZmO1xuICBvWzYyXSA9IHgxNSA+Pj4gMTYgJiAweGZmO1xuICBvWzYzXSA9IHgxNSA+Pj4gMjQgJiAweGZmO1xufVxuXG5mdW5jdGlvbiBjb3JlX2hzYWxzYTIwKG8scCxrLGMpIHtcbiAgdmFyIGowICA9IGNbIDBdICYgMHhmZiB8IChjWyAxXSAmIDB4ZmYpPDw4IHwgKGNbIDJdICYgMHhmZik8PDE2IHwgKGNbIDNdICYgMHhmZik8PDI0LFxuICAgICAgajEgID0ga1sgMF0gJiAweGZmIHwgKGtbIDFdICYgMHhmZik8PDggfCAoa1sgMl0gJiAweGZmKTw8MTYgfCAoa1sgM10gJiAweGZmKTw8MjQsXG4gICAgICBqMiAgPSBrWyA0XSAmIDB4ZmYgfCAoa1sgNV0gJiAweGZmKTw8OCB8IChrWyA2XSAmIDB4ZmYpPDwxNiB8IChrWyA3XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGozICA9IGtbIDhdICYgMHhmZiB8IChrWyA5XSAmIDB4ZmYpPDw4IHwgKGtbMTBdICYgMHhmZik8PDE2IHwgKGtbMTFdICYgMHhmZik8PDI0LFxuICAgICAgajQgID0ga1sxMl0gJiAweGZmIHwgKGtbMTNdICYgMHhmZik8PDggfCAoa1sxNF0gJiAweGZmKTw8MTYgfCAoa1sxNV0gJiAweGZmKTw8MjQsXG4gICAgICBqNSAgPSBjWyA0XSAmIDB4ZmYgfCAoY1sgNV0gJiAweGZmKTw8OCB8IChjWyA2XSAmIDB4ZmYpPDwxNiB8IChjWyA3XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo2ICA9IHBbIDBdICYgMHhmZiB8IChwWyAxXSAmIDB4ZmYpPDw4IHwgKHBbIDJdICYgMHhmZik8PDE2IHwgKHBbIDNdICYgMHhmZik8PDI0LFxuICAgICAgajcgID0gcFsgNF0gJiAweGZmIHwgKHBbIDVdICYgMHhmZik8PDggfCAocFsgNl0gJiAweGZmKTw8MTYgfCAocFsgN10gJiAweGZmKTw8MjQsXG4gICAgICBqOCAgPSBwWyA4XSAmIDB4ZmYgfCAocFsgOV0gJiAweGZmKTw8OCB8IChwWzEwXSAmIDB4ZmYpPDwxNiB8IChwWzExXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGo5ICA9IHBbMTJdICYgMHhmZiB8IChwWzEzXSAmIDB4ZmYpPDw4IHwgKHBbMTRdICYgMHhmZik8PDE2IHwgKHBbMTVdICYgMHhmZik8PDI0LFxuICAgICAgajEwID0gY1sgOF0gJiAweGZmIHwgKGNbIDldICYgMHhmZik8PDggfCAoY1sxMF0gJiAweGZmKTw8MTYgfCAoY1sxMV0gJiAweGZmKTw8MjQsXG4gICAgICBqMTEgPSBrWzE2XSAmIDB4ZmYgfCAoa1sxN10gJiAweGZmKTw8OCB8IChrWzE4XSAmIDB4ZmYpPDwxNiB8IChrWzE5XSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxMiA9IGtbMjBdICYgMHhmZiB8IChrWzIxXSAmIDB4ZmYpPDw4IHwgKGtbMjJdICYgMHhmZik8PDE2IHwgKGtbMjNdICYgMHhmZik8PDI0LFxuICAgICAgajEzID0ga1syNF0gJiAweGZmIHwgKGtbMjVdICYgMHhmZik8PDggfCAoa1syNl0gJiAweGZmKTw8MTYgfCAoa1syN10gJiAweGZmKTw8MjQsXG4gICAgICBqMTQgPSBrWzI4XSAmIDB4ZmYgfCAoa1syOV0gJiAweGZmKTw8OCB8IChrWzMwXSAmIDB4ZmYpPDwxNiB8IChrWzMxXSAmIDB4ZmYpPDwyNCxcbiAgICAgIGoxNSA9IGNbMTJdICYgMHhmZiB8IChjWzEzXSAmIDB4ZmYpPDw4IHwgKGNbMTRdICYgMHhmZik8PDE2IHwgKGNbMTVdICYgMHhmZik8PDI0O1xuXG4gIHZhciB4MCA9IGowLCB4MSA9IGoxLCB4MiA9IGoyLCB4MyA9IGozLCB4NCA9IGo0LCB4NSA9IGo1LCB4NiA9IGo2LCB4NyA9IGo3LFxuICAgICAgeDggPSBqOCwgeDkgPSBqOSwgeDEwID0gajEwLCB4MTEgPSBqMTEsIHgxMiA9IGoxMiwgeDEzID0gajEzLCB4MTQgPSBqMTQsXG4gICAgICB4MTUgPSBqMTUsIHU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSArPSAyKSB7XG4gICAgdSA9IHgwICsgeDEyIHwgMDtcbiAgICB4NCBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDQgKyB4MCB8IDA7XG4gICAgeDggXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHg4ICsgeDQgfCAwO1xuICAgIHgxMiBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4MTIgKyB4OCB8IDA7XG4gICAgeDAgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4NSArIHgxIHwgMDtcbiAgICB4OSBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDkgKyB4NSB8IDA7XG4gICAgeDEzIF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4MTMgKyB4OSB8IDA7XG4gICAgeDEgXj0gdTw8MTMgfCB1Pj4+KDMyLTEzKTtcbiAgICB1ID0geDEgKyB4MTMgfCAwO1xuICAgIHg1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDEwICsgeDYgfCAwO1xuICAgIHgxNCBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDE0ICsgeDEwIHwgMDtcbiAgICB4MiBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDIgKyB4MTQgfCAwO1xuICAgIHg2IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHg2ICsgeDIgfCAwO1xuICAgIHgxMCBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgxNSArIHgxMSB8IDA7XG4gICAgeDMgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgzICsgeDE1IHwgMDtcbiAgICB4NyBePSB1PDw5IHwgdT4+PigzMi05KTtcbiAgICB1ID0geDcgKyB4MyB8IDA7XG4gICAgeDExIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgxMSArIHg3IHwgMDtcbiAgICB4MTUgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MCArIHgzIHwgMDtcbiAgICB4MSBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDEgKyB4MCB8IDA7XG4gICAgeDIgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHgyICsgeDEgfCAwO1xuICAgIHgzIF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgzICsgeDIgfCAwO1xuICAgIHgwIF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG5cbiAgICB1ID0geDUgKyB4NCB8IDA7XG4gICAgeDYgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHg2ICsgeDUgfCAwO1xuICAgIHg3IF49IHU8PDkgfCB1Pj4+KDMyLTkpO1xuICAgIHUgPSB4NyArIHg2IHwgMDtcbiAgICB4NCBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4NCArIHg3IHwgMDtcbiAgICB4NSBePSB1PDwxOCB8IHU+Pj4oMzItMTgpO1xuXG4gICAgdSA9IHgxMCArIHg5IHwgMDtcbiAgICB4MTEgXj0gdTw8NyB8IHU+Pj4oMzItNyk7XG4gICAgdSA9IHgxMSArIHgxMCB8IDA7XG4gICAgeDggXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHg4ICsgeDExIHwgMDtcbiAgICB4OSBePSB1PDwxMyB8IHU+Pj4oMzItMTMpO1xuICAgIHUgPSB4OSArIHg4IHwgMDtcbiAgICB4MTAgXj0gdTw8MTggfCB1Pj4+KDMyLTE4KTtcblxuICAgIHUgPSB4MTUgKyB4MTQgfCAwO1xuICAgIHgxMiBePSB1PDw3IHwgdT4+PigzMi03KTtcbiAgICB1ID0geDEyICsgeDE1IHwgMDtcbiAgICB4MTMgXj0gdTw8OSB8IHU+Pj4oMzItOSk7XG4gICAgdSA9IHgxMyArIHgxMiB8IDA7XG4gICAgeDE0IF49IHU8PDEzIHwgdT4+PigzMi0xMyk7XG4gICAgdSA9IHgxNCArIHgxMyB8IDA7XG4gICAgeDE1IF49IHU8PDE4IHwgdT4+PigzMi0xOCk7XG4gIH1cblxuICBvWyAwXSA9IHgwID4+PiAgMCAmIDB4ZmY7XG4gIG9bIDFdID0geDAgPj4+ICA4ICYgMHhmZjtcbiAgb1sgMl0gPSB4MCA+Pj4gMTYgJiAweGZmO1xuICBvWyAzXSA9IHgwID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1sgNF0gPSB4NSA+Pj4gIDAgJiAweGZmO1xuICBvWyA1XSA9IHg1ID4+PiAgOCAmIDB4ZmY7XG4gIG9bIDZdID0geDUgPj4+IDE2ICYgMHhmZjtcbiAgb1sgN10gPSB4NSA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bIDhdID0geDEwID4+PiAgMCAmIDB4ZmY7XG4gIG9bIDldID0geDEwID4+PiAgOCAmIDB4ZmY7XG4gIG9bMTBdID0geDEwID4+PiAxNiAmIDB4ZmY7XG4gIG9bMTFdID0geDEwID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1sxMl0gPSB4MTUgPj4+ICAwICYgMHhmZjtcbiAgb1sxM10gPSB4MTUgPj4+ICA4ICYgMHhmZjtcbiAgb1sxNF0gPSB4MTUgPj4+IDE2ICYgMHhmZjtcbiAgb1sxNV0gPSB4MTUgPj4+IDI0ICYgMHhmZjtcblxuICBvWzE2XSA9IHg2ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMTddID0geDYgPj4+ICA4ICYgMHhmZjtcbiAgb1sxOF0gPSB4NiA+Pj4gMTYgJiAweGZmO1xuICBvWzE5XSA9IHg2ID4+PiAyNCAmIDB4ZmY7XG5cbiAgb1syMF0gPSB4NyA+Pj4gIDAgJiAweGZmO1xuICBvWzIxXSA9IHg3ID4+PiAgOCAmIDB4ZmY7XG4gIG9bMjJdID0geDcgPj4+IDE2ICYgMHhmZjtcbiAgb1syM10gPSB4NyA+Pj4gMjQgJiAweGZmO1xuXG4gIG9bMjRdID0geDggPj4+ICAwICYgMHhmZjtcbiAgb1syNV0gPSB4OCA+Pj4gIDggJiAweGZmO1xuICBvWzI2XSA9IHg4ID4+PiAxNiAmIDB4ZmY7XG4gIG9bMjddID0geDggPj4+IDI0ICYgMHhmZjtcblxuICBvWzI4XSA9IHg5ID4+PiAgMCAmIDB4ZmY7XG4gIG9bMjldID0geDkgPj4+ICA4ICYgMHhmZjtcbiAgb1szMF0gPSB4OSA+Pj4gMTYgJiAweGZmO1xuICBvWzMxXSA9IHg5ID4+PiAyNCAmIDB4ZmY7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19jb3JlX3NhbHNhMjAob3V0LGlucCxrLGMpIHtcbiAgY29yZV9zYWxzYTIwKG91dCxpbnAsayxjKTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX2NvcmVfaHNhbHNhMjAob3V0LGlucCxrLGMpIHtcbiAgY29yZV9oc2Fsc2EyMChvdXQsaW5wLGssYyk7XG59XG5cbnZhciBzaWdtYSA9IG5ldyBVaW50OEFycmF5KFsxMDEsIDEyMCwgMTEyLCA5NywgMTEwLCAxMDAsIDMyLCA1MSwgNTAsIDQ1LCA5OCwgMTIxLCAxMTYsIDEwMSwgMzIsIDEwN10pO1xuICAgICAgICAgICAgLy8gXCJleHBhbmQgMzItYnl0ZSBrXCJcblxuZnVuY3Rpb24gY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvcihjLGNwb3MsbSxtcG9zLGIsbixrKSB7XG4gIHZhciB6ID0gbmV3IFVpbnQ4QXJyYXkoMTYpLCB4ID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB2YXIgdSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHpbaV0gPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB6W2ldID0gbltpXTtcbiAgd2hpbGUgKGIgPj0gNjQpIHtcbiAgICBjcnlwdG9fY29yZV9zYWxzYTIwKHgseixrLHNpZ21hKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykgY1tjcG9zK2ldID0gbVttcG9zK2ldIF4geFtpXTtcbiAgICB1ID0gMTtcbiAgICBmb3IgKGkgPSA4OyBpIDwgMTY7IGkrKykge1xuICAgICAgdSA9IHUgKyAoeltpXSAmIDB4ZmYpIHwgMDtcbiAgICAgIHpbaV0gPSB1ICYgMHhmZjtcbiAgICAgIHUgPj4+PSA4O1xuICAgIH1cbiAgICBiIC09IDY0O1xuICAgIGNwb3MgKz0gNjQ7XG4gICAgbXBvcyArPSA2NDtcbiAgfVxuICBpZiAoYiA+IDApIHtcbiAgICBjcnlwdG9fY29yZV9zYWxzYTIwKHgseixrLHNpZ21hKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYjsgaSsrKSBjW2Nwb3MraV0gPSBtW21wb3MraV0gXiB4W2ldO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc3RyZWFtX3NhbHNhMjAoYyxjcG9zLGIsbixrKSB7XG4gIHZhciB6ID0gbmV3IFVpbnQ4QXJyYXkoMTYpLCB4ID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB2YXIgdSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHpbaV0gPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB6W2ldID0gbltpXTtcbiAgd2hpbGUgKGIgPj0gNjQpIHtcbiAgICBjcnlwdG9fY29yZV9zYWxzYTIwKHgseixrLHNpZ21hKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykgY1tjcG9zK2ldID0geFtpXTtcbiAgICB1ID0gMTtcbiAgICBmb3IgKGkgPSA4OyBpIDwgMTY7IGkrKykge1xuICAgICAgdSA9IHUgKyAoeltpXSAmIDB4ZmYpIHwgMDtcbiAgICAgIHpbaV0gPSB1ICYgMHhmZjtcbiAgICAgIHUgPj4+PSA4O1xuICAgIH1cbiAgICBiIC09IDY0O1xuICAgIGNwb3MgKz0gNjQ7XG4gIH1cbiAgaWYgKGIgPiAwKSB7XG4gICAgY3J5cHRvX2NvcmVfc2Fsc2EyMCh4LHosayxzaWdtYSk7XG4gICAgZm9yIChpID0gMDsgaSA8IGI7IGkrKykgY1tjcG9zK2ldID0geFtpXTtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3N0cmVhbShjLGNwb3MsZCxuLGspIHtcbiAgdmFyIHMgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGNyeXB0b19jb3JlX2hzYWxzYTIwKHMsbixrLHNpZ21hKTtcbiAgdmFyIHNuID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSBzbltpXSA9IG5baSsxNl07XG4gIHJldHVybiBjcnlwdG9fc3RyZWFtX3NhbHNhMjAoYyxjcG9zLGQsc24scyk7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zdHJlYW1feG9yKGMsY3BvcyxtLG1wb3MsZCxuLGspIHtcbiAgdmFyIHMgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGNyeXB0b19jb3JlX2hzYWxzYTIwKHMsbixrLHNpZ21hKTtcbiAgdmFyIHNuID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSBzbltpXSA9IG5baSsxNl07XG4gIHJldHVybiBjcnlwdG9fc3RyZWFtX3NhbHNhMjBfeG9yKGMsY3BvcyxtLG1wb3MsZCxzbixzKTtcbn1cblxuLypcbiogUG9ydCBvZiBBbmRyZXcgTW9vbidzIFBvbHkxMzA1LWRvbm5hLTE2LiBQdWJsaWMgZG9tYWluLlxuKiBodHRwczovL2dpdGh1Yi5jb20vZmxvb2R5YmVycnkvcG9seTEzMDUtZG9ubmFcbiovXG5cbnZhciBwb2x5MTMwNSA9IGZ1bmN0aW9uKGtleSkge1xuICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgdGhpcy5yID0gbmV3IFVpbnQxNkFycmF5KDEwKTtcbiAgdGhpcy5oID0gbmV3IFVpbnQxNkFycmF5KDEwKTtcbiAgdGhpcy5wYWQgPSBuZXcgVWludDE2QXJyYXkoOCk7XG4gIHRoaXMubGVmdG92ZXIgPSAwO1xuICB0aGlzLmZpbiA9IDA7XG5cbiAgdmFyIHQwLCB0MSwgdDIsIHQzLCB0NCwgdDUsIHQ2LCB0NztcblxuICB0MCA9IGtleVsgMF0gJiAweGZmIHwgKGtleVsgMV0gJiAweGZmKSA8PCA4OyB0aGlzLnJbMF0gPSAoIHQwICAgICAgICAgICAgICAgICAgICAgKSAmIDB4MWZmZjtcbiAgdDEgPSBrZXlbIDJdICYgMHhmZiB8IChrZXlbIDNdICYgMHhmZikgPDwgODsgdGhpcy5yWzFdID0gKCh0MCA+Pj4gMTMpIHwgKHQxIDw8ICAzKSkgJiAweDFmZmY7XG4gIHQyID0ga2V5WyA0XSAmIDB4ZmYgfCAoa2V5WyA1XSAmIDB4ZmYpIDw8IDg7IHRoaXMuclsyXSA9ICgodDEgPj4+IDEwKSB8ICh0MiA8PCAgNikpICYgMHgxZjAzO1xuICB0MyA9IGtleVsgNl0gJiAweGZmIHwgKGtleVsgN10gJiAweGZmKSA8PCA4OyB0aGlzLnJbM10gPSAoKHQyID4+PiAgNykgfCAodDMgPDwgIDkpKSAmIDB4MWZmZjtcbiAgdDQgPSBrZXlbIDhdICYgMHhmZiB8IChrZXlbIDldICYgMHhmZikgPDwgODsgdGhpcy5yWzRdID0gKCh0MyA+Pj4gIDQpIHwgKHQ0IDw8IDEyKSkgJiAweDAwZmY7XG4gIHRoaXMucls1XSA9ICgodDQgPj4+ICAxKSkgJiAweDFmZmU7XG4gIHQ1ID0ga2V5WzEwXSAmIDB4ZmYgfCAoa2V5WzExXSAmIDB4ZmYpIDw8IDg7IHRoaXMucls2XSA9ICgodDQgPj4+IDE0KSB8ICh0NSA8PCAgMikpICYgMHgxZmZmO1xuICB0NiA9IGtleVsxMl0gJiAweGZmIHwgKGtleVsxM10gJiAweGZmKSA8PCA4OyB0aGlzLnJbN10gPSAoKHQ1ID4+PiAxMSkgfCAodDYgPDwgIDUpKSAmIDB4MWY4MTtcbiAgdDcgPSBrZXlbMTRdICYgMHhmZiB8IChrZXlbMTVdICYgMHhmZikgPDwgODsgdGhpcy5yWzhdID0gKCh0NiA+Pj4gIDgpIHwgKHQ3IDw8ICA4KSkgJiAweDFmZmY7XG4gIHRoaXMucls5XSA9ICgodDcgPj4+ICA1KSkgJiAweDAwN2Y7XG5cbiAgdGhpcy5wYWRbMF0gPSBrZXlbMTZdICYgMHhmZiB8IChrZXlbMTddICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbMV0gPSBrZXlbMThdICYgMHhmZiB8IChrZXlbMTldICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbMl0gPSBrZXlbMjBdICYgMHhmZiB8IChrZXlbMjFdICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbM10gPSBrZXlbMjJdICYgMHhmZiB8IChrZXlbMjNdICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbNF0gPSBrZXlbMjRdICYgMHhmZiB8IChrZXlbMjVdICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbNV0gPSBrZXlbMjZdICYgMHhmZiB8IChrZXlbMjddICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbNl0gPSBrZXlbMjhdICYgMHhmZiB8IChrZXlbMjldICYgMHhmZikgPDwgODtcbiAgdGhpcy5wYWRbN10gPSBrZXlbMzBdICYgMHhmZiB8IChrZXlbMzFdICYgMHhmZikgPDwgODtcbn07XG5cbnBvbHkxMzA1LnByb3RvdHlwZS5ibG9ja3MgPSBmdW5jdGlvbihtLCBtcG9zLCBieXRlcykge1xuICB2YXIgaGliaXQgPSB0aGlzLmZpbiA/IDAgOiAoMSA8PCAxMSk7XG4gIHZhciB0MCwgdDEsIHQyLCB0MywgdDQsIHQ1LCB0NiwgdDcsIGM7XG4gIHZhciBkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4LCBkOTtcblxuICB2YXIgaDAgPSB0aGlzLmhbMF0sXG4gICAgICBoMSA9IHRoaXMuaFsxXSxcbiAgICAgIGgyID0gdGhpcy5oWzJdLFxuICAgICAgaDMgPSB0aGlzLmhbM10sXG4gICAgICBoNCA9IHRoaXMuaFs0XSxcbiAgICAgIGg1ID0gdGhpcy5oWzVdLFxuICAgICAgaDYgPSB0aGlzLmhbNl0sXG4gICAgICBoNyA9IHRoaXMuaFs3XSxcbiAgICAgIGg4ID0gdGhpcy5oWzhdLFxuICAgICAgaDkgPSB0aGlzLmhbOV07XG5cbiAgdmFyIHIwID0gdGhpcy5yWzBdLFxuICAgICAgcjEgPSB0aGlzLnJbMV0sXG4gICAgICByMiA9IHRoaXMuclsyXSxcbiAgICAgIHIzID0gdGhpcy5yWzNdLFxuICAgICAgcjQgPSB0aGlzLnJbNF0sXG4gICAgICByNSA9IHRoaXMucls1XSxcbiAgICAgIHI2ID0gdGhpcy5yWzZdLFxuICAgICAgcjcgPSB0aGlzLnJbN10sXG4gICAgICByOCA9IHRoaXMucls4XSxcbiAgICAgIHI5ID0gdGhpcy5yWzldO1xuXG4gIHdoaWxlIChieXRlcyA+PSAxNikge1xuICAgIHQwID0gbVttcG9zKyAwXSAmIDB4ZmYgfCAobVttcG9zKyAxXSAmIDB4ZmYpIDw8IDg7IGgwICs9ICggdDAgICAgICAgICAgICAgICAgICAgICApICYgMHgxZmZmO1xuICAgIHQxID0gbVttcG9zKyAyXSAmIDB4ZmYgfCAobVttcG9zKyAzXSAmIDB4ZmYpIDw8IDg7IGgxICs9ICgodDAgPj4+IDEzKSB8ICh0MSA8PCAgMykpICYgMHgxZmZmO1xuICAgIHQyID0gbVttcG9zKyA0XSAmIDB4ZmYgfCAobVttcG9zKyA1XSAmIDB4ZmYpIDw8IDg7IGgyICs9ICgodDEgPj4+IDEwKSB8ICh0MiA8PCAgNikpICYgMHgxZmZmO1xuICAgIHQzID0gbVttcG9zKyA2XSAmIDB4ZmYgfCAobVttcG9zKyA3XSAmIDB4ZmYpIDw8IDg7IGgzICs9ICgodDIgPj4+ICA3KSB8ICh0MyA8PCAgOSkpICYgMHgxZmZmO1xuICAgIHQ0ID0gbVttcG9zKyA4XSAmIDB4ZmYgfCAobVttcG9zKyA5XSAmIDB4ZmYpIDw8IDg7IGg0ICs9ICgodDMgPj4+ICA0KSB8ICh0NCA8PCAxMikpICYgMHgxZmZmO1xuICAgIGg1ICs9ICgodDQgPj4+ICAxKSkgJiAweDFmZmY7XG4gICAgdDUgPSBtW21wb3MrMTBdICYgMHhmZiB8IChtW21wb3MrMTFdICYgMHhmZikgPDwgODsgaDYgKz0gKCh0NCA+Pj4gMTQpIHwgKHQ1IDw8ICAyKSkgJiAweDFmZmY7XG4gICAgdDYgPSBtW21wb3MrMTJdICYgMHhmZiB8IChtW21wb3MrMTNdICYgMHhmZikgPDwgODsgaDcgKz0gKCh0NSA+Pj4gMTEpIHwgKHQ2IDw8ICA1KSkgJiAweDFmZmY7XG4gICAgdDcgPSBtW21wb3MrMTRdICYgMHhmZiB8IChtW21wb3MrMTVdICYgMHhmZikgPDwgODsgaDggKz0gKCh0NiA+Pj4gIDgpIHwgKHQ3IDw8ICA4KSkgJiAweDFmZmY7XG4gICAgaDkgKz0gKCh0NyA+Pj4gNSkpIHwgaGliaXQ7XG5cbiAgICBjID0gMDtcblxuICAgIGQwID0gYztcbiAgICBkMCArPSBoMCAqIHIwO1xuICAgIGQwICs9IGgxICogKDUgKiByOSk7XG4gICAgZDAgKz0gaDIgKiAoNSAqIHI4KTtcbiAgICBkMCArPSBoMyAqICg1ICogcjcpO1xuICAgIGQwICs9IGg0ICogKDUgKiByNik7XG4gICAgYyA9IChkMCA+Pj4gMTMpOyBkMCAmPSAweDFmZmY7XG4gICAgZDAgKz0gaDUgKiAoNSAqIHI1KTtcbiAgICBkMCArPSBoNiAqICg1ICogcjQpO1xuICAgIGQwICs9IGg3ICogKDUgKiByMyk7XG4gICAgZDAgKz0gaDggKiAoNSAqIHIyKTtcbiAgICBkMCArPSBoOSAqICg1ICogcjEpO1xuICAgIGMgKz0gKGQwID4+PiAxMyk7IGQwICY9IDB4MWZmZjtcblxuICAgIGQxID0gYztcbiAgICBkMSArPSBoMCAqIHIxO1xuICAgIGQxICs9IGgxICogcjA7XG4gICAgZDEgKz0gaDIgKiAoNSAqIHI5KTtcbiAgICBkMSArPSBoMyAqICg1ICogcjgpO1xuICAgIGQxICs9IGg0ICogKDUgKiByNyk7XG4gICAgYyA9IChkMSA+Pj4gMTMpOyBkMSAmPSAweDFmZmY7XG4gICAgZDEgKz0gaDUgKiAoNSAqIHI2KTtcbiAgICBkMSArPSBoNiAqICg1ICogcjUpO1xuICAgIGQxICs9IGg3ICogKDUgKiByNCk7XG4gICAgZDEgKz0gaDggKiAoNSAqIHIzKTtcbiAgICBkMSArPSBoOSAqICg1ICogcjIpO1xuICAgIGMgKz0gKGQxID4+PiAxMyk7IGQxICY9IDB4MWZmZjtcblxuICAgIGQyID0gYztcbiAgICBkMiArPSBoMCAqIHIyO1xuICAgIGQyICs9IGgxICogcjE7XG4gICAgZDIgKz0gaDIgKiByMDtcbiAgICBkMiArPSBoMyAqICg1ICogcjkpO1xuICAgIGQyICs9IGg0ICogKDUgKiByOCk7XG4gICAgYyA9IChkMiA+Pj4gMTMpOyBkMiAmPSAweDFmZmY7XG4gICAgZDIgKz0gaDUgKiAoNSAqIHI3KTtcbiAgICBkMiArPSBoNiAqICg1ICogcjYpO1xuICAgIGQyICs9IGg3ICogKDUgKiByNSk7XG4gICAgZDIgKz0gaDggKiAoNSAqIHI0KTtcbiAgICBkMiArPSBoOSAqICg1ICogcjMpO1xuICAgIGMgKz0gKGQyID4+PiAxMyk7IGQyICY9IDB4MWZmZjtcblxuICAgIGQzID0gYztcbiAgICBkMyArPSBoMCAqIHIzO1xuICAgIGQzICs9IGgxICogcjI7XG4gICAgZDMgKz0gaDIgKiByMTtcbiAgICBkMyArPSBoMyAqIHIwO1xuICAgIGQzICs9IGg0ICogKDUgKiByOSk7XG4gICAgYyA9IChkMyA+Pj4gMTMpOyBkMyAmPSAweDFmZmY7XG4gICAgZDMgKz0gaDUgKiAoNSAqIHI4KTtcbiAgICBkMyArPSBoNiAqICg1ICogcjcpO1xuICAgIGQzICs9IGg3ICogKDUgKiByNik7XG4gICAgZDMgKz0gaDggKiAoNSAqIHI1KTtcbiAgICBkMyArPSBoOSAqICg1ICogcjQpO1xuICAgIGMgKz0gKGQzID4+PiAxMyk7IGQzICY9IDB4MWZmZjtcblxuICAgIGQ0ID0gYztcbiAgICBkNCArPSBoMCAqIHI0O1xuICAgIGQ0ICs9IGgxICogcjM7XG4gICAgZDQgKz0gaDIgKiByMjtcbiAgICBkNCArPSBoMyAqIHIxO1xuICAgIGQ0ICs9IGg0ICogcjA7XG4gICAgYyA9IChkNCA+Pj4gMTMpOyBkNCAmPSAweDFmZmY7XG4gICAgZDQgKz0gaDUgKiAoNSAqIHI5KTtcbiAgICBkNCArPSBoNiAqICg1ICogcjgpO1xuICAgIGQ0ICs9IGg3ICogKDUgKiByNyk7XG4gICAgZDQgKz0gaDggKiAoNSAqIHI2KTtcbiAgICBkNCArPSBoOSAqICg1ICogcjUpO1xuICAgIGMgKz0gKGQ0ID4+PiAxMyk7IGQ0ICY9IDB4MWZmZjtcblxuICAgIGQ1ID0gYztcbiAgICBkNSArPSBoMCAqIHI1O1xuICAgIGQ1ICs9IGgxICogcjQ7XG4gICAgZDUgKz0gaDIgKiByMztcbiAgICBkNSArPSBoMyAqIHIyO1xuICAgIGQ1ICs9IGg0ICogcjE7XG4gICAgYyA9IChkNSA+Pj4gMTMpOyBkNSAmPSAweDFmZmY7XG4gICAgZDUgKz0gaDUgKiByMDtcbiAgICBkNSArPSBoNiAqICg1ICogcjkpO1xuICAgIGQ1ICs9IGg3ICogKDUgKiByOCk7XG4gICAgZDUgKz0gaDggKiAoNSAqIHI3KTtcbiAgICBkNSArPSBoOSAqICg1ICogcjYpO1xuICAgIGMgKz0gKGQ1ID4+PiAxMyk7IGQ1ICY9IDB4MWZmZjtcblxuICAgIGQ2ID0gYztcbiAgICBkNiArPSBoMCAqIHI2O1xuICAgIGQ2ICs9IGgxICogcjU7XG4gICAgZDYgKz0gaDIgKiByNDtcbiAgICBkNiArPSBoMyAqIHIzO1xuICAgIGQ2ICs9IGg0ICogcjI7XG4gICAgYyA9IChkNiA+Pj4gMTMpOyBkNiAmPSAweDFmZmY7XG4gICAgZDYgKz0gaDUgKiByMTtcbiAgICBkNiArPSBoNiAqIHIwO1xuICAgIGQ2ICs9IGg3ICogKDUgKiByOSk7XG4gICAgZDYgKz0gaDggKiAoNSAqIHI4KTtcbiAgICBkNiArPSBoOSAqICg1ICogcjcpO1xuICAgIGMgKz0gKGQ2ID4+PiAxMyk7IGQ2ICY9IDB4MWZmZjtcblxuICAgIGQ3ID0gYztcbiAgICBkNyArPSBoMCAqIHI3O1xuICAgIGQ3ICs9IGgxICogcjY7XG4gICAgZDcgKz0gaDIgKiByNTtcbiAgICBkNyArPSBoMyAqIHI0O1xuICAgIGQ3ICs9IGg0ICogcjM7XG4gICAgYyA9IChkNyA+Pj4gMTMpOyBkNyAmPSAweDFmZmY7XG4gICAgZDcgKz0gaDUgKiByMjtcbiAgICBkNyArPSBoNiAqIHIxO1xuICAgIGQ3ICs9IGg3ICogcjA7XG4gICAgZDcgKz0gaDggKiAoNSAqIHI5KTtcbiAgICBkNyArPSBoOSAqICg1ICogcjgpO1xuICAgIGMgKz0gKGQ3ID4+PiAxMyk7IGQ3ICY9IDB4MWZmZjtcblxuICAgIGQ4ID0gYztcbiAgICBkOCArPSBoMCAqIHI4O1xuICAgIGQ4ICs9IGgxICogcjc7XG4gICAgZDggKz0gaDIgKiByNjtcbiAgICBkOCArPSBoMyAqIHI1O1xuICAgIGQ4ICs9IGg0ICogcjQ7XG4gICAgYyA9IChkOCA+Pj4gMTMpOyBkOCAmPSAweDFmZmY7XG4gICAgZDggKz0gaDUgKiByMztcbiAgICBkOCArPSBoNiAqIHIyO1xuICAgIGQ4ICs9IGg3ICogcjE7XG4gICAgZDggKz0gaDggKiByMDtcbiAgICBkOCArPSBoOSAqICg1ICogcjkpO1xuICAgIGMgKz0gKGQ4ID4+PiAxMyk7IGQ4ICY9IDB4MWZmZjtcblxuICAgIGQ5ID0gYztcbiAgICBkOSArPSBoMCAqIHI5O1xuICAgIGQ5ICs9IGgxICogcjg7XG4gICAgZDkgKz0gaDIgKiByNztcbiAgICBkOSArPSBoMyAqIHI2O1xuICAgIGQ5ICs9IGg0ICogcjU7XG4gICAgYyA9IChkOSA+Pj4gMTMpOyBkOSAmPSAweDFmZmY7XG4gICAgZDkgKz0gaDUgKiByNDtcbiAgICBkOSArPSBoNiAqIHIzO1xuICAgIGQ5ICs9IGg3ICogcjI7XG4gICAgZDkgKz0gaDggKiByMTtcbiAgICBkOSArPSBoOSAqIHIwO1xuICAgIGMgKz0gKGQ5ID4+PiAxMyk7IGQ5ICY9IDB4MWZmZjtcblxuICAgIGMgPSAoKChjIDw8IDIpICsgYykpIHwgMDtcbiAgICBjID0gKGMgKyBkMCkgfCAwO1xuICAgIGQwID0gYyAmIDB4MWZmZjtcbiAgICBjID0gKGMgPj4+IDEzKTtcbiAgICBkMSArPSBjO1xuXG4gICAgaDAgPSBkMDtcbiAgICBoMSA9IGQxO1xuICAgIGgyID0gZDI7XG4gICAgaDMgPSBkMztcbiAgICBoNCA9IGQ0O1xuICAgIGg1ID0gZDU7XG4gICAgaDYgPSBkNjtcbiAgICBoNyA9IGQ3O1xuICAgIGg4ID0gZDg7XG4gICAgaDkgPSBkOTtcblxuICAgIG1wb3MgKz0gMTY7XG4gICAgYnl0ZXMgLT0gMTY7XG4gIH1cbiAgdGhpcy5oWzBdID0gaDA7XG4gIHRoaXMuaFsxXSA9IGgxO1xuICB0aGlzLmhbMl0gPSBoMjtcbiAgdGhpcy5oWzNdID0gaDM7XG4gIHRoaXMuaFs0XSA9IGg0O1xuICB0aGlzLmhbNV0gPSBoNTtcbiAgdGhpcy5oWzZdID0gaDY7XG4gIHRoaXMuaFs3XSA9IGg3O1xuICB0aGlzLmhbOF0gPSBoODtcbiAgdGhpcy5oWzldID0gaDk7XG59O1xuXG5wb2x5MTMwNS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24obWFjLCBtYWNwb3MpIHtcbiAgdmFyIGcgPSBuZXcgVWludDE2QXJyYXkoMTApO1xuICB2YXIgYywgbWFzaywgZiwgaTtcblxuICBpZiAodGhpcy5sZWZ0b3Zlcikge1xuICAgIGkgPSB0aGlzLmxlZnRvdmVyO1xuICAgIHRoaXMuYnVmZmVyW2krK10gPSAxO1xuICAgIGZvciAoOyBpIDwgMTY7IGkrKykgdGhpcy5idWZmZXJbaV0gPSAwO1xuICAgIHRoaXMuZmluID0gMTtcbiAgICB0aGlzLmJsb2Nrcyh0aGlzLmJ1ZmZlciwgMCwgMTYpO1xuICB9XG5cbiAgYyA9IHRoaXMuaFsxXSA+Pj4gMTM7XG4gIHRoaXMuaFsxXSAmPSAweDFmZmY7XG4gIGZvciAoaSA9IDI7IGkgPCAxMDsgaSsrKSB7XG4gICAgdGhpcy5oW2ldICs9IGM7XG4gICAgYyA9IHRoaXMuaFtpXSA+Pj4gMTM7XG4gICAgdGhpcy5oW2ldICY9IDB4MWZmZjtcbiAgfVxuICB0aGlzLmhbMF0gKz0gKGMgKiA1KTtcbiAgYyA9IHRoaXMuaFswXSA+Pj4gMTM7XG4gIHRoaXMuaFswXSAmPSAweDFmZmY7XG4gIHRoaXMuaFsxXSArPSBjO1xuICBjID0gdGhpcy5oWzFdID4+PiAxMztcbiAgdGhpcy5oWzFdICY9IDB4MWZmZjtcbiAgdGhpcy5oWzJdICs9IGM7XG5cbiAgZ1swXSA9IHRoaXMuaFswXSArIDU7XG4gIGMgPSBnWzBdID4+PiAxMztcbiAgZ1swXSAmPSAweDFmZmY7XG4gIGZvciAoaSA9IDE7IGkgPCAxMDsgaSsrKSB7XG4gICAgZ1tpXSA9IHRoaXMuaFtpXSArIGM7XG4gICAgYyA9IGdbaV0gPj4+IDEzO1xuICAgIGdbaV0gJj0gMHgxZmZmO1xuICB9XG4gIGdbOV0gLT0gKDEgPDwgMTMpO1xuXG4gIG1hc2sgPSAoYyBeIDEpIC0gMTtcbiAgZm9yIChpID0gMDsgaSA8IDEwOyBpKyspIGdbaV0gJj0gbWFzaztcbiAgbWFzayA9IH5tYXNrO1xuICBmb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykgdGhpcy5oW2ldID0gKHRoaXMuaFtpXSAmIG1hc2spIHwgZ1tpXTtcblxuICB0aGlzLmhbMF0gPSAoKHRoaXMuaFswXSAgICAgICApIHwgKHRoaXMuaFsxXSA8PCAxMykgICAgICAgICAgICAgICAgICAgICkgJiAweGZmZmY7XG4gIHRoaXMuaFsxXSA9ICgodGhpcy5oWzFdID4+PiAgMykgfCAodGhpcy5oWzJdIDw8IDEwKSAgICAgICAgICAgICAgICAgICAgKSAmIDB4ZmZmZjtcbiAgdGhpcy5oWzJdID0gKCh0aGlzLmhbMl0gPj4+ICA2KSB8ICh0aGlzLmhbM10gPDwgIDcpICAgICAgICAgICAgICAgICAgICApICYgMHhmZmZmO1xuICB0aGlzLmhbM10gPSAoKHRoaXMuaFszXSA+Pj4gIDkpIHwgKHRoaXMuaFs0XSA8PCAgNCkgICAgICAgICAgICAgICAgICAgICkgJiAweGZmZmY7XG4gIHRoaXMuaFs0XSA9ICgodGhpcy5oWzRdID4+PiAxMikgfCAodGhpcy5oWzVdIDw8ICAxKSB8ICh0aGlzLmhbNl0gPDwgMTQpKSAmIDB4ZmZmZjtcbiAgdGhpcy5oWzVdID0gKCh0aGlzLmhbNl0gPj4+ICAyKSB8ICh0aGlzLmhbN10gPDwgMTEpICAgICAgICAgICAgICAgICAgICApICYgMHhmZmZmO1xuICB0aGlzLmhbNl0gPSAoKHRoaXMuaFs3XSA+Pj4gIDUpIHwgKHRoaXMuaFs4XSA8PCAgOCkgICAgICAgICAgICAgICAgICAgICkgJiAweGZmZmY7XG4gIHRoaXMuaFs3XSA9ICgodGhpcy5oWzhdID4+PiAgOCkgfCAodGhpcy5oWzldIDw8ICA1KSAgICAgICAgICAgICAgICAgICAgKSAmIDB4ZmZmZjtcblxuICBmID0gdGhpcy5oWzBdICsgdGhpcy5wYWRbMF07XG4gIHRoaXMuaFswXSA9IGYgJiAweGZmZmY7XG4gIGZvciAoaSA9IDE7IGkgPCA4OyBpKyspIHtcbiAgICBmID0gKCgodGhpcy5oW2ldICsgdGhpcy5wYWRbaV0pIHwgMCkgKyAoZiA+Pj4gMTYpKSB8IDA7XG4gICAgdGhpcy5oW2ldID0gZiAmIDB4ZmZmZjtcbiAgfVxuXG4gIG1hY1ttYWNwb3MrIDBdID0gKHRoaXMuaFswXSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyAxXSA9ICh0aGlzLmhbMF0gPj4+IDgpICYgMHhmZjtcbiAgbWFjW21hY3BvcysgMl0gPSAodGhpcy5oWzFdID4+PiAwKSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDNdID0gKHRoaXMuaFsxXSA+Pj4gOCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyA0XSA9ICh0aGlzLmhbMl0gPj4+IDApICYgMHhmZjtcbiAgbWFjW21hY3BvcysgNV0gPSAodGhpcy5oWzJdID4+PiA4KSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDZdID0gKHRoaXMuaFszXSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKyA3XSA9ICh0aGlzLmhbM10gPj4+IDgpICYgMHhmZjtcbiAgbWFjW21hY3BvcysgOF0gPSAodGhpcy5oWzRdID4+PiAwKSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrIDldID0gKHRoaXMuaFs0XSA+Pj4gOCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKzEwXSA9ICh0aGlzLmhbNV0gPj4+IDApICYgMHhmZjtcbiAgbWFjW21hY3BvcysxMV0gPSAodGhpcy5oWzVdID4+PiA4KSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrMTJdID0gKHRoaXMuaFs2XSA+Pj4gMCkgJiAweGZmO1xuICBtYWNbbWFjcG9zKzEzXSA9ICh0aGlzLmhbNl0gPj4+IDgpICYgMHhmZjtcbiAgbWFjW21hY3BvcysxNF0gPSAodGhpcy5oWzddID4+PiAwKSAmIDB4ZmY7XG4gIG1hY1ttYWNwb3MrMTVdID0gKHRoaXMuaFs3XSA+Pj4gOCkgJiAweGZmO1xufTtcblxucG9seTEzMDUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG0sIG1wb3MsIGJ5dGVzKSB7XG4gIHZhciBpLCB3YW50O1xuXG4gIGlmICh0aGlzLmxlZnRvdmVyKSB7XG4gICAgd2FudCA9ICgxNiAtIHRoaXMubGVmdG92ZXIpO1xuICAgIGlmICh3YW50ID4gYnl0ZXMpXG4gICAgICB3YW50ID0gYnl0ZXM7XG4gICAgZm9yIChpID0gMDsgaSA8IHdhbnQ7IGkrKylcbiAgICAgIHRoaXMuYnVmZmVyW3RoaXMubGVmdG92ZXIgKyBpXSA9IG1bbXBvcytpXTtcbiAgICBieXRlcyAtPSB3YW50O1xuICAgIG1wb3MgKz0gd2FudDtcbiAgICB0aGlzLmxlZnRvdmVyICs9IHdhbnQ7XG4gICAgaWYgKHRoaXMubGVmdG92ZXIgPCAxNilcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmJsb2Nrcyh0aGlzLmJ1ZmZlciwgMCwgMTYpO1xuICAgIHRoaXMubGVmdG92ZXIgPSAwO1xuICB9XG5cbiAgaWYgKGJ5dGVzID49IDE2KSB7XG4gICAgd2FudCA9IGJ5dGVzIC0gKGJ5dGVzICUgMTYpO1xuICAgIHRoaXMuYmxvY2tzKG0sIG1wb3MsIHdhbnQpO1xuICAgIG1wb3MgKz0gd2FudDtcbiAgICBieXRlcyAtPSB3YW50O1xuICB9XG5cbiAgaWYgKGJ5dGVzKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGJ5dGVzOyBpKyspXG4gICAgICB0aGlzLmJ1ZmZlclt0aGlzLmxlZnRvdmVyICsgaV0gPSBtW21wb3MraV07XG4gICAgdGhpcy5sZWZ0b3ZlciArPSBieXRlcztcbiAgfVxufTtcblxuZnVuY3Rpb24gY3J5cHRvX29uZXRpbWVhdXRoKG91dCwgb3V0cG9zLCBtLCBtcG9zLCBuLCBrKSB7XG4gIHZhciBzID0gbmV3IHBvbHkxMzA1KGspO1xuICBzLnVwZGF0ZShtLCBtcG9zLCBuKTtcbiAgcy5maW5pc2gob3V0LCBvdXRwb3MpO1xuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX29uZXRpbWVhdXRoX3ZlcmlmeShoLCBocG9zLCBtLCBtcG9zLCBuLCBrKSB7XG4gIHZhciB4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBjcnlwdG9fb25ldGltZWF1dGgoeCwwLG0sbXBvcyxuLGspO1xuICByZXR1cm4gY3J5cHRvX3ZlcmlmeV8xNihoLGhwb3MseCwwKTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3NlY3JldGJveChjLG0sZCxuLGspIHtcbiAgdmFyIGk7XG4gIGlmIChkIDwgMzIpIHJldHVybiAtMTtcbiAgY3J5cHRvX3N0cmVhbV94b3IoYywwLG0sMCxkLG4sayk7XG4gIGNyeXB0b19vbmV0aW1lYXV0aChjLCAxNiwgYywgMzIsIGQgLSAzMiwgYyk7XG4gIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSBjW2ldID0gMDtcbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zZWNyZXRib3hfb3BlbihtLGMsZCxuLGspIHtcbiAgdmFyIGk7XG4gIHZhciB4ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBpZiAoZCA8IDMyKSByZXR1cm4gLTE7XG4gIGNyeXB0b19zdHJlYW0oeCwwLDMyLG4sayk7XG4gIGlmIChjcnlwdG9fb25ldGltZWF1dGhfdmVyaWZ5KGMsIDE2LGMsIDMyLGQgLSAzMix4KSAhPT0gMCkgcmV0dXJuIC0xO1xuICBjcnlwdG9fc3RyZWFtX3hvcihtLDAsYywwLGQsbixrKTtcbiAgZm9yIChpID0gMDsgaSA8IDMyOyBpKyspIG1baV0gPSAwO1xuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gc2V0MjU1MTkociwgYSkge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHJbaV0gPSBhW2ldfDA7XG59XG5cbmZ1bmN0aW9uIGNhcjI1NTE5KG8pIHtcbiAgdmFyIGksIHYsIGMgPSAxO1xuICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIHYgPSBvW2ldICsgYyArIDY1NTM1O1xuICAgIGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7XG4gICAgb1tpXSA9IHYgLSBjICogNjU1MzY7XG4gIH1cbiAgb1swXSArPSBjLTEgKyAzNyAqIChjLTEpO1xufVxuXG5mdW5jdGlvbiBzZWwyNTUxOShwLCBxLCBiKSB7XG4gIHZhciB0LCBjID0gfihiLTEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICB0ID0gYyAmIChwW2ldIF4gcVtpXSk7XG4gICAgcFtpXSBePSB0O1xuICAgIHFbaV0gXj0gdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYWNrMjU1MTkobywgbikge1xuICB2YXIgaSwgaiwgYjtcbiAgdmFyIG0gPSBnZigpLCB0ID0gZ2YoKTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHRbaV0gPSBuW2ldO1xuICBjYXIyNTUxOSh0KTtcbiAgY2FyMjU1MTkodCk7XG4gIGNhcjI1NTE5KHQpO1xuICBmb3IgKGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgbVswXSA9IHRbMF0gLSAweGZmZWQ7XG4gICAgZm9yIChpID0gMTsgaSA8IDE1OyBpKyspIHtcbiAgICAgIG1baV0gPSB0W2ldIC0gMHhmZmZmIC0gKChtW2ktMV0+PjE2KSAmIDEpO1xuICAgICAgbVtpLTFdICY9IDB4ZmZmZjtcbiAgICB9XG4gICAgbVsxNV0gPSB0WzE1XSAtIDB4N2ZmZiAtICgobVsxNF0+PjE2KSAmIDEpO1xuICAgIGIgPSAobVsxNV0+PjE2KSAmIDE7XG4gICAgbVsxNF0gJj0gMHhmZmZmO1xuICAgIHNlbDI1NTE5KHQsIG0sIDEtYik7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICBvWzIqaV0gPSB0W2ldICYgMHhmZjtcbiAgICBvWzIqaSsxXSA9IHRbaV0+Pjg7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmVxMjU1MTkoYSwgYikge1xuICB2YXIgYyA9IG5ldyBVaW50OEFycmF5KDMyKSwgZCA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgcGFjazI1NTE5KGMsIGEpO1xuICBwYWNrMjU1MTkoZCwgYik7XG4gIHJldHVybiBjcnlwdG9fdmVyaWZ5XzMyKGMsIDAsIGQsIDApO1xufVxuXG5mdW5jdGlvbiBwYXIyNTUxOShhKSB7XG4gIHZhciBkID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBwYWNrMjU1MTkoZCwgYSk7XG4gIHJldHVybiBkWzBdICYgMTtcbn1cblxuZnVuY3Rpb24gdW5wYWNrMjU1MTkobywgbikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIG9baV0gPSBuWzIqaV0gKyAoblsyKmkrMV0gPDwgOCk7XG4gIG9bMTVdICY9IDB4N2ZmZjtcbn1cblxuZnVuY3Rpb24gQShvLCBhLCBiKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykgb1tpXSA9IGFbaV0gKyBiW2ldO1xufVxuXG5mdW5jdGlvbiBaKG8sIGEsIGIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSBvW2ldID0gYVtpXSAtIGJbaV07XG59XG5cbmZ1bmN0aW9uIE0obywgYSwgYikge1xuICB2YXIgdiwgYyxcbiAgICAgdDAgPSAwLCAgdDEgPSAwLCAgdDIgPSAwLCAgdDMgPSAwLCAgdDQgPSAwLCAgdDUgPSAwLCAgdDYgPSAwLCAgdDcgPSAwLFxuICAgICB0OCA9IDAsICB0OSA9IDAsIHQxMCA9IDAsIHQxMSA9IDAsIHQxMiA9IDAsIHQxMyA9IDAsIHQxNCA9IDAsIHQxNSA9IDAsXG4gICAgdDE2ID0gMCwgdDE3ID0gMCwgdDE4ID0gMCwgdDE5ID0gMCwgdDIwID0gMCwgdDIxID0gMCwgdDIyID0gMCwgdDIzID0gMCxcbiAgICB0MjQgPSAwLCB0MjUgPSAwLCB0MjYgPSAwLCB0MjcgPSAwLCB0MjggPSAwLCB0MjkgPSAwLCB0MzAgPSAwLFxuICAgIGIwID0gYlswXSxcbiAgICBiMSA9IGJbMV0sXG4gICAgYjIgPSBiWzJdLFxuICAgIGIzID0gYlszXSxcbiAgICBiNCA9IGJbNF0sXG4gICAgYjUgPSBiWzVdLFxuICAgIGI2ID0gYls2XSxcbiAgICBiNyA9IGJbN10sXG4gICAgYjggPSBiWzhdLFxuICAgIGI5ID0gYls5XSxcbiAgICBiMTAgPSBiWzEwXSxcbiAgICBiMTEgPSBiWzExXSxcbiAgICBiMTIgPSBiWzEyXSxcbiAgICBiMTMgPSBiWzEzXSxcbiAgICBiMTQgPSBiWzE0XSxcbiAgICBiMTUgPSBiWzE1XTtcblxuICB2ID0gYVswXTtcbiAgdDAgKz0gdiAqIGIwO1xuICB0MSArPSB2ICogYjE7XG4gIHQyICs9IHYgKiBiMjtcbiAgdDMgKz0gdiAqIGIzO1xuICB0NCArPSB2ICogYjQ7XG4gIHQ1ICs9IHYgKiBiNTtcbiAgdDYgKz0gdiAqIGI2O1xuICB0NyArPSB2ICogYjc7XG4gIHQ4ICs9IHYgKiBiODtcbiAgdDkgKz0gdiAqIGI5O1xuICB0MTAgKz0gdiAqIGIxMDtcbiAgdDExICs9IHYgKiBiMTE7XG4gIHQxMiArPSB2ICogYjEyO1xuICB0MTMgKz0gdiAqIGIxMztcbiAgdDE0ICs9IHYgKiBiMTQ7XG4gIHQxNSArPSB2ICogYjE1O1xuICB2ID0gYVsxXTtcbiAgdDEgKz0gdiAqIGIwO1xuICB0MiArPSB2ICogYjE7XG4gIHQzICs9IHYgKiBiMjtcbiAgdDQgKz0gdiAqIGIzO1xuICB0NSArPSB2ICogYjQ7XG4gIHQ2ICs9IHYgKiBiNTtcbiAgdDcgKz0gdiAqIGI2O1xuICB0OCArPSB2ICogYjc7XG4gIHQ5ICs9IHYgKiBiODtcbiAgdDEwICs9IHYgKiBiOTtcbiAgdDExICs9IHYgKiBiMTA7XG4gIHQxMiArPSB2ICogYjExO1xuICB0MTMgKz0gdiAqIGIxMjtcbiAgdDE0ICs9IHYgKiBiMTM7XG4gIHQxNSArPSB2ICogYjE0O1xuICB0MTYgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMl07XG4gIHQyICs9IHYgKiBiMDtcbiAgdDMgKz0gdiAqIGIxO1xuICB0NCArPSB2ICogYjI7XG4gIHQ1ICs9IHYgKiBiMztcbiAgdDYgKz0gdiAqIGI0O1xuICB0NyArPSB2ICogYjU7XG4gIHQ4ICs9IHYgKiBiNjtcbiAgdDkgKz0gdiAqIGI3O1xuICB0MTAgKz0gdiAqIGI4O1xuICB0MTEgKz0gdiAqIGI5O1xuICB0MTIgKz0gdiAqIGIxMDtcbiAgdDEzICs9IHYgKiBiMTE7XG4gIHQxNCArPSB2ICogYjEyO1xuICB0MTUgKz0gdiAqIGIxMztcbiAgdDE2ICs9IHYgKiBiMTQ7XG4gIHQxNyArPSB2ICogYjE1O1xuICB2ID0gYVszXTtcbiAgdDMgKz0gdiAqIGIwO1xuICB0NCArPSB2ICogYjE7XG4gIHQ1ICs9IHYgKiBiMjtcbiAgdDYgKz0gdiAqIGIzO1xuICB0NyArPSB2ICogYjQ7XG4gIHQ4ICs9IHYgKiBiNTtcbiAgdDkgKz0gdiAqIGI2O1xuICB0MTAgKz0gdiAqIGI3O1xuICB0MTEgKz0gdiAqIGI4O1xuICB0MTIgKz0gdiAqIGI5O1xuICB0MTMgKz0gdiAqIGIxMDtcbiAgdDE0ICs9IHYgKiBiMTE7XG4gIHQxNSArPSB2ICogYjEyO1xuICB0MTYgKz0gdiAqIGIxMztcbiAgdDE3ICs9IHYgKiBiMTQ7XG4gIHQxOCArPSB2ICogYjE1O1xuICB2ID0gYVs0XTtcbiAgdDQgKz0gdiAqIGIwO1xuICB0NSArPSB2ICogYjE7XG4gIHQ2ICs9IHYgKiBiMjtcbiAgdDcgKz0gdiAqIGIzO1xuICB0OCArPSB2ICogYjQ7XG4gIHQ5ICs9IHYgKiBiNTtcbiAgdDEwICs9IHYgKiBiNjtcbiAgdDExICs9IHYgKiBiNztcbiAgdDEyICs9IHYgKiBiODtcbiAgdDEzICs9IHYgKiBiOTtcbiAgdDE0ICs9IHYgKiBiMTA7XG4gIHQxNSArPSB2ICogYjExO1xuICB0MTYgKz0gdiAqIGIxMjtcbiAgdDE3ICs9IHYgKiBiMTM7XG4gIHQxOCArPSB2ICogYjE0O1xuICB0MTkgKz0gdiAqIGIxNTtcbiAgdiA9IGFbNV07XG4gIHQ1ICs9IHYgKiBiMDtcbiAgdDYgKz0gdiAqIGIxO1xuICB0NyArPSB2ICogYjI7XG4gIHQ4ICs9IHYgKiBiMztcbiAgdDkgKz0gdiAqIGI0O1xuICB0MTAgKz0gdiAqIGI1O1xuICB0MTEgKz0gdiAqIGI2O1xuICB0MTIgKz0gdiAqIGI3O1xuICB0MTMgKz0gdiAqIGI4O1xuICB0MTQgKz0gdiAqIGI5O1xuICB0MTUgKz0gdiAqIGIxMDtcbiAgdDE2ICs9IHYgKiBiMTE7XG4gIHQxNyArPSB2ICogYjEyO1xuICB0MTggKz0gdiAqIGIxMztcbiAgdDE5ICs9IHYgKiBiMTQ7XG4gIHQyMCArPSB2ICogYjE1O1xuICB2ID0gYVs2XTtcbiAgdDYgKz0gdiAqIGIwO1xuICB0NyArPSB2ICogYjE7XG4gIHQ4ICs9IHYgKiBiMjtcbiAgdDkgKz0gdiAqIGIzO1xuICB0MTAgKz0gdiAqIGI0O1xuICB0MTEgKz0gdiAqIGI1O1xuICB0MTIgKz0gdiAqIGI2O1xuICB0MTMgKz0gdiAqIGI3O1xuICB0MTQgKz0gdiAqIGI4O1xuICB0MTUgKz0gdiAqIGI5O1xuICB0MTYgKz0gdiAqIGIxMDtcbiAgdDE3ICs9IHYgKiBiMTE7XG4gIHQxOCArPSB2ICogYjEyO1xuICB0MTkgKz0gdiAqIGIxMztcbiAgdDIwICs9IHYgKiBiMTQ7XG4gIHQyMSArPSB2ICogYjE1O1xuICB2ID0gYVs3XTtcbiAgdDcgKz0gdiAqIGIwO1xuICB0OCArPSB2ICogYjE7XG4gIHQ5ICs9IHYgKiBiMjtcbiAgdDEwICs9IHYgKiBiMztcbiAgdDExICs9IHYgKiBiNDtcbiAgdDEyICs9IHYgKiBiNTtcbiAgdDEzICs9IHYgKiBiNjtcbiAgdDE0ICs9IHYgKiBiNztcbiAgdDE1ICs9IHYgKiBiODtcbiAgdDE2ICs9IHYgKiBiOTtcbiAgdDE3ICs9IHYgKiBiMTA7XG4gIHQxOCArPSB2ICogYjExO1xuICB0MTkgKz0gdiAqIGIxMjtcbiAgdDIwICs9IHYgKiBiMTM7XG4gIHQyMSArPSB2ICogYjE0O1xuICB0MjIgKz0gdiAqIGIxNTtcbiAgdiA9IGFbOF07XG4gIHQ4ICs9IHYgKiBiMDtcbiAgdDkgKz0gdiAqIGIxO1xuICB0MTAgKz0gdiAqIGIyO1xuICB0MTEgKz0gdiAqIGIzO1xuICB0MTIgKz0gdiAqIGI0O1xuICB0MTMgKz0gdiAqIGI1O1xuICB0MTQgKz0gdiAqIGI2O1xuICB0MTUgKz0gdiAqIGI3O1xuICB0MTYgKz0gdiAqIGI4O1xuICB0MTcgKz0gdiAqIGI5O1xuICB0MTggKz0gdiAqIGIxMDtcbiAgdDE5ICs9IHYgKiBiMTE7XG4gIHQyMCArPSB2ICogYjEyO1xuICB0MjEgKz0gdiAqIGIxMztcbiAgdDIyICs9IHYgKiBiMTQ7XG4gIHQyMyArPSB2ICogYjE1O1xuICB2ID0gYVs5XTtcbiAgdDkgKz0gdiAqIGIwO1xuICB0MTAgKz0gdiAqIGIxO1xuICB0MTEgKz0gdiAqIGIyO1xuICB0MTIgKz0gdiAqIGIzO1xuICB0MTMgKz0gdiAqIGI0O1xuICB0MTQgKz0gdiAqIGI1O1xuICB0MTUgKz0gdiAqIGI2O1xuICB0MTYgKz0gdiAqIGI3O1xuICB0MTcgKz0gdiAqIGI4O1xuICB0MTggKz0gdiAqIGI5O1xuICB0MTkgKz0gdiAqIGIxMDtcbiAgdDIwICs9IHYgKiBiMTE7XG4gIHQyMSArPSB2ICogYjEyO1xuICB0MjIgKz0gdiAqIGIxMztcbiAgdDIzICs9IHYgKiBiMTQ7XG4gIHQyNCArPSB2ICogYjE1O1xuICB2ID0gYVsxMF07XG4gIHQxMCArPSB2ICogYjA7XG4gIHQxMSArPSB2ICogYjE7XG4gIHQxMiArPSB2ICogYjI7XG4gIHQxMyArPSB2ICogYjM7XG4gIHQxNCArPSB2ICogYjQ7XG4gIHQxNSArPSB2ICogYjU7XG4gIHQxNiArPSB2ICogYjY7XG4gIHQxNyArPSB2ICogYjc7XG4gIHQxOCArPSB2ICogYjg7XG4gIHQxOSArPSB2ICogYjk7XG4gIHQyMCArPSB2ICogYjEwO1xuICB0MjEgKz0gdiAqIGIxMTtcbiAgdDIyICs9IHYgKiBiMTI7XG4gIHQyMyArPSB2ICogYjEzO1xuICB0MjQgKz0gdiAqIGIxNDtcbiAgdDI1ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzExXTtcbiAgdDExICs9IHYgKiBiMDtcbiAgdDEyICs9IHYgKiBiMTtcbiAgdDEzICs9IHYgKiBiMjtcbiAgdDE0ICs9IHYgKiBiMztcbiAgdDE1ICs9IHYgKiBiNDtcbiAgdDE2ICs9IHYgKiBiNTtcbiAgdDE3ICs9IHYgKiBiNjtcbiAgdDE4ICs9IHYgKiBiNztcbiAgdDE5ICs9IHYgKiBiODtcbiAgdDIwICs9IHYgKiBiOTtcbiAgdDIxICs9IHYgKiBiMTA7XG4gIHQyMiArPSB2ICogYjExO1xuICB0MjMgKz0gdiAqIGIxMjtcbiAgdDI0ICs9IHYgKiBiMTM7XG4gIHQyNSArPSB2ICogYjE0O1xuICB0MjYgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMTJdO1xuICB0MTIgKz0gdiAqIGIwO1xuICB0MTMgKz0gdiAqIGIxO1xuICB0MTQgKz0gdiAqIGIyO1xuICB0MTUgKz0gdiAqIGIzO1xuICB0MTYgKz0gdiAqIGI0O1xuICB0MTcgKz0gdiAqIGI1O1xuICB0MTggKz0gdiAqIGI2O1xuICB0MTkgKz0gdiAqIGI3O1xuICB0MjAgKz0gdiAqIGI4O1xuICB0MjEgKz0gdiAqIGI5O1xuICB0MjIgKz0gdiAqIGIxMDtcbiAgdDIzICs9IHYgKiBiMTE7XG4gIHQyNCArPSB2ICogYjEyO1xuICB0MjUgKz0gdiAqIGIxMztcbiAgdDI2ICs9IHYgKiBiMTQ7XG4gIHQyNyArPSB2ICogYjE1O1xuICB2ID0gYVsxM107XG4gIHQxMyArPSB2ICogYjA7XG4gIHQxNCArPSB2ICogYjE7XG4gIHQxNSArPSB2ICogYjI7XG4gIHQxNiArPSB2ICogYjM7XG4gIHQxNyArPSB2ICogYjQ7XG4gIHQxOCArPSB2ICogYjU7XG4gIHQxOSArPSB2ICogYjY7XG4gIHQyMCArPSB2ICogYjc7XG4gIHQyMSArPSB2ICogYjg7XG4gIHQyMiArPSB2ICogYjk7XG4gIHQyMyArPSB2ICogYjEwO1xuICB0MjQgKz0gdiAqIGIxMTtcbiAgdDI1ICs9IHYgKiBiMTI7XG4gIHQyNiArPSB2ICogYjEzO1xuICB0MjcgKz0gdiAqIGIxNDtcbiAgdDI4ICs9IHYgKiBiMTU7XG4gIHYgPSBhWzE0XTtcbiAgdDE0ICs9IHYgKiBiMDtcbiAgdDE1ICs9IHYgKiBiMTtcbiAgdDE2ICs9IHYgKiBiMjtcbiAgdDE3ICs9IHYgKiBiMztcbiAgdDE4ICs9IHYgKiBiNDtcbiAgdDE5ICs9IHYgKiBiNTtcbiAgdDIwICs9IHYgKiBiNjtcbiAgdDIxICs9IHYgKiBiNztcbiAgdDIyICs9IHYgKiBiODtcbiAgdDIzICs9IHYgKiBiOTtcbiAgdDI0ICs9IHYgKiBiMTA7XG4gIHQyNSArPSB2ICogYjExO1xuICB0MjYgKz0gdiAqIGIxMjtcbiAgdDI3ICs9IHYgKiBiMTM7XG4gIHQyOCArPSB2ICogYjE0O1xuICB0MjkgKz0gdiAqIGIxNTtcbiAgdiA9IGFbMTVdO1xuICB0MTUgKz0gdiAqIGIwO1xuICB0MTYgKz0gdiAqIGIxO1xuICB0MTcgKz0gdiAqIGIyO1xuICB0MTggKz0gdiAqIGIzO1xuICB0MTkgKz0gdiAqIGI0O1xuICB0MjAgKz0gdiAqIGI1O1xuICB0MjEgKz0gdiAqIGI2O1xuICB0MjIgKz0gdiAqIGI3O1xuICB0MjMgKz0gdiAqIGI4O1xuICB0MjQgKz0gdiAqIGI5O1xuICB0MjUgKz0gdiAqIGIxMDtcbiAgdDI2ICs9IHYgKiBiMTE7XG4gIHQyNyArPSB2ICogYjEyO1xuICB0MjggKz0gdiAqIGIxMztcbiAgdDI5ICs9IHYgKiBiMTQ7XG4gIHQzMCArPSB2ICogYjE1O1xuXG4gIHQwICArPSAzOCAqIHQxNjtcbiAgdDEgICs9IDM4ICogdDE3O1xuICB0MiAgKz0gMzggKiB0MTg7XG4gIHQzICArPSAzOCAqIHQxOTtcbiAgdDQgICs9IDM4ICogdDIwO1xuICB0NSAgKz0gMzggKiB0MjE7XG4gIHQ2ICArPSAzOCAqIHQyMjtcbiAgdDcgICs9IDM4ICogdDIzO1xuICB0OCAgKz0gMzggKiB0MjQ7XG4gIHQ5ICArPSAzOCAqIHQyNTtcbiAgdDEwICs9IDM4ICogdDI2O1xuICB0MTEgKz0gMzggKiB0Mjc7XG4gIHQxMiArPSAzOCAqIHQyODtcbiAgdDEzICs9IDM4ICogdDI5O1xuICB0MTQgKz0gMzggKiB0MzA7XG4gIC8vIHQxNSBsZWZ0IGFzIGlzXG5cbiAgLy8gZmlyc3QgY2FyXG4gIGMgPSAxO1xuICB2ID0gIHQwICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDAgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQxICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDEgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQyICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDIgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQzICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDMgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ0ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDQgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ1ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDUgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ2ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDYgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ3ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDcgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ4ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDggPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gIHQ5ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyAgdDkgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEwICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTAgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDExICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTEgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEyICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTIgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDEzICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTMgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDE0ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTQgPSB2IC0gYyAqIDY1NTM2O1xuICB2ID0gdDE1ICsgYyArIDY1NTM1OyBjID0gTWF0aC5mbG9vcih2IC8gNjU1MzYpOyB0MTUgPSB2IC0gYyAqIDY1NTM2O1xuICB0MCArPSBjLTEgKyAzNyAqIChjLTEpO1xuXG4gIC8vIHNlY29uZCBjYXJcbiAgYyA9IDE7XG4gIHYgPSAgdDAgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0MCA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDEgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0MSA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDIgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0MiA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDMgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0MyA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDQgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0NCA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDUgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0NSA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDYgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0NiA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDcgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0NyA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDggKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0OCA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSAgdDkgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7ICB0OSA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTAgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxMCA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTEgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxMSA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTIgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxMiA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTMgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxMyA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTQgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxNCA9IHYgLSBjICogNjU1MzY7XG4gIHYgPSB0MTUgKyBjICsgNjU1MzU7IGMgPSBNYXRoLmZsb29yKHYgLyA2NTUzNik7IHQxNSA9IHYgLSBjICogNjU1MzY7XG4gIHQwICs9IGMtMSArIDM3ICogKGMtMSk7XG5cbiAgb1sgMF0gPSB0MDtcbiAgb1sgMV0gPSB0MTtcbiAgb1sgMl0gPSB0MjtcbiAgb1sgM10gPSB0MztcbiAgb1sgNF0gPSB0NDtcbiAgb1sgNV0gPSB0NTtcbiAgb1sgNl0gPSB0NjtcbiAgb1sgN10gPSB0NztcbiAgb1sgOF0gPSB0ODtcbiAgb1sgOV0gPSB0OTtcbiAgb1sxMF0gPSB0MTA7XG4gIG9bMTFdID0gdDExO1xuICBvWzEyXSA9IHQxMjtcbiAgb1sxM10gPSB0MTM7XG4gIG9bMTRdID0gdDE0O1xuICBvWzE1XSA9IHQxNTtcbn1cblxuZnVuY3Rpb24gUyhvLCBhKSB7XG4gIE0obywgYSwgYSk7XG59XG5cbmZ1bmN0aW9uIGludjI1NTE5KG8sIGkpIHtcbiAgdmFyIGMgPSBnZigpO1xuICB2YXIgYTtcbiAgZm9yIChhID0gMDsgYSA8IDE2OyBhKyspIGNbYV0gPSBpW2FdO1xuICBmb3IgKGEgPSAyNTM7IGEgPj0gMDsgYS0tKSB7XG4gICAgUyhjLCBjKTtcbiAgICBpZihhICE9PSAyICYmIGEgIT09IDQpIE0oYywgYywgaSk7XG4gIH1cbiAgZm9yIChhID0gMDsgYSA8IDE2OyBhKyspIG9bYV0gPSBjW2FdO1xufVxuXG5mdW5jdGlvbiBwb3cyNTIzKG8sIGkpIHtcbiAgdmFyIGMgPSBnZigpO1xuICB2YXIgYTtcbiAgZm9yIChhID0gMDsgYSA8IDE2OyBhKyspIGNbYV0gPSBpW2FdO1xuICBmb3IgKGEgPSAyNTA7IGEgPj0gMDsgYS0tKSB7XG4gICAgICBTKGMsIGMpO1xuICAgICAgaWYoYSAhPT0gMSkgTShjLCBjLCBpKTtcbiAgfVxuICBmb3IgKGEgPSAwOyBhIDwgMTY7IGErKykgb1thXSA9IGNbYV07XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zY2FsYXJtdWx0KHEsIG4sIHApIHtcbiAgdmFyIHogPSBuZXcgVWludDhBcnJheSgzMik7XG4gIHZhciB4ID0gbmV3IEZsb2F0NjRBcnJheSg4MCksIHIsIGk7XG4gIHZhciBhID0gZ2YoKSwgYiA9IGdmKCksIGMgPSBnZigpLFxuICAgICAgZCA9IGdmKCksIGUgPSBnZigpLCBmID0gZ2YoKTtcbiAgZm9yIChpID0gMDsgaSA8IDMxOyBpKyspIHpbaV0gPSBuW2ldO1xuICB6WzMxXT0oblszMV0mMTI3KXw2NDtcbiAgelswXSY9MjQ4O1xuICB1bnBhY2syNTUxOSh4LHApO1xuICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIGJbaV09eFtpXTtcbiAgICBkW2ldPWFbaV09Y1tpXT0wO1xuICB9XG4gIGFbMF09ZFswXT0xO1xuICBmb3IgKGk9MjU0OyBpPj0wOyAtLWkpIHtcbiAgICByPSh6W2k+Pj4zXT4+PihpJjcpKSYxO1xuICAgIHNlbDI1NTE5KGEsYixyKTtcbiAgICBzZWwyNTUxOShjLGQscik7XG4gICAgQShlLGEsYyk7XG4gICAgWihhLGEsYyk7XG4gICAgQShjLGIsZCk7XG4gICAgWihiLGIsZCk7XG4gICAgUyhkLGUpO1xuICAgIFMoZixhKTtcbiAgICBNKGEsYyxhKTtcbiAgICBNKGMsYixlKTtcbiAgICBBKGUsYSxjKTtcbiAgICBaKGEsYSxjKTtcbiAgICBTKGIsYSk7XG4gICAgWihjLGQsZik7XG4gICAgTShhLGMsXzEyMTY2NSk7XG4gICAgQShhLGEsZCk7XG4gICAgTShjLGMsYSk7XG4gICAgTShhLGQsZik7XG4gICAgTShkLGIseCk7XG4gICAgUyhiLGUpO1xuICAgIHNlbDI1NTE5KGEsYixyKTtcbiAgICBzZWwyNTUxOShjLGQscik7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICB4W2krMTZdPWFbaV07XG4gICAgeFtpKzMyXT1jW2ldO1xuICAgIHhbaSs0OF09YltpXTtcbiAgICB4W2krNjRdPWRbaV07XG4gIH1cbiAgdmFyIHgzMiA9IHguc3ViYXJyYXkoMzIpO1xuICB2YXIgeDE2ID0geC5zdWJhcnJheSgxNik7XG4gIGludjI1NTE5KHgzMix4MzIpO1xuICBNKHgxNix4MTYseDMyKTtcbiAgcGFjazI1NTE5KHEseDE2KTtcbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19zY2FsYXJtdWx0X2Jhc2UocSwgbikge1xuICByZXR1cm4gY3J5cHRvX3NjYWxhcm11bHQocSwgbiwgXzkpO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fYm94X2tleXBhaXIoeSwgeCkge1xuICByYW5kb21ieXRlcyh4LCAzMik7XG4gIHJldHVybiBjcnlwdG9fc2NhbGFybXVsdF9iYXNlKHksIHgpO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fYm94X2JlZm9yZW5tKGssIHksIHgpIHtcbiAgdmFyIHMgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGNyeXB0b19zY2FsYXJtdWx0KHMsIHgsIHkpO1xuICByZXR1cm4gY3J5cHRvX2NvcmVfaHNhbHNhMjAoaywgXzAsIHMsIHNpZ21hKTtcbn1cblxudmFyIGNyeXB0b19ib3hfYWZ0ZXJubSA9IGNyeXB0b19zZWNyZXRib3g7XG52YXIgY3J5cHRvX2JveF9vcGVuX2FmdGVybm0gPSBjcnlwdG9fc2VjcmV0Ym94X29wZW47XG5cbmZ1bmN0aW9uIGNyeXB0b19ib3goYywgbSwgZCwgbiwgeSwgeCkge1xuICB2YXIgayA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgY3J5cHRvX2JveF9iZWZvcmVubShrLCB5LCB4KTtcbiAgcmV0dXJuIGNyeXB0b19ib3hfYWZ0ZXJubShjLCBtLCBkLCBuLCBrKTtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX2JveF9vcGVuKG0sIGMsIGQsIG4sIHksIHgpIHtcbiAgdmFyIGsgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIGNyeXB0b19ib3hfYmVmb3Jlbm0oaywgeSwgeCk7XG4gIHJldHVybiBjcnlwdG9fYm94X29wZW5fYWZ0ZXJubShtLCBjLCBkLCBuLCBrKTtcbn1cblxudmFyIEsgPSBbXG4gIDB4NDI4YTJmOTgsIDB4ZDcyOGFlMjIsIDB4NzEzNzQ0OTEsIDB4MjNlZjY1Y2QsXG4gIDB4YjVjMGZiY2YsIDB4ZWM0ZDNiMmYsIDB4ZTliNWRiYTUsIDB4ODE4OWRiYmMsXG4gIDB4Mzk1NmMyNWIsIDB4ZjM0OGI1MzgsIDB4NTlmMTExZjEsIDB4YjYwNWQwMTksXG4gIDB4OTIzZjgyYTQsIDB4YWYxOTRmOWIsIDB4YWIxYzVlZDUsIDB4ZGE2ZDgxMTgsXG4gIDB4ZDgwN2FhOTgsIDB4YTMwMzAyNDIsIDB4MTI4MzViMDEsIDB4NDU3MDZmYmUsXG4gIDB4MjQzMTg1YmUsIDB4NGVlNGIyOGMsIDB4NTUwYzdkYzMsIDB4ZDVmZmI0ZTIsXG4gIDB4NzJiZTVkNzQsIDB4ZjI3Yjg5NmYsIDB4ODBkZWIxZmUsIDB4M2IxNjk2YjEsXG4gIDB4OWJkYzA2YTcsIDB4MjVjNzEyMzUsIDB4YzE5YmYxNzQsIDB4Y2Y2OTI2OTQsXG4gIDB4ZTQ5YjY5YzEsIDB4OWVmMTRhZDIsIDB4ZWZiZTQ3ODYsIDB4Mzg0ZjI1ZTMsXG4gIDB4MGZjMTlkYzYsIDB4OGI4Y2Q1YjUsIDB4MjQwY2ExY2MsIDB4NzdhYzljNjUsXG4gIDB4MmRlOTJjNmYsIDB4NTkyYjAyNzUsIDB4NGE3NDg0YWEsIDB4NmVhNmU0ODMsXG4gIDB4NWNiMGE5ZGMsIDB4YmQ0MWZiZDQsIDB4NzZmOTg4ZGEsIDB4ODMxMTUzYjUsXG4gIDB4OTgzZTUxNTIsIDB4ZWU2NmRmYWIsIDB4YTgzMWM2NmQsIDB4MmRiNDMyMTAsXG4gIDB4YjAwMzI3YzgsIDB4OThmYjIxM2YsIDB4YmY1OTdmYzcsIDB4YmVlZjBlZTQsXG4gIDB4YzZlMDBiZjMsIDB4M2RhODhmYzIsIDB4ZDVhNzkxNDcsIDB4OTMwYWE3MjUsXG4gIDB4MDZjYTYzNTEsIDB4ZTAwMzgyNmYsIDB4MTQyOTI5NjcsIDB4MGEwZTZlNzAsXG4gIDB4MjdiNzBhODUsIDB4NDZkMjJmZmMsIDB4MmUxYjIxMzgsIDB4NWMyNmM5MjYsXG4gIDB4NGQyYzZkZmMsIDB4NWFjNDJhZWQsIDB4NTMzODBkMTMsIDB4OWQ5NWIzZGYsXG4gIDB4NjUwYTczNTQsIDB4OGJhZjYzZGUsIDB4NzY2YTBhYmIsIDB4M2M3N2IyYTgsXG4gIDB4ODFjMmM5MmUsIDB4NDdlZGFlZTYsIDB4OTI3MjJjODUsIDB4MTQ4MjM1M2IsXG4gIDB4YTJiZmU4YTEsIDB4NGNmMTAzNjQsIDB4YTgxYTY2NGIsIDB4YmM0MjMwMDEsXG4gIDB4YzI0YjhiNzAsIDB4ZDBmODk3OTEsIDB4Yzc2YzUxYTMsIDB4MDY1NGJlMzAsXG4gIDB4ZDE5MmU4MTksIDB4ZDZlZjUyMTgsIDB4ZDY5OTA2MjQsIDB4NTU2NWE5MTAsXG4gIDB4ZjQwZTM1ODUsIDB4NTc3MTIwMmEsIDB4MTA2YWEwNzAsIDB4MzJiYmQxYjgsXG4gIDB4MTlhNGMxMTYsIDB4YjhkMmQwYzgsIDB4MWUzNzZjMDgsIDB4NTE0MWFiNTMsXG4gIDB4Mjc0ODc3NGMsIDB4ZGY4ZWViOTksIDB4MzRiMGJjYjUsIDB4ZTE5YjQ4YTgsXG4gIDB4MzkxYzBjYjMsIDB4YzVjOTVhNjMsIDB4NGVkOGFhNGEsIDB4ZTM0MThhY2IsXG4gIDB4NWI5Y2NhNGYsIDB4Nzc2M2UzNzMsIDB4NjgyZTZmZjMsIDB4ZDZiMmI4YTMsXG4gIDB4NzQ4ZjgyZWUsIDB4NWRlZmIyZmMsIDB4NzhhNTYzNmYsIDB4NDMxNzJmNjAsXG4gIDB4ODRjODc4MTQsIDB4YTFmMGFiNzIsIDB4OGNjNzAyMDgsIDB4MWE2NDM5ZWMsXG4gIDB4OTBiZWZmZmEsIDB4MjM2MzFlMjgsIDB4YTQ1MDZjZWIsIDB4ZGU4MmJkZTksXG4gIDB4YmVmOWEzZjcsIDB4YjJjNjc5MTUsIDB4YzY3MTc4ZjIsIDB4ZTM3MjUzMmIsXG4gIDB4Y2EyNzNlY2UsIDB4ZWEyNjYxOWMsIDB4ZDE4NmI4YzcsIDB4MjFjMGMyMDcsXG4gIDB4ZWFkYTdkZDYsIDB4Y2RlMGViMWUsIDB4ZjU3ZDRmN2YsIDB4ZWU2ZWQxNzgsXG4gIDB4MDZmMDY3YWEsIDB4NzIxNzZmYmEsIDB4MGE2MzdkYzUsIDB4YTJjODk4YTYsXG4gIDB4MTEzZjk4MDQsIDB4YmVmOTBkYWUsIDB4MWI3MTBiMzUsIDB4MTMxYzQ3MWIsXG4gIDB4MjhkYjc3ZjUsIDB4MjMwNDdkODQsIDB4MzJjYWFiN2IsIDB4NDBjNzI0OTMsXG4gIDB4M2M5ZWJlMGEsIDB4MTVjOWJlYmMsIDB4NDMxZDY3YzQsIDB4OWMxMDBkNGMsXG4gIDB4NGNjNWQ0YmUsIDB4Y2IzZTQyYjYsIDB4NTk3ZjI5OWMsIDB4ZmM2NTdlMmEsXG4gIDB4NWZjYjZmYWIsIDB4M2FkNmZhZWMsIDB4NmM0NDE5OGMsIDB4NGE0NzU4MTdcbl07XG5cbmZ1bmN0aW9uIGNyeXB0b19oYXNoYmxvY2tzX2hsKGhoLCBobCwgbSwgbikge1xuICB2YXIgd2ggPSBuZXcgSW50MzJBcnJheSgxNiksIHdsID0gbmV3IEludDMyQXJyYXkoMTYpLFxuICAgICAgYmgwLCBiaDEsIGJoMiwgYmgzLCBiaDQsIGJoNSwgYmg2LCBiaDcsXG4gICAgICBibDAsIGJsMSwgYmwyLCBibDMsIGJsNCwgYmw1LCBibDYsIGJsNyxcbiAgICAgIHRoLCB0bCwgaSwgaiwgaCwgbCwgYSwgYiwgYywgZDtcblxuICB2YXIgYWgwID0gaGhbMF0sXG4gICAgICBhaDEgPSBoaFsxXSxcbiAgICAgIGFoMiA9IGhoWzJdLFxuICAgICAgYWgzID0gaGhbM10sXG4gICAgICBhaDQgPSBoaFs0XSxcbiAgICAgIGFoNSA9IGhoWzVdLFxuICAgICAgYWg2ID0gaGhbNl0sXG4gICAgICBhaDcgPSBoaFs3XSxcblxuICAgICAgYWwwID0gaGxbMF0sXG4gICAgICBhbDEgPSBobFsxXSxcbiAgICAgIGFsMiA9IGhsWzJdLFxuICAgICAgYWwzID0gaGxbM10sXG4gICAgICBhbDQgPSBobFs0XSxcbiAgICAgIGFsNSA9IGhsWzVdLFxuICAgICAgYWw2ID0gaGxbNl0sXG4gICAgICBhbDcgPSBobFs3XTtcblxuICB2YXIgcG9zID0gMDtcbiAgd2hpbGUgKG4gPj0gMTI4KSB7XG4gICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGogPSA4ICogaSArIHBvcztcbiAgICAgIHdoW2ldID0gKG1baiswXSA8PCAyNCkgfCAobVtqKzFdIDw8IDE2KSB8IChtW2orMl0gPDwgOCkgfCBtW2orM107XG4gICAgICB3bFtpXSA9IChtW2orNF0gPDwgMjQpIHwgKG1bais1XSA8PCAxNikgfCAobVtqKzZdIDw8IDgpIHwgbVtqKzddO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgODA7IGkrKykge1xuICAgICAgYmgwID0gYWgwO1xuICAgICAgYmgxID0gYWgxO1xuICAgICAgYmgyID0gYWgyO1xuICAgICAgYmgzID0gYWgzO1xuICAgICAgYmg0ID0gYWg0O1xuICAgICAgYmg1ID0gYWg1O1xuICAgICAgYmg2ID0gYWg2O1xuICAgICAgYmg3ID0gYWg3O1xuXG4gICAgICBibDAgPSBhbDA7XG4gICAgICBibDEgPSBhbDE7XG4gICAgICBibDIgPSBhbDI7XG4gICAgICBibDMgPSBhbDM7XG4gICAgICBibDQgPSBhbDQ7XG4gICAgICBibDUgPSBhbDU7XG4gICAgICBibDYgPSBhbDY7XG4gICAgICBibDcgPSBhbDc7XG5cbiAgICAgIC8vIGFkZFxuICAgICAgaCA9IGFoNztcbiAgICAgIGwgPSBhbDc7XG5cbiAgICAgIGEgPSBsICYgMHhmZmZmOyBiID0gbCA+Pj4gMTY7XG4gICAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgICAvLyBTaWdtYTFcbiAgICAgIGggPSAoKGFoNCA+Pj4gMTQpIHwgKGFsNCA8PCAoMzItMTQpKSkgXiAoKGFoNCA+Pj4gMTgpIHwgKGFsNCA8PCAoMzItMTgpKSkgXiAoKGFsNCA+Pj4gKDQxLTMyKSkgfCAoYWg0IDw8ICgzMi0oNDEtMzIpKSkpO1xuICAgICAgbCA9ICgoYWw0ID4+PiAxNCkgfCAoYWg0IDw8ICgzMi0xNCkpKSBeICgoYWw0ID4+PiAxOCkgfCAoYWg0IDw8ICgzMi0xOCkpKSBeICgoYWg0ID4+PiAoNDEtMzIpKSB8IChhbDQgPDwgKDMyLSg0MS0zMikpKSk7XG5cbiAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgLy8gQ2hcbiAgICAgIGggPSAoYWg0ICYgYWg1KSBeICh+YWg0ICYgYWg2KTtcbiAgICAgIGwgPSAoYWw0ICYgYWw1KSBeICh+YWw0ICYgYWw2KTtcblxuICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgYyArPSBoICYgMHhmZmZmOyBkICs9IGggPj4+IDE2O1xuXG4gICAgICAvLyBLXG4gICAgICBoID0gS1tpKjJdO1xuICAgICAgbCA9IEtbaSoyKzFdO1xuXG4gICAgICBhICs9IGwgJiAweGZmZmY7IGIgKz0gbCA+Pj4gMTY7XG4gICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgIC8vIHdcbiAgICAgIGggPSB3aFtpJTE2XTtcbiAgICAgIGwgPSB3bFtpJTE2XTtcblxuICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgYyArPSBoICYgMHhmZmZmOyBkICs9IGggPj4+IDE2O1xuXG4gICAgICBiICs9IGEgPj4+IDE2O1xuICAgICAgYyArPSBiID4+PiAxNjtcbiAgICAgIGQgKz0gYyA+Pj4gMTY7XG5cbiAgICAgIHRoID0gYyAmIDB4ZmZmZiB8IGQgPDwgMTY7XG4gICAgICB0bCA9IGEgJiAweGZmZmYgfCBiIDw8IDE2O1xuXG4gICAgICAvLyBhZGRcbiAgICAgIGggPSB0aDtcbiAgICAgIGwgPSB0bDtcblxuICAgICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICAgIC8vIFNpZ21hMFxuICAgICAgaCA9ICgoYWgwID4+PiAyOCkgfCAoYWwwIDw8ICgzMi0yOCkpKSBeICgoYWwwID4+PiAoMzQtMzIpKSB8IChhaDAgPDwgKDMyLSgzNC0zMikpKSkgXiAoKGFsMCA+Pj4gKDM5LTMyKSkgfCAoYWgwIDw8ICgzMi0oMzktMzIpKSkpO1xuICAgICAgbCA9ICgoYWwwID4+PiAyOCkgfCAoYWgwIDw8ICgzMi0yOCkpKSBeICgoYWgwID4+PiAoMzQtMzIpKSB8IChhbDAgPDwgKDMyLSgzNC0zMikpKSkgXiAoKGFoMCA+Pj4gKDM5LTMyKSkgfCAoYWwwIDw8ICgzMi0oMzktMzIpKSkpO1xuXG4gICAgICBhICs9IGwgJiAweGZmZmY7IGIgKz0gbCA+Pj4gMTY7XG4gICAgICBjICs9IGggJiAweGZmZmY7IGQgKz0gaCA+Pj4gMTY7XG5cbiAgICAgIC8vIE1halxuICAgICAgaCA9IChhaDAgJiBhaDEpIF4gKGFoMCAmIGFoMikgXiAoYWgxICYgYWgyKTtcbiAgICAgIGwgPSAoYWwwICYgYWwxKSBeIChhbDAgJiBhbDIpIF4gKGFsMSAmIGFsMik7XG5cbiAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgYiArPSBhID4+PiAxNjtcbiAgICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgICBiaDcgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgICBibDcgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICAgIC8vIGFkZFxuICAgICAgaCA9IGJoMztcbiAgICAgIGwgPSBibDM7XG5cbiAgICAgIGEgPSBsICYgMHhmZmZmOyBiID0gbCA+Pj4gMTY7XG4gICAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgICBoID0gdGg7XG4gICAgICBsID0gdGw7XG5cbiAgICAgIGEgKz0gbCAmIDB4ZmZmZjsgYiArPSBsID4+PiAxNjtcbiAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgYiArPSBhID4+PiAxNjtcbiAgICAgIGMgKz0gYiA+Pj4gMTY7XG4gICAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgICBiaDMgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgICBibDMgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICAgIGFoMSA9IGJoMDtcbiAgICAgIGFoMiA9IGJoMTtcbiAgICAgIGFoMyA9IGJoMjtcbiAgICAgIGFoNCA9IGJoMztcbiAgICAgIGFoNSA9IGJoNDtcbiAgICAgIGFoNiA9IGJoNTtcbiAgICAgIGFoNyA9IGJoNjtcbiAgICAgIGFoMCA9IGJoNztcblxuICAgICAgYWwxID0gYmwwO1xuICAgICAgYWwyID0gYmwxO1xuICAgICAgYWwzID0gYmwyO1xuICAgICAgYWw0ID0gYmwzO1xuICAgICAgYWw1ID0gYmw0O1xuICAgICAgYWw2ID0gYmw1O1xuICAgICAgYWw3ID0gYmw2O1xuICAgICAgYWwwID0gYmw3O1xuXG4gICAgICBpZiAoaSUxNiA9PT0gMTUpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAvLyBhZGRcbiAgICAgICAgICBoID0gd2hbal07XG4gICAgICAgICAgbCA9IHdsW2pdO1xuXG4gICAgICAgICAgYSA9IGwgJiAweGZmZmY7IGIgPSBsID4+PiAxNjtcbiAgICAgICAgICBjID0gaCAmIDB4ZmZmZjsgZCA9IGggPj4+IDE2O1xuXG4gICAgICAgICAgaCA9IHdoWyhqKzkpJTE2XTtcbiAgICAgICAgICBsID0gd2xbKGorOSklMTZdO1xuXG4gICAgICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgICAgIC8vIHNpZ21hMFxuICAgICAgICAgIHRoID0gd2hbKGorMSklMTZdO1xuICAgICAgICAgIHRsID0gd2xbKGorMSklMTZdO1xuICAgICAgICAgIGggPSAoKHRoID4+PiAxKSB8ICh0bCA8PCAoMzItMSkpKSBeICgodGggPj4+IDgpIHwgKHRsIDw8ICgzMi04KSkpIF4gKHRoID4+PiA3KTtcbiAgICAgICAgICBsID0gKCh0bCA+Pj4gMSkgfCAodGggPDwgKDMyLTEpKSkgXiAoKHRsID4+PiA4KSB8ICh0aCA8PCAoMzItOCkpKSBeICgodGwgPj4+IDcpIHwgKHRoIDw8ICgzMi03KSkpO1xuXG4gICAgICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgICAgIC8vIHNpZ21hMVxuICAgICAgICAgIHRoID0gd2hbKGorMTQpJTE2XTtcbiAgICAgICAgICB0bCA9IHdsWyhqKzE0KSUxNl07XG4gICAgICAgICAgaCA9ICgodGggPj4+IDE5KSB8ICh0bCA8PCAoMzItMTkpKSkgXiAoKHRsID4+PiAoNjEtMzIpKSB8ICh0aCA8PCAoMzItKDYxLTMyKSkpKSBeICh0aCA+Pj4gNik7XG4gICAgICAgICAgbCA9ICgodGwgPj4+IDE5KSB8ICh0aCA8PCAoMzItMTkpKSkgXiAoKHRoID4+PiAoNjEtMzIpKSB8ICh0bCA8PCAoMzItKDYxLTMyKSkpKSBeICgodGwgPj4+IDYpIHwgKHRoIDw8ICgzMi02KSkpO1xuXG4gICAgICAgICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgICAgICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgICAgICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgICAgICAgYyArPSBiID4+PiAxNjtcbiAgICAgICAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgICAgICAgd2hbal0gPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgICAgICAgd2xbal0gPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGRcbiAgICBoID0gYWgwO1xuICAgIGwgPSBhbDA7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbMF07XG4gICAgbCA9IGhsWzBdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbMF0gPSBhaDAgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbMF0gPSBhbDAgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWgxO1xuICAgIGwgPSBhbDE7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbMV07XG4gICAgbCA9IGhsWzFdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbMV0gPSBhaDEgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbMV0gPSBhbDEgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWgyO1xuICAgIGwgPSBhbDI7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbMl07XG4gICAgbCA9IGhsWzJdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbMl0gPSBhaDIgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbMl0gPSBhbDIgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWgzO1xuICAgIGwgPSBhbDM7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbM107XG4gICAgbCA9IGhsWzNdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbM10gPSBhaDMgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbM10gPSBhbDMgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWg0O1xuICAgIGwgPSBhbDQ7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbNF07XG4gICAgbCA9IGhsWzRdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbNF0gPSBhaDQgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbNF0gPSBhbDQgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWg1O1xuICAgIGwgPSBhbDU7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbNV07XG4gICAgbCA9IGhsWzVdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbNV0gPSBhaDUgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbNV0gPSBhbDUgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWg2O1xuICAgIGwgPSBhbDY7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbNl07XG4gICAgbCA9IGhsWzZdO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbNl0gPSBhaDYgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbNl0gPSBhbDYgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBoID0gYWg3O1xuICAgIGwgPSBhbDc7XG5cbiAgICBhID0gbCAmIDB4ZmZmZjsgYiA9IGwgPj4+IDE2O1xuICAgIGMgPSBoICYgMHhmZmZmOyBkID0gaCA+Pj4gMTY7XG5cbiAgICBoID0gaGhbN107XG4gICAgbCA9IGhsWzddO1xuXG4gICAgYSArPSBsICYgMHhmZmZmOyBiICs9IGwgPj4+IDE2O1xuICAgIGMgKz0gaCAmIDB4ZmZmZjsgZCArPSBoID4+PiAxNjtcblxuICAgIGIgKz0gYSA+Pj4gMTY7XG4gICAgYyArPSBiID4+PiAxNjtcbiAgICBkICs9IGMgPj4+IDE2O1xuXG4gICAgaGhbN10gPSBhaDcgPSAoYyAmIDB4ZmZmZikgfCAoZCA8PCAxNik7XG4gICAgaGxbN10gPSBhbDcgPSAoYSAmIDB4ZmZmZikgfCAoYiA8PCAxNik7XG5cbiAgICBwb3MgKz0gMTI4O1xuICAgIG4gLT0gMTI4O1xuICB9XG5cbiAgcmV0dXJuIG47XG59XG5cbmZ1bmN0aW9uIGNyeXB0b19oYXNoKG91dCwgbSwgbikge1xuICB2YXIgaGggPSBuZXcgSW50MzJBcnJheSg4KSxcbiAgICAgIGhsID0gbmV3IEludDMyQXJyYXkoOCksXG4gICAgICB4ID0gbmV3IFVpbnQ4QXJyYXkoMjU2KSxcbiAgICAgIGksIGIgPSBuO1xuXG4gIGhoWzBdID0gMHg2YTA5ZTY2NztcbiAgaGhbMV0gPSAweGJiNjdhZTg1O1xuICBoaFsyXSA9IDB4M2M2ZWYzNzI7XG4gIGhoWzNdID0gMHhhNTRmZjUzYTtcbiAgaGhbNF0gPSAweDUxMGU1MjdmO1xuICBoaFs1XSA9IDB4OWIwNTY4OGM7XG4gIGhoWzZdID0gMHgxZjgzZDlhYjtcbiAgaGhbN10gPSAweDViZTBjZDE5O1xuXG4gIGhsWzBdID0gMHhmM2JjYzkwODtcbiAgaGxbMV0gPSAweDg0Y2FhNzNiO1xuICBobFsyXSA9IDB4ZmU5NGY4MmI7XG4gIGhsWzNdID0gMHg1ZjFkMzZmMTtcbiAgaGxbNF0gPSAweGFkZTY4MmQxO1xuICBobFs1XSA9IDB4MmIzZTZjMWY7XG4gIGhsWzZdID0gMHhmYjQxYmQ2YjtcbiAgaGxbN10gPSAweDEzN2UyMTc5O1xuXG4gIGNyeXB0b19oYXNoYmxvY2tzX2hsKGhoLCBobCwgbSwgbik7XG4gIG4gJT0gMTI4O1xuXG4gIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHhbaV0gPSBtW2ItbitpXTtcbiAgeFtuXSA9IDEyODtcblxuICBuID0gMjU2LTEyOCoobjwxMTI/MTowKTtcbiAgeFtuLTldID0gMDtcbiAgdHM2NCh4LCBuLTgsICAoYiAvIDB4MjAwMDAwMDApIHwgMCwgYiA8PCAzKTtcbiAgY3J5cHRvX2hhc2hibG9ja3NfaGwoaGgsIGhsLCB4LCBuKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB0czY0KG91dCwgOCppLCBoaFtpXSwgaGxbaV0pO1xuXG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBhZGQocCwgcSkge1xuICB2YXIgYSA9IGdmKCksIGIgPSBnZigpLCBjID0gZ2YoKSxcbiAgICAgIGQgPSBnZigpLCBlID0gZ2YoKSwgZiA9IGdmKCksXG4gICAgICBnID0gZ2YoKSwgaCA9IGdmKCksIHQgPSBnZigpO1xuXG4gIFooYSwgcFsxXSwgcFswXSk7XG4gIFoodCwgcVsxXSwgcVswXSk7XG4gIE0oYSwgYSwgdCk7XG4gIEEoYiwgcFswXSwgcFsxXSk7XG4gIEEodCwgcVswXSwgcVsxXSk7XG4gIE0oYiwgYiwgdCk7XG4gIE0oYywgcFszXSwgcVszXSk7XG4gIE0oYywgYywgRDIpO1xuICBNKGQsIHBbMl0sIHFbMl0pO1xuICBBKGQsIGQsIGQpO1xuICBaKGUsIGIsIGEpO1xuICBaKGYsIGQsIGMpO1xuICBBKGcsIGQsIGMpO1xuICBBKGgsIGIsIGEpO1xuXG4gIE0ocFswXSwgZSwgZik7XG4gIE0ocFsxXSwgaCwgZyk7XG4gIE0ocFsyXSwgZywgZik7XG4gIE0ocFszXSwgZSwgaCk7XG59XG5cbmZ1bmN0aW9uIGNzd2FwKHAsIHEsIGIpIHtcbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBzZWwyNTUxOShwW2ldLCBxW2ldLCBiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYWNrKHIsIHApIHtcbiAgdmFyIHR4ID0gZ2YoKSwgdHkgPSBnZigpLCB6aSA9IGdmKCk7XG4gIGludjI1NTE5KHppLCBwWzJdKTtcbiAgTSh0eCwgcFswXSwgemkpO1xuICBNKHR5LCBwWzFdLCB6aSk7XG4gIHBhY2syNTUxOShyLCB0eSk7XG4gIHJbMzFdIF49IHBhcjI1NTE5KHR4KSA8PCA3O1xufVxuXG5mdW5jdGlvbiBzY2FsYXJtdWx0KHAsIHEsIHMpIHtcbiAgdmFyIGIsIGk7XG4gIHNldDI1NTE5KHBbMF0sIGdmMCk7XG4gIHNldDI1NTE5KHBbMV0sIGdmMSk7XG4gIHNldDI1NTE5KHBbMl0sIGdmMSk7XG4gIHNldDI1NTE5KHBbM10sIGdmMCk7XG4gIGZvciAoaSA9IDI1NTsgaSA+PSAwOyAtLWkpIHtcbiAgICBiID0gKHNbKGkvOCl8MF0gPj4gKGkmNykpICYgMTtcbiAgICBjc3dhcChwLCBxLCBiKTtcbiAgICBhZGQocSwgcCk7XG4gICAgYWRkKHAsIHApO1xuICAgIGNzd2FwKHAsIHEsIGIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNjYWxhcmJhc2UocCwgcykge1xuICB2YXIgcSA9IFtnZigpLCBnZigpLCBnZigpLCBnZigpXTtcbiAgc2V0MjU1MTkocVswXSwgWCk7XG4gIHNldDI1NTE5KHFbMV0sIFkpO1xuICBzZXQyNTUxOShxWzJdLCBnZjEpO1xuICBNKHFbM10sIFgsIFkpO1xuICBzY2FsYXJtdWx0KHAsIHEsIHMpO1xufVxuXG5mdW5jdGlvbiBjcnlwdG9fc2lnbl9rZXlwYWlyKHBrLCBzaywgc2VlZGVkKSB7XG4gIHZhciBkID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB2YXIgcCA9IFtnZigpLCBnZigpLCBnZigpLCBnZigpXTtcbiAgdmFyIGk7XG5cbiAgaWYgKCFzZWVkZWQpIHJhbmRvbWJ5dGVzKHNrLCAzMik7XG4gIGNyeXB0b19oYXNoKGQsIHNrLCAzMik7XG4gIGRbMF0gJj0gMjQ4O1xuICBkWzMxXSAmPSAxMjc7XG4gIGRbMzFdIHw9IDY0O1xuXG4gIHNjYWxhcmJhc2UocCwgZCk7XG4gIHBhY2socGssIHApO1xuXG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSBza1tpKzMyXSA9IHBrW2ldO1xuICByZXR1cm4gMDtcbn1cblxudmFyIEwgPSBuZXcgRmxvYXQ2NEFycmF5KFsweGVkLCAweGQzLCAweGY1LCAweDVjLCAweDFhLCAweDYzLCAweDEyLCAweDU4LCAweGQ2LCAweDljLCAweGY3LCAweGEyLCAweGRlLCAweGY5LCAweGRlLCAweDE0LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAweDEwXSk7XG5cbmZ1bmN0aW9uIG1vZEwociwgeCkge1xuICB2YXIgY2FycnksIGksIGosIGs7XG4gIGZvciAoaSA9IDYzOyBpID49IDMyOyAtLWkpIHtcbiAgICBjYXJyeSA9IDA7XG4gICAgZm9yIChqID0gaSAtIDMyLCBrID0gaSAtIDEyOyBqIDwgazsgKytqKSB7XG4gICAgICB4W2pdICs9IGNhcnJ5IC0gMTYgKiB4W2ldICogTFtqIC0gKGkgLSAzMildO1xuICAgICAgY2FycnkgPSAoeFtqXSArIDEyOCkgPj4gODtcbiAgICAgIHhbal0gLT0gY2FycnkgKiAyNTY7XG4gICAgfVxuICAgIHhbal0gKz0gY2Fycnk7XG4gICAgeFtpXSA9IDA7XG4gIH1cbiAgY2FycnkgPSAwO1xuICBmb3IgKGogPSAwOyBqIDwgMzI7IGorKykge1xuICAgIHhbal0gKz0gY2FycnkgLSAoeFszMV0gPj4gNCkgKiBMW2pdO1xuICAgIGNhcnJ5ID0geFtqXSA+PiA4O1xuICAgIHhbal0gJj0gMjU1O1xuICB9XG4gIGZvciAoaiA9IDA7IGogPCAzMjsgaisrKSB4W2pdIC09IGNhcnJ5ICogTFtqXTtcbiAgZm9yIChpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICB4W2krMV0gKz0geFtpXSA+PiA4O1xuICAgIHJbaV0gPSB4W2ldICYgMjU1O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZShyKSB7XG4gIHZhciB4ID0gbmV3IEZsb2F0NjRBcnJheSg2NCksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB4W2ldID0gcltpXTtcbiAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHJbaV0gPSAwO1xuICBtb2RMKHIsIHgpO1xufVxuXG4vLyBOb3RlOiBkaWZmZXJlbmNlIGZyb20gQyAtIHNtbGVuIHJldHVybmVkLCBub3QgcGFzc2VkIGFzIGFyZ3VtZW50LlxuZnVuY3Rpb24gY3J5cHRvX3NpZ24oc20sIG0sIG4sIHNrKSB7XG4gIHZhciBkID0gbmV3IFVpbnQ4QXJyYXkoNjQpLCBoID0gbmV3IFVpbnQ4QXJyYXkoNjQpLCByID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB2YXIgaSwgaiwgeCA9IG5ldyBGbG9hdDY0QXJyYXkoNjQpO1xuICB2YXIgcCA9IFtnZigpLCBnZigpLCBnZigpLCBnZigpXTtcblxuICBjcnlwdG9faGFzaChkLCBzaywgMzIpO1xuICBkWzBdICY9IDI0ODtcbiAgZFszMV0gJj0gMTI3O1xuICBkWzMxXSB8PSA2NDtcblxuICB2YXIgc21sZW4gPSBuICsgNjQ7XG4gIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHNtWzY0ICsgaV0gPSBtW2ldO1xuICBmb3IgKGkgPSAwOyBpIDwgMzI7IGkrKykgc21bMzIgKyBpXSA9IGRbMzIgKyBpXTtcblxuICBjcnlwdG9faGFzaChyLCBzbS5zdWJhcnJheSgzMiksIG4rMzIpO1xuICByZWR1Y2Uocik7XG4gIHNjYWxhcmJhc2UocCwgcik7XG4gIHBhY2soc20sIHApO1xuXG4gIGZvciAoaSA9IDMyOyBpIDwgNjQ7IGkrKykgc21baV0gPSBza1tpXTtcbiAgY3J5cHRvX2hhc2goaCwgc20sIG4gKyA2NCk7XG4gIHJlZHVjZShoKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykgeFtpXSA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSB4W2ldID0gcltpXTtcbiAgZm9yIChpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICBmb3IgKGogPSAwOyBqIDwgMzI7IGorKykge1xuICAgICAgeFtpK2pdICs9IGhbaV0gKiBkW2pdO1xuICAgIH1cbiAgfVxuXG4gIG1vZEwoc20uc3ViYXJyYXkoMzIpLCB4KTtcbiAgcmV0dXJuIHNtbGVuO1xufVxuXG5mdW5jdGlvbiB1bnBhY2tuZWcociwgcCkge1xuICB2YXIgdCA9IGdmKCksIGNoayA9IGdmKCksIG51bSA9IGdmKCksXG4gICAgICBkZW4gPSBnZigpLCBkZW4yID0gZ2YoKSwgZGVuNCA9IGdmKCksXG4gICAgICBkZW42ID0gZ2YoKTtcblxuICBzZXQyNTUxOShyWzJdLCBnZjEpO1xuICB1bnBhY2syNTUxOShyWzFdLCBwKTtcbiAgUyhudW0sIHJbMV0pO1xuICBNKGRlbiwgbnVtLCBEKTtcbiAgWihudW0sIG51bSwgclsyXSk7XG4gIEEoZGVuLCByWzJdLCBkZW4pO1xuXG4gIFMoZGVuMiwgZGVuKTtcbiAgUyhkZW40LCBkZW4yKTtcbiAgTShkZW42LCBkZW40LCBkZW4yKTtcbiAgTSh0LCBkZW42LCBudW0pO1xuICBNKHQsIHQsIGRlbik7XG5cbiAgcG93MjUyMyh0LCB0KTtcbiAgTSh0LCB0LCBudW0pO1xuICBNKHQsIHQsIGRlbik7XG4gIE0odCwgdCwgZGVuKTtcbiAgTShyWzBdLCB0LCBkZW4pO1xuXG4gIFMoY2hrLCByWzBdKTtcbiAgTShjaGssIGNoaywgZGVuKTtcbiAgaWYgKG5lcTI1NTE5KGNoaywgbnVtKSkgTShyWzBdLCByWzBdLCBJKTtcblxuICBTKGNoaywgclswXSk7XG4gIE0oY2hrLCBjaGssIGRlbik7XG4gIGlmIChuZXEyNTUxOShjaGssIG51bSkpIHJldHVybiAtMTtcblxuICBpZiAocGFyMjU1MTkoclswXSkgPT09IChwWzMxXT4+NykpIFooclswXSwgZ2YwLCByWzBdKTtcblxuICBNKHJbM10sIHJbMF0sIHJbMV0pO1xuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY3J5cHRvX3NpZ25fb3BlbihtLCBzbSwgbiwgcGspIHtcbiAgdmFyIGksIG1sZW47XG4gIHZhciB0ID0gbmV3IFVpbnQ4QXJyYXkoMzIpLCBoID0gbmV3IFVpbnQ4QXJyYXkoNjQpO1xuICB2YXIgcCA9IFtnZigpLCBnZigpLCBnZigpLCBnZigpXSxcbiAgICAgIHEgPSBbZ2YoKSwgZ2YoKSwgZ2YoKSwgZ2YoKV07XG5cbiAgbWxlbiA9IC0xO1xuICBpZiAobiA8IDY0KSByZXR1cm4gLTE7XG5cbiAgaWYgKHVucGFja25lZyhxLCBwaykpIHJldHVybiAtMTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSBtW2ldID0gc21baV07XG4gIGZvciAoaSA9IDA7IGkgPCAzMjsgaSsrKSBtW2krMzJdID0gcGtbaV07XG4gIGNyeXB0b19oYXNoKGgsIG0sIG4pO1xuICByZWR1Y2UoaCk7XG4gIHNjYWxhcm11bHQocCwgcSwgaCk7XG5cbiAgc2NhbGFyYmFzZShxLCBzbS5zdWJhcnJheSgzMikpO1xuICBhZGQocCwgcSk7XG4gIHBhY2sodCwgcCk7XG5cbiAgbiAtPSA2NDtcbiAgaWYgKGNyeXB0b192ZXJpZnlfMzIoc20sIDAsIHQsIDApKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgbVtpXSA9IDA7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgbVtpXSA9IHNtW2kgKyA2NF07XG4gIG1sZW4gPSBuO1xuICByZXR1cm4gbWxlbjtcbn1cblxudmFyIGNyeXB0b19zZWNyZXRib3hfS0VZQllURVMgPSAzMixcbiAgICBjcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVMgPSAyNCxcbiAgICBjcnlwdG9fc2VjcmV0Ym94X1pFUk9CWVRFUyA9IDMyLFxuICAgIGNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTID0gMTYsXG4gICAgY3J5cHRvX3NjYWxhcm11bHRfQllURVMgPSAzMixcbiAgICBjcnlwdG9fc2NhbGFybXVsdF9TQ0FMQVJCWVRFUyA9IDMyLFxuICAgIGNyeXB0b19ib3hfUFVCTElDS0VZQllURVMgPSAzMixcbiAgICBjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTID0gMzIsXG4gICAgY3J5cHRvX2JveF9CRUZPUkVOTUJZVEVTID0gMzIsXG4gICAgY3J5cHRvX2JveF9OT05DRUJZVEVTID0gY3J5cHRvX3NlY3JldGJveF9OT05DRUJZVEVTLFxuICAgIGNyeXB0b19ib3hfWkVST0JZVEVTID0gY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMsXG4gICAgY3J5cHRvX2JveF9CT1haRVJPQllURVMgPSBjcnlwdG9fc2VjcmV0Ym94X0JPWFpFUk9CWVRFUyxcbiAgICBjcnlwdG9fc2lnbl9CWVRFUyA9IDY0LFxuICAgIGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTID0gMzIsXG4gICAgY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMgPSA2NCxcbiAgICBjcnlwdG9fc2lnbl9TRUVEQllURVMgPSAzMixcbiAgICBjcnlwdG9faGFzaF9CWVRFUyA9IDY0O1xuXG5uYWNsLmxvd2xldmVsID0ge1xuICBjcnlwdG9fY29yZV9oc2Fsc2EyMDogY3J5cHRvX2NvcmVfaHNhbHNhMjAsXG4gIGNyeXB0b19zdHJlYW1feG9yOiBjcnlwdG9fc3RyZWFtX3hvcixcbiAgY3J5cHRvX3N0cmVhbTogY3J5cHRvX3N0cmVhbSxcbiAgY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvcjogY3J5cHRvX3N0cmVhbV9zYWxzYTIwX3hvcixcbiAgY3J5cHRvX3N0cmVhbV9zYWxzYTIwOiBjcnlwdG9fc3RyZWFtX3NhbHNhMjAsXG4gIGNyeXB0b19vbmV0aW1lYXV0aDogY3J5cHRvX29uZXRpbWVhdXRoLFxuICBjcnlwdG9fb25ldGltZWF1dGhfdmVyaWZ5OiBjcnlwdG9fb25ldGltZWF1dGhfdmVyaWZ5LFxuICBjcnlwdG9fdmVyaWZ5XzE2OiBjcnlwdG9fdmVyaWZ5XzE2LFxuICBjcnlwdG9fdmVyaWZ5XzMyOiBjcnlwdG9fdmVyaWZ5XzMyLFxuICBjcnlwdG9fc2VjcmV0Ym94OiBjcnlwdG9fc2VjcmV0Ym94LFxuICBjcnlwdG9fc2VjcmV0Ym94X29wZW46IGNyeXB0b19zZWNyZXRib3hfb3BlbixcbiAgY3J5cHRvX3NjYWxhcm11bHQ6IGNyeXB0b19zY2FsYXJtdWx0LFxuICBjcnlwdG9fc2NhbGFybXVsdF9iYXNlOiBjcnlwdG9fc2NhbGFybXVsdF9iYXNlLFxuICBjcnlwdG9fYm94X2JlZm9yZW5tOiBjcnlwdG9fYm94X2JlZm9yZW5tLFxuICBjcnlwdG9fYm94X2FmdGVybm06IGNyeXB0b19ib3hfYWZ0ZXJubSxcbiAgY3J5cHRvX2JveDogY3J5cHRvX2JveCxcbiAgY3J5cHRvX2JveF9vcGVuOiBjcnlwdG9fYm94X29wZW4sXG4gIGNyeXB0b19ib3hfa2V5cGFpcjogY3J5cHRvX2JveF9rZXlwYWlyLFxuICBjcnlwdG9faGFzaDogY3J5cHRvX2hhc2gsXG4gIGNyeXB0b19zaWduOiBjcnlwdG9fc2lnbixcbiAgY3J5cHRvX3NpZ25fa2V5cGFpcjogY3J5cHRvX3NpZ25fa2V5cGFpcixcbiAgY3J5cHRvX3NpZ25fb3BlbjogY3J5cHRvX3NpZ25fb3BlbixcblxuICBjcnlwdG9fc2VjcmV0Ym94X0tFWUJZVEVTOiBjcnlwdG9fc2VjcmV0Ym94X0tFWUJZVEVTLFxuICBjcnlwdG9fc2VjcmV0Ym94X05PTkNFQllURVM6IGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUyxcbiAgY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVM6IGNyeXB0b19zZWNyZXRib3hfWkVST0JZVEVTLFxuICBjcnlwdG9fc2VjcmV0Ym94X0JPWFpFUk9CWVRFUzogY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMsXG4gIGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTOiBjcnlwdG9fc2NhbGFybXVsdF9CWVRFUyxcbiAgY3J5cHRvX3NjYWxhcm11bHRfU0NBTEFSQllURVM6IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTLFxuICBjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTOiBjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTLFxuICBjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTOiBjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTLFxuICBjcnlwdG9fYm94X0JFRk9SRU5NQllURVM6IGNyeXB0b19ib3hfQkVGT1JFTk1CWVRFUyxcbiAgY3J5cHRvX2JveF9OT05DRUJZVEVTOiBjcnlwdG9fYm94X05PTkNFQllURVMsXG4gIGNyeXB0b19ib3hfWkVST0JZVEVTOiBjcnlwdG9fYm94X1pFUk9CWVRFUyxcbiAgY3J5cHRvX2JveF9CT1haRVJPQllURVM6IGNyeXB0b19ib3hfQk9YWkVST0JZVEVTLFxuICBjcnlwdG9fc2lnbl9CWVRFUzogY3J5cHRvX3NpZ25fQllURVMsXG4gIGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTOiBjcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUyxcbiAgY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVM6IGNyeXB0b19zaWduX1NFQ1JFVEtFWUJZVEVTLFxuICBjcnlwdG9fc2lnbl9TRUVEQllURVM6IGNyeXB0b19zaWduX1NFRURCWVRFUyxcbiAgY3J5cHRvX2hhc2hfQllURVM6IGNyeXB0b19oYXNoX0JZVEVTXG59O1xuXG4vKiBIaWdoLWxldmVsIEFQSSAqL1xuXG5mdW5jdGlvbiBjaGVja0xlbmd0aHMoaywgbikge1xuICBpZiAoay5sZW5ndGggIT09IGNyeXB0b19zZWNyZXRib3hfS0VZQllURVMpIHRocm93IG5ldyBFcnJvcignYmFkIGtleSBzaXplJyk7XG4gIGlmIChuLmxlbmd0aCAhPT0gY3J5cHRvX3NlY3JldGJveF9OT05DRUJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBub25jZSBzaXplJyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQm94TGVuZ3Rocyhwaywgc2spIHtcbiAgaWYgKHBrLmxlbmd0aCAhPT0gY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUykgdGhyb3cgbmV3IEVycm9yKCdiYWQgcHVibGljIGtleSBzaXplJyk7XG4gIGlmIChzay5sZW5ndGggIT09IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVMpIHRocm93IG5ldyBFcnJvcignYmFkIHNlY3JldCBrZXkgc2l6ZScpO1xufVxuXG5mdW5jdGlvbiBjaGVja0FycmF5VHlwZXMoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCEoYXJndW1lbnRzW2ldIGluc3RhbmNlb2YgVWludDhBcnJheSkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmV4cGVjdGVkIHR5cGUsIHVzZSBVaW50OEFycmF5Jyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYW51cChhcnIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycltpXSA9IDA7XG59XG5cbm5hY2wucmFuZG9tQnl0ZXMgPSBmdW5jdGlvbihuKSB7XG4gIHZhciBiID0gbmV3IFVpbnQ4QXJyYXkobik7XG4gIHJhbmRvbWJ5dGVzKGIsIG4pO1xuICByZXR1cm4gYjtcbn07XG5cbm5hY2wuc2VjcmV0Ym94ID0gZnVuY3Rpb24obXNnLCBub25jZSwga2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhtc2csIG5vbmNlLCBrZXkpO1xuICBjaGVja0xlbmd0aHMoa2V5LCBub25jZSk7XG4gIHZhciBtID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVMgKyBtc2cubGVuZ3RoKTtcbiAgdmFyIGMgPSBuZXcgVWludDhBcnJheShtLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSBtW2krY3J5cHRvX3NlY3JldGJveF9aRVJPQllURVNdID0gbXNnW2ldO1xuICBjcnlwdG9fc2VjcmV0Ym94KGMsIG0sIG0ubGVuZ3RoLCBub25jZSwga2V5KTtcbiAgcmV0dXJuIGMuc3ViYXJyYXkoY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVMpO1xufTtcblxubmFjbC5zZWNyZXRib3gub3BlbiA9IGZ1bmN0aW9uKGJveCwgbm9uY2UsIGtleSkge1xuICBjaGVja0FycmF5VHlwZXMoYm94LCBub25jZSwga2V5KTtcbiAgY2hlY2tMZW5ndGhzKGtleSwgbm9uY2UpO1xuICB2YXIgYyA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTICsgYm94Lmxlbmd0aCk7XG4gIHZhciBtID0gbmV3IFVpbnQ4QXJyYXkoYy5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJveC5sZW5ndGg7IGkrKykgY1tpK2NyeXB0b19zZWNyZXRib3hfQk9YWkVST0JZVEVTXSA9IGJveFtpXTtcbiAgaWYgKGMubGVuZ3RoIDwgMzIpIHJldHVybiBudWxsO1xuICBpZiAoY3J5cHRvX3NlY3JldGJveF9vcGVuKG0sIGMsIGMubGVuZ3RoLCBub25jZSwga2V5KSAhPT0gMCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBtLnN1YmFycmF5KGNyeXB0b19zZWNyZXRib3hfWkVST0JZVEVTKTtcbn07XG5cbm5hY2wuc2VjcmV0Ym94LmtleUxlbmd0aCA9IGNyeXB0b19zZWNyZXRib3hfS0VZQllURVM7XG5uYWNsLnNlY3JldGJveC5ub25jZUxlbmd0aCA9IGNyeXB0b19zZWNyZXRib3hfTk9OQ0VCWVRFUztcbm5hY2wuc2VjcmV0Ym94Lm92ZXJoZWFkTGVuZ3RoID0gY3J5cHRvX3NlY3JldGJveF9CT1haRVJPQllURVM7XG5cbm5hY2wuc2NhbGFyTXVsdCA9IGZ1bmN0aW9uKG4sIHApIHtcbiAgY2hlY2tBcnJheVR5cGVzKG4sIHApO1xuICBpZiAobi5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBuIHNpemUnKTtcbiAgaWYgKHAubGVuZ3RoICE9PSBjcnlwdG9fc2NhbGFybXVsdF9CWVRFUykgdGhyb3cgbmV3IEVycm9yKCdiYWQgcCBzaXplJyk7XG4gIHZhciBxID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NjYWxhcm11bHRfQllURVMpO1xuICBjcnlwdG9fc2NhbGFybXVsdChxLCBuLCBwKTtcbiAgcmV0dXJuIHE7XG59O1xuXG5uYWNsLnNjYWxhck11bHQuYmFzZSA9IGZ1bmN0aW9uKG4pIHtcbiAgY2hlY2tBcnJheVR5cGVzKG4pO1xuICBpZiAobi5sZW5ndGggIT09IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBuIHNpemUnKTtcbiAgdmFyIHEgPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2NhbGFybXVsdF9CWVRFUyk7XG4gIGNyeXB0b19zY2FsYXJtdWx0X2Jhc2UocSwgbik7XG4gIHJldHVybiBxO1xufTtcblxubmFjbC5zY2FsYXJNdWx0LnNjYWxhckxlbmd0aCA9IGNyeXB0b19zY2FsYXJtdWx0X1NDQUxBUkJZVEVTO1xubmFjbC5zY2FsYXJNdWx0Lmdyb3VwRWxlbWVudExlbmd0aCA9IGNyeXB0b19zY2FsYXJtdWx0X0JZVEVTO1xuXG5uYWNsLmJveCA9IGZ1bmN0aW9uKG1zZywgbm9uY2UsIHB1YmxpY0tleSwgc2VjcmV0S2V5KSB7XG4gIHZhciBrID0gbmFjbC5ib3guYmVmb3JlKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIG5hY2wuc2VjcmV0Ym94KG1zZywgbm9uY2UsIGspO1xufTtcblxubmFjbC5ib3guYmVmb3JlID0gZnVuY3Rpb24ocHVibGljS2V5LCBzZWNyZXRLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgY2hlY2tCb3hMZW5ndGhzKHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgdmFyIGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X0JFRk9SRU5NQllURVMpO1xuICBjcnlwdG9fYm94X2JlZm9yZW5tKGssIHB1YmxpY0tleSwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIGs7XG59O1xuXG5uYWNsLmJveC5hZnRlciA9IG5hY2wuc2VjcmV0Ym94O1xuXG5uYWNsLmJveC5vcGVuID0gZnVuY3Rpb24obXNnLCBub25jZSwgcHVibGljS2V5LCBzZWNyZXRLZXkpIHtcbiAgdmFyIGsgPSBuYWNsLmJveC5iZWZvcmUocHVibGljS2V5LCBzZWNyZXRLZXkpO1xuICByZXR1cm4gbmFjbC5zZWNyZXRib3gub3Blbihtc2csIG5vbmNlLCBrKTtcbn07XG5cbm5hY2wuYm94Lm9wZW4uYWZ0ZXIgPSBuYWNsLnNlY3JldGJveC5vcGVuO1xuXG5uYWNsLmJveC5rZXlQYWlyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19ib3hfUFVCTElDS0VZQllURVMpO1xuICB2YXIgc2sgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKTtcbiAgY3J5cHRvX2JveF9rZXlwYWlyKHBrLCBzayk7XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBza307XG59O1xuXG5uYWNsLmJveC5rZXlQYWlyLmZyb21TZWNyZXRLZXkgPSBmdW5jdGlvbihzZWNyZXRLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHNlY3JldEtleSk7XG4gIGlmIChzZWNyZXRLZXkubGVuZ3RoICE9PSBjcnlwdG9fYm94X1NFQ1JFVEtFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHNlY3JldCBrZXkgc2l6ZScpO1xuICB2YXIgcGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fYm94X1BVQkxJQ0tFWUJZVEVTKTtcbiAgY3J5cHRvX3NjYWxhcm11bHRfYmFzZShwaywgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIHtwdWJsaWNLZXk6IHBrLCBzZWNyZXRLZXk6IG5ldyBVaW50OEFycmF5KHNlY3JldEtleSl9O1xufTtcblxubmFjbC5ib3gucHVibGljS2V5TGVuZ3RoID0gY3J5cHRvX2JveF9QVUJMSUNLRVlCWVRFUztcbm5hY2wuYm94LnNlY3JldEtleUxlbmd0aCA9IGNyeXB0b19ib3hfU0VDUkVUS0VZQllURVM7XG5uYWNsLmJveC5zaGFyZWRLZXlMZW5ndGggPSBjcnlwdG9fYm94X0JFRk9SRU5NQllURVM7XG5uYWNsLmJveC5ub25jZUxlbmd0aCA9IGNyeXB0b19ib3hfTk9OQ0VCWVRFUztcbm5hY2wuYm94Lm92ZXJoZWFkTGVuZ3RoID0gbmFjbC5zZWNyZXRib3gub3ZlcmhlYWRMZW5ndGg7XG5cbm5hY2wuc2lnbiA9IGZ1bmN0aW9uKG1zZywgc2VjcmV0S2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhtc2csIHNlY3JldEtleSk7XG4gIGlmIChzZWNyZXRLZXkubGVuZ3RoICE9PSBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzZWNyZXQga2V5IHNpemUnKTtcbiAgdmFyIHNpZ25lZE1zZyA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX0JZVEVTK21zZy5sZW5ndGgpO1xuICBjcnlwdG9fc2lnbihzaWduZWRNc2csIG1zZywgbXNnLmxlbmd0aCwgc2VjcmV0S2V5KTtcbiAgcmV0dXJuIHNpZ25lZE1zZztcbn07XG5cbm5hY2wuc2lnbi5vcGVuID0gZnVuY3Rpb24oc2lnbmVkTXNnLCBwdWJsaWNLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKHNpZ25lZE1zZywgcHVibGljS2V5KTtcbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggIT09IGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHB1YmxpYyBrZXkgc2l6ZScpO1xuICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkoc2lnbmVkTXNnLmxlbmd0aCk7XG4gIHZhciBtbGVuID0gY3J5cHRvX3NpZ25fb3Blbih0bXAsIHNpZ25lZE1zZywgc2lnbmVkTXNnLmxlbmd0aCwgcHVibGljS2V5KTtcbiAgaWYgKG1sZW4gPCAwKSByZXR1cm4gbnVsbDtcbiAgdmFyIG0gPSBuZXcgVWludDhBcnJheShtbGVuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSsrKSBtW2ldID0gdG1wW2ldO1xuICByZXR1cm4gbTtcbn07XG5cbm5hY2wuc2lnbi5kZXRhY2hlZCA9IGZ1bmN0aW9uKG1zZywgc2VjcmV0S2V5KSB7XG4gIHZhciBzaWduZWRNc2cgPSBuYWNsLnNpZ24obXNnLCBzZWNyZXRLZXkpO1xuICB2YXIgc2lnID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fQllURVMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgc2lnW2ldID0gc2lnbmVkTXNnW2ldO1xuICByZXR1cm4gc2lnO1xufTtcblxubmFjbC5zaWduLmRldGFjaGVkLnZlcmlmeSA9IGZ1bmN0aW9uKG1zZywgc2lnLCBwdWJsaWNLZXkpIHtcbiAgY2hlY2tBcnJheVR5cGVzKG1zZywgc2lnLCBwdWJsaWNLZXkpO1xuICBpZiAoc2lnLmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fQllURVMpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgc2lnbmF0dXJlIHNpemUnKTtcbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggIT09IGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHB1YmxpYyBrZXkgc2l6ZScpO1xuICB2YXIgc20gPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9CWVRFUyArIG1zZy5sZW5ndGgpO1xuICB2YXIgbSA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX0JZVEVTICsgbXNnLmxlbmd0aCk7XG4gIHZhciBpO1xuICBmb3IgKGkgPSAwOyBpIDwgY3J5cHRvX3NpZ25fQllURVM7IGkrKykgc21baV0gPSBzaWdbaV07XG4gIGZvciAoaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspIHNtW2krY3J5cHRvX3NpZ25fQllURVNdID0gbXNnW2ldO1xuICByZXR1cm4gKGNyeXB0b19zaWduX29wZW4obSwgc20sIHNtLmxlbmd0aCwgcHVibGljS2V5KSA+PSAwKTtcbn07XG5cbm5hY2wuc2lnbi5rZXlQYWlyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKTtcbiAgdmFyIHNrID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMpO1xuICBjcnlwdG9fc2lnbl9rZXlwYWlyKHBrLCBzayk7XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBza307XG59O1xuXG5uYWNsLnNpZ24ua2V5UGFpci5mcm9tU2VjcmV0S2V5ID0gZnVuY3Rpb24oc2VjcmV0S2V5KSB7XG4gIGNoZWNrQXJyYXlUeXBlcyhzZWNyZXRLZXkpO1xuICBpZiAoc2VjcmV0S2V5Lmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fU0VDUkVUS0VZQllURVMpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgc2VjcmV0IGtleSBzaXplJyk7XG4gIHZhciBwayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1BVQkxJQ0tFWUJZVEVTKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBway5sZW5ndGg7IGkrKykgcGtbaV0gPSBzZWNyZXRLZXlbMzIraV07XG4gIHJldHVybiB7cHVibGljS2V5OiBwaywgc2VjcmV0S2V5OiBuZXcgVWludDhBcnJheShzZWNyZXRLZXkpfTtcbn07XG5cbm5hY2wuc2lnbi5rZXlQYWlyLmZyb21TZWVkID0gZnVuY3Rpb24oc2VlZCkge1xuICBjaGVja0FycmF5VHlwZXMoc2VlZCk7XG4gIGlmIChzZWVkLmxlbmd0aCAhPT0gY3J5cHRvX3NpZ25fU0VFREJZVEVTKVxuICAgIHRocm93IG5ldyBFcnJvcignYmFkIHNlZWQgc2l6ZScpO1xuICB2YXIgcGsgPSBuZXcgVWludDhBcnJheShjcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUyk7XG4gIHZhciBzayA9IG5ldyBVaW50OEFycmF5KGNyeXB0b19zaWduX1NFQ1JFVEtFWUJZVEVTKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSBza1tpXSA9IHNlZWRbaV07XG4gIGNyeXB0b19zaWduX2tleXBhaXIocGssIHNrLCB0cnVlKTtcbiAgcmV0dXJuIHtwdWJsaWNLZXk6IHBrLCBzZWNyZXRLZXk6IHNrfTtcbn07XG5cbm5hY2wuc2lnbi5wdWJsaWNLZXlMZW5ndGggPSBjcnlwdG9fc2lnbl9QVUJMSUNLRVlCWVRFUztcbm5hY2wuc2lnbi5zZWNyZXRLZXlMZW5ndGggPSBjcnlwdG9fc2lnbl9TRUNSRVRLRVlCWVRFUztcbm5hY2wuc2lnbi5zZWVkTGVuZ3RoID0gY3J5cHRvX3NpZ25fU0VFREJZVEVTO1xubmFjbC5zaWduLnNpZ25hdHVyZUxlbmd0aCA9IGNyeXB0b19zaWduX0JZVEVTO1xuXG5uYWNsLmhhc2ggPSBmdW5jdGlvbihtc2cpIHtcbiAgY2hlY2tBcnJheVR5cGVzKG1zZyk7XG4gIHZhciBoID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvX2hhc2hfQllURVMpO1xuICBjcnlwdG9faGFzaChoLCBtc2csIG1zZy5sZW5ndGgpO1xuICByZXR1cm4gaDtcbn07XG5cbm5hY2wuaGFzaC5oYXNoTGVuZ3RoID0gY3J5cHRvX2hhc2hfQllURVM7XG5cbm5hY2wudmVyaWZ5ID0gZnVuY3Rpb24oeCwgeSkge1xuICBjaGVja0FycmF5VHlwZXMoeCwgeSk7XG4gIC8vIFplcm8gbGVuZ3RoIGFyZ3VtZW50cyBhcmUgY29uc2lkZXJlZCBub3QgZXF1YWwuXG4gIGlmICh4Lmxlbmd0aCA9PT0gMCB8fCB5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoeC5sZW5ndGggIT09IHkubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAodm4oeCwgMCwgeSwgMCwgeC5sZW5ndGgpID09PSAwKSA/IHRydWUgOiBmYWxzZTtcbn07XG5cbm5hY2wuc2V0UFJORyA9IGZ1bmN0aW9uKGZuKSB7XG4gIHJhbmRvbWJ5dGVzID0gZm47XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gIC8vIEluaXRpYWxpemUgUFJORyBpZiBlbnZpcm9ubWVudCBwcm92aWRlcyBDU1BSTkcuXG4gIC8vIElmIG5vdCwgbWV0aG9kcyBjYWxsaW5nIHJhbmRvbWJ5dGVzIHdpbGwgdGhyb3cuXG4gIHZhciBjcnlwdG8gPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyAoc2VsZi5jcnlwdG8gfHwgc2VsZi5tc0NyeXB0bykgOiBudWxsO1xuICBpZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBCcm93c2Vycy5cbiAgICB2YXIgUVVPVEEgPSA2NTUzNjtcbiAgICBuYWNsLnNldFBSTkcoZnVuY3Rpb24oeCwgbikge1xuICAgICAgdmFyIGksIHYgPSBuZXcgVWludDhBcnJheShuKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpICs9IFFVT1RBKSB7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModi5zdWJhcnJheShpLCBpICsgTWF0aC5taW4obiAtIGksIFFVT1RBKSkpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IG47IGkrKykgeFtpXSA9IHZbaV07XG4gICAgICBjbGVhbnVwKHYpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vZGUuanMuXG4gICAgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG4gICAgaWYgKGNyeXB0byAmJiBjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcbiAgICAgIG5hY2wuc2V0UFJORyhmdW5jdGlvbih4LCBuKSB7XG4gICAgICAgIHZhciBpLCB2ID0gY3J5cHRvLnJhbmRvbUJ5dGVzKG4pO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB4W2ldID0gdltpXTtcbiAgICAgICAgY2xlYW51cCh2KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSkoKTtcblxufSkodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA6IChzZWxmLm5hY2wgPSBzZWxmLm5hY2wgfHwge30pKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tweetnacl/nacl-fast.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./src/UI.js":
/*!*******************!*\
  !*** ./src/UI.js ***!
  \*******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.demoVersion = exports.init = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar accountExist = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(publicKey, network) {\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return getServer(network).loadAccount(publicKey);\n\n          case 3:\n            return _context.abrupt('return', true);\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context['catch'](0);\n            return _context.abrupt('return', false);\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 6]]);\n  }));\n\n  return function accountExist(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/** ************************* Login in *****************************************/\n\nvar init = exports.init = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _database.Database.current();\n\n          case 2:\n            global.db = _context2.sent;\n\n            if (localStorage.accounts && !localStorage.upgraded) {\n              upgrade();\n            } else if (global.db) open();else if (localStorage.length) login();else selectPage(welcomePage);\n\n          case 4:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function init() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar demoVersion = exports.demoVersion = function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {\n    return _regenerator2.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _database.Database.new('guest', 'demo');\n\n          case 2:\n            global.db = _context6.sent;\n            _context6.next = 5;\n            return global.db.newAccount('demo', 'guest', 'test');\n\n          case 5:\n            sessionStorage.demo = 'true';\n            open();\n\n          case 7:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function demoVersion() {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar upgrade = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {\n    var _this3 = this;\n\n    var popup;\n    return _regenerator2.default.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            popup = new _popup.Popup('Database upgrade', true);\n\n            popup.addMessage('Stellar Authenticator has been upgraded and the secure\\n      database has been rewritten. In order to switch to the new format, please\\n      provide an username and your password.').addSeparator().putInfoNode().addTextBox('user', 'Username').addPasswordBox('password', 'Authenticator password').addSubmit().addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {\n              var username, password;\n              return _regenerator2.default.wrap(function _callee7$(_context7) {\n                while (1) {\n                  switch (_context7.prev = _context7.next) {\n                    case 0:\n                      _context7.next = 2;\n                      return popup.setInfo('Upgrading database...');\n\n                    case 2:\n                      username = popup.inputs.user.value;\n                      password = popup.inputs.password.value;\n                      _context7.next = 6;\n                      return _database.Database.upgrade(username, password);\n\n                    case 6:\n                      global.db = _context7.sent;\n\n                      localStorage[username + '_lastSelected'] = localStorage.index - 1;\n                      localStorage.upgraded = 'true';\n                      open();\n\n                    case 10:\n                    case 'end':\n                      return _context7.stop();\n                  }\n                }\n              }, _callee7, _this3);\n            })));\n\n          case 2:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function upgrade() {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar parseQuery = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee9(query) {\n    var _this4 = this;\n\n    var account, network, publicKey, loadingMsg, exist, tdesc, signers, _loop, index, _ret;\n\n    return _regenerator2.default.wrap(function _callee9$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            account = currentAccount();\n            network = account && global.db.network(account);\n            publicKey = account && global.db.publicKey(account);\n\n\n            global.cosmicLink = new _cosmicLib.CosmicLink(query, network, publicKey);\n            global.cosmicLink.addAliases(global.db.aliases);\n\n            if (account) {\n              _context10.next = 7;\n              break;\n            }\n\n            return _context10.abrupt('return');\n\n          case 7:\n\n            /// Check if account exists.\n            loadingMsg = new _notifications.Notification('loading', 'Loading account...');\n            _context10.next = 10;\n            return accountExist(publicKey, network);\n\n          case 10:\n            exist = _context10.sent;\n\n            loadingMsg.destroy();\n\n            if (!(currentAccount() !== account)) {\n              _context10.next = 14;\n              break;\n            }\n\n            return _context10.abrupt('return');\n\n          case 14:\n            if (exist) {\n              _context10.next = 20;\n              break;\n            }\n\n            if (!(network === 'test')) {\n              _context10.next = 20;\n              break;\n            }\n\n            _context10.next = 18;\n            return fundTestAccount(publicKey);\n\n          case 18:\n            parseQuery(query);\n            return _context10.abrupt('return');\n\n          case 20:\n\n            /// Find legit signers\n            tdesc = void 0, signers = void 0;\n            _context10.prev = 21;\n            _context10.next = 24;\n            return global.cosmicLink.getTdesc();\n\n          case 24:\n            tdesc = _context10.sent;\n            _context10.next = 27;\n            return global.cosmicLink.getSigners();\n\n          case 27:\n            signers = _context10.sent;\n            _context10.next = 34;\n            break;\n\n          case 30:\n            _context10.prev = 30;\n            _context10.t0 = _context10['catch'](21);\n\n            console.log(_context10.t0);\n            return _context10.abrupt('return');\n\n          case 34:\n            global.signers = [];\n\n            if (!tdesc.source) {\n              _context10.next = 55;\n              break;\n            }\n\n            _loop = /*#__PURE__*/_regenerator2.default.mark(function _loop(index) {\n              var accountNode, accountName, source, publicKey;\n              return _regenerator2.default.wrap(function _loop$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      accountNode = accountSelector.childNodes[index];\n                      accountName = accountNode.value;\n                      _context9.next = 4;\n                      return global.cosmicLink.getSource();\n\n                    case 4:\n                      source = _context9.sent;\n\n                      if (accountName) {\n                        _context9.next = 7;\n                        break;\n                      }\n\n                      return _context9.abrupt('return', 'continue');\n\n                    case 7:\n                      publicKey = global.db.publicKey(accountName);\n\n                      if (signers.find(function (entry) {\n                        return entry.value === publicKey;\n                      })) {\n                        if (publicKey === source) global.signers.unshift(accountName);else global.signers.push(accountName);\n                      } else {\n                        accountNode.disabled = true;\n                      }\n\n                    case 9:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _loop, _this4);\n            });\n            _context10.t1 = _regenerator2.default.keys(accountSelector.childNodes);\n\n          case 38:\n            if ((_context10.t2 = _context10.t1()).done) {\n              _context10.next = 46;\n              break;\n            }\n\n            index = _context10.t2.value;\n            return _context10.delegateYield(_loop(index), 't3', 41);\n\n          case 41:\n            _ret = _context10.t3;\n\n            if (!(_ret === 'continue')) {\n              _context10.next = 44;\n              break;\n            }\n\n            return _context10.abrupt('continue', 38);\n\n          case 44:\n            _context10.next = 38;\n            break;\n\n          case 46:\n            if (!(global.signers.length === 0)) {\n              _context10.next = 52;\n              break;\n            }\n\n            accountSelector.selectedIndex = -1;\n            refreshPublicKey();\n            global.cosmicLink.user = null;\n            new _notifications.Notification('warning', 'No signer for this transaction', \"There's no legit signer for this transaction among your accounts.\");\n            return _context10.abrupt('return');\n\n          case 52:\n\n            if (!global.signers.find(function (entry) {\n              return entry === account;\n            })) {\n              accountSelector.value = global.signers[0];\n              refreshPublicKey();\n              global.cosmicLink.user = publicKeyNode.value;\n            }\n            _context10.next = 56;\n            break;\n\n          case 55:\n            signers.forEach(function (signer) {\n              var accountName = global.db.accountName(signer.value, network);\n              if (accountName) global.signers.push(accountName);\n            });\n\n          case 56:\n            _context10.prev = 56;\n            _context10.next = 59;\n            return global.cosmicLink.getXdr();\n\n          case 59:\n            if (global.signers.length) signingButton.disabled = false;\n            _context10.next = 65;\n            break;\n\n          case 62:\n            _context10.prev = 62;\n            _context10.t4 = _context10['catch'](56);\n\n            console.log(_context10.t4);\n\n          case 65:\n          case 'end':\n            return _context10.stop();\n        }\n      }\n    }, _callee9, this, [[21, 30], [56, 62]]);\n  }));\n\n  return function parseQuery(_x3) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar refreshPublicKey = function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee11() {\n    var account, copiedNode;\n    return _regenerator2.default.wrap(function _callee11$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            account = currentAccount();\n\n            if (account) publicKeyNode.value = global.db.publicKey(account);else publicKeyNode.value = null;\n\n            copiedNode = node.grab('#copied');\n\n            if (copiedNode) node.destroy(copiedNode);\n\n          case 4:\n          case 'end':\n            return _context12.stop();\n        }\n      }\n    }, _callee11, this);\n  }));\n\n  return function refreshPublicKey() {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\n/** *************************** Settings ***************************************/\n\nexports.newUser = newUser;\nexports.importUser = importUser;\nexports.openXdrOption = openXdrOption;\nexports.signAndSend = signAndSend;\nexports.closeTransaction = closeTransaction;\nexports.pushQuery = pushQuery;\nexports.popQuery = popQuery;\nexports.selectAccount = selectAccount;\nexports.showMenu = showMenu;\nexports.showSetting = showSetting;\nexports.showSecret = showSecret;\nexports.removeAccount = removeAccount;\nexports.importSeed = importSeed;\nexports.newAccount = newAccount;\nexports.exportBackup = exportBackup;\nexports.passwordChange = passwordChange;\nexports.removeUser = removeUser;\nexports.logout = logout;\nexports.selectPage = selectPage;\nexports.currentPage = currentPage;\n\nvar _cosmicLib = __webpack_require__(/*! ./cosmic-lib */ \"./src/cosmic-lib/index.js\");\n\nvar _form = __webpack_require__(/*! ./form */ \"./src/form.js\");\n\nvar _popup = __webpack_require__(/*! ./popup */ \"./src/popup.js\");\n\nvar _database = __webpack_require__(/*! ./database */ \"./src/database.js\");\n\nvar _notifications = __webpack_require__(/*! ./notifications */ \"./src/notifications.js\");\n\nvar _helpers = __webpack_require__(/*! ./helpers */ \"./src/helpers.js\");\n\nvar _node = __webpack_require__(/*! ./cosmic-lib/node */ \"./src/cosmic-lib/node.js\");\n\nvar node = _interopRequireWildcard(_node);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar global = {\n  cosmicLink: null,\n  db: null,\n  signers: null,\n  history: history.length\n\n  /** * helpers ***/\n};var publicServer = new StellarSdk.Server('https://horizon.stellar.org');\nvar testingServer = new StellarSdk.Server('https://horizon-testnet.stellar.org');\n\nfunction getServer(network) {\n  switch (network) {\n    case undefined:\n    case 'public':\n      return publicServer;\n    case 'test':\n      return testingServer;\n    default:\n      throw new Error('Invalid network: ' + network);\n  }\n}\n\nvar mainNode = node.grab('main');\nvar welcomePage = node.grab('#welcome');\n\nfunction login() {\n  var selectNode = makeUserSelector();\n\n  if (selectNode.length === 0) {\n    selectPage(welcomePage);\n    return;\n  }\n\n  /// Fix password autofill\n  selectNode.onchange = function () {\n    usernameNode.value = selectNode.value;\n    var passwordNode = popup.inputs.password;\n    passwordNode.name = '';\n    var newNode = node.create('input', {\n      name: 'password',\n      type: 'password',\n      placeholder: 'Authenticator password'\n    });\n    popup.node.insertBefore(newNode, passwordNode);\n    popup.inputs.password = newNode;\n    node.destroy(passwordNode);\n  };\n\n  var last = localStorage.lastSelectedUser;\n  if (last) selectNode.selectedIndex = last;\n\n  var popup = new _popup.Popup('Please enter your password to start', true);\n  var inputs = popup.inputs;\n  var usernameNode = node.create('input', {\n    readonly: true,\n    value: selectNode.value,\n    name: 'username'\n  });\n  node.hide(usernameNode);\n\n  popup.addNode('usernameSelector', selectNode).addNode('', usernameNode).addPasswordBox('password').addSubmit('Open').addSeparator().addNode('', node.create('a', { onclick: function onclick() {\n      return newUser(popup);\n    } }, 'New user')).addNode('', ' | ').addNode('', node.create('a', { onclick: function onclick() {\n      return importUser(popup);\n    } }, 'Import user')).select().addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {\n    var username, password;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return popup.setInfo('Opening your session...');\n\n          case 2:\n            localStorage.lastSelectedUser = inputs.usernameSelector.selectedIndex;\n            username = inputs.usernameSelector.value;\n            password = inputs.password.value;\n            _context3.next = 7;\n            return _database.Database.load(username, password);\n\n          case 7:\n            global.db = _context3.sent;\n\n            popup.destroy();\n            open();\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  })));\n  inputs.password.focus();\n}\n\nfunction makeUserSelector() {\n  var selectNode = node.create('select');\n  var usernames = _database.Database.listUsers();\n  usernames.forEach(function (user) {\n    node.append(selectNode, node.create('option', { value: user }, user));\n  });\n  return selectNode;\n}\n\nfunction newUser(loginPopup) {\n  var _this = this;\n\n  var popup = new _popup.Popup('Please pick a name and a password', loginPopup);\n  popup.addTextBox('username', 'Username').addPasswordBox('password', 'Authenticator password').addPasswordBox('password2', 'Password confirmation').addCancelConfirmButtons().addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {\n    var username, password, confirmation;\n    return _regenerator2.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            username = popup.inputs.username.value;\n            password = popup.inputs.password.value;\n            confirmation = popup.inputs.password2.value;\n\n            if (!(password !== confirmation)) {\n              _context4.next = 5;\n              break;\n            }\n\n            throw new Error('Password mismatch');\n\n          case 5:\n            _context4.next = 7;\n            return popup.setInfo('Creating user...');\n\n          case 7:\n            _context4.next = 9;\n            return _database.Database.new(username, password);\n\n          case 9:\n            global.db = _context4.sent;\n            _context4.next = 12;\n            return global.db.newAccount(password, username);\n\n          case 12:\n            if (loginPopup) loginPopup.destroy();\n            open();\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, _this);\n  })));\n\n  if (loginPopup) {\n    loginPopup.hide();\n    popup.inputs.cancel.onclick = function () {\n      popup.onExit();\n      loginPopup.show();\n    };\n  }\n}\n\nfunction importUser(loginPopup) {\n  var _this2 = this;\n\n  var popup = new _popup.Popup('Import user', loginPopup);\n  popup.putInfoNode().addFileSelector('file', 'Select backup').addTextBox('username', 'Username').addPasswordBox('password', 'User password').addCancelConfirmButtons().addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {\n    var user, password, encrypted;\n    return _regenerator2.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            user = popup.inputs.username.value;\n            password = popup.inputs.password.value;\n\n            if (!localStorage[user + '_database']) {\n              _context5.next = 4;\n              break;\n            }\n\n            throw new Error(\"There's already an user called: \" + user);\n\n          case 4:\n            _context5.next = 6;\n            return popup.setInfo('Loading user...');\n\n          case 6:\n            _context5.next = 8;\n            return (0, _helpers.readFile)(popup.inputs.file.files[0]);\n\n          case 8:\n            encrypted = _context5.sent;\n            _context5.next = 11;\n            return _database.Database.open(user, password, encrypted);\n\n          case 11:\n            global.db = _context5.sent;\n            _context5.next = 14;\n            return global.db.save();\n\n          case 14:\n            if (loginPopup) loginPopup.destroy();\n            open();\n\n          case 16:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, _this2);\n  })));\n\n  var prevHandler = popup.inputs.file.onchange;\n  popup.inputs.file.onchange = function () {\n    prevHandler();\n    var filename = popup.inputs.file.value.replace(/^.*\\\\/, '');\n    if (filename.substr(-5) === '.user' && !popup.inputs.username.value) {\n      popup.inputs.username.value = filename.substr(0, filename.length - 5);\n      popup.inputs.password.focus();\n    }\n  };\n\n  if (loginPopup) {\n    loginPopup.hide();\n    popup.inputs.cancel.onclick = function () {\n      popup.onExit();\n      loginPopup.show();\n    };\n  }\n}\n\nvar passwordNode = node.grab('#password');\n\nfunction open() {\n  headerShowAccounts();\n  footerShowAbout();\n  if (sessionStorage.demo) passwordNode.textContent = 'The password is: demo';\n  refreshPage();\n}\n\nfunction handleQuery() {\n  if (location.search === '?about') {\n    about();\n    return;\n  }\n\n  headerShowAccounts();\n  refreshAccountSelector();\n  refreshPublicKey();\n  showMessages();\n  footerShowAbout();\n\n  if (location.search.length > 1) {\n    resetReadTransactionPage();\n    selectPage(readTransactionPage);\n    parseQuery(location.search);\n  } else {\n    selectPage(openTransactionPage);\n  }\n}\n\nvar openTransactionPage = node.grab('#openTransaction');\nvar readTransactionPage = node.grab('#readTransaction');\n\n/** **************************** Open transaction ******************************/\n\nvar openUriForm = new _form.Form(node.grab('#openUri')).addValidator(function () {\n  var uri = openUriForm.inputs.uri.value;\n  var query = uri.replace(/^[^?]*/, '');\n  if (query < 2) throw new Error('Not a transaction link');\n  pushQuery(query);\n  openUriForm.reset();\n});\n\nvar openXdrForm = new _form.Form(node.grab('#openXdr')).addValidator(function () {\n  try {\n    var inputs = openXdrForm.inputs;\n    var xdr = inputs.xdr.value;\n    new StellarSdk.Transaction(xdr);\n    var query = '?xdr=' + xdr;\n    if (inputs.stripSource.checked) query += '&stripSource';else if (inputs.stripSequence.checked) query += '&stripSequence';else if (inputs.stripSignatures.checked) query += '&stripSignatures';\n    pushQuery(query);\n    openXdrForm.reset();\n  } catch (error) {\n    console.log(error);\n    throw new Error('Invalid XDR');\n  }\n});\n\nvar xdrStripSourceNode = node.grab('#xdrStripSource');\nvar xdrStripSequenceNode = node.grab('#xdrStripSequence');\nvar xdrStripSignaturesNode = node.grab('#xdrStripSignatures');\nfunction openXdrOption(element) {\n  if (element.checked) {\n    xdrStripSourceNode.checked = false;\n    xdrStripSequenceNode.checked = false;\n    xdrStripSignaturesNode.checked = false;\n    element.checked = true;\n  }\n}\n\n/** ***************************** Read transaction *****************************/\n\nvar transactionNode = node.grab('#CL_htmlNode');\n\n_cosmicLib.CosmicLink.addFormatHandler('xdr', function (event) {\n  if (event.cosmicLink !== global.cosmicLink) return;\n  if (event.value) xdrBox.value = event.value;else xdrBox.placeholder = event.error.message;\n});\n\n_cosmicLib.CosmicLink.addFormatHandler('uri', function (event) {\n  if (event.cosmicLink !== global.cosmicLink) return;\n  if (event.value) uriBox.value = event.value;else uriBox.placeholder = event.error.message;\n});\n\n_cosmicLib.CosmicLink.addFormatHandler('query', function (event) {\n  if (event.cosmicLink !== global.cosmicLink) return;\n  if (event.value) history.replaceState(null, '', event.value);else console.log(event.error);\n});\n\nfunction fundTestAccount(publicKey) {\n  return new Promise(function (resolve, reject) {\n    var account = currentAccount();\n    var fundingMsg = new _notifications.Notification('loading', 'Funding testnet account...');\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', 'https://friendbot.stellar.org/?addr=' + publicKey, true);\n    xhr.send();\n    xhr.onloadend = function () {\n      fundingMsg.destroy();\n      if (currentAccount() !== account) return;\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        resolve();\n      } else {\n        console.log(xhr.response);\n        new _notifications.Notification('warning', \"Can't fund account\", 'For some reason, Stellar friend bot could not fund your testnet account.');\n        reject();\n      }\n    };\n  });\n}\n\nvar uriViewerForm = new _form.Form(node.grab('#uriViewer'));\nvar uriBox = uriViewerForm.inputs.uri;\nvar xdrViewerForm = new _form.Form(node.grab('#xdrViewer'));\nvar xdrBox = xdrViewerForm.inputs.xdr;\n\nvar signingButton = node.grab('#signingButton');\nsigningButton.disabled = true;\n\nfunction signAndSend() {\n  var _this5 = this;\n\n  var popup = (0, _popup.passwordPopup)(global.db.username, 'Sign & send');\n  popup.addValidator(function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee10(password) {\n      var _global$db;\n\n      var seeds, index, message2;\n      return _regenerator2.default.wrap(function _callee10$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return popup.setInfo('Signing transaction...');\n\n            case 2:\n              _context11.next = 4;\n              return (_global$db = global.db).secretSeed.apply(_global$db, [password].concat(_toConsumableArray(global.signers)));\n\n            case 4:\n              seeds = _context11.sent;\n\n              if (!(typeof seeds === 'string')) {\n                _context11.next = 10;\n                break;\n              }\n\n              _context11.next = 8;\n              return global.cosmicLink.sign(seeds);\n\n            case 8:\n              _context11.next = 17;\n              break;\n\n            case 10:\n              _context11.t0 = _regenerator2.default.keys(seeds);\n\n            case 11:\n              if ((_context11.t1 = _context11.t0()).done) {\n                _context11.next = 17;\n                break;\n              }\n\n              index = _context11.t1.value;\n              _context11.next = 15;\n              return global.cosmicLink.sign(seeds[index]);\n\n            case 15:\n              _context11.next = 11;\n              break;\n\n            case 17:\n              signingButton.disabled = true;\n\n              popup.destroy();\n\n              top();\n              message2 = new _notifications.Notification('loading', 'Sending transaction...');\n              _context11.prev = 21;\n              _context11.next = 24;\n              return global.cosmicLink.send();\n\n            case 24:\n              new _notifications.Notification('done', 'Transaction validated');\n              _context11.next = 31;\n              break;\n\n            case 27:\n              _context11.prev = 27;\n              _context11.t2 = _context11['catch'](21);\n\n              console.log(_context11.t2);\n              new _notifications.Notification('warning', 'Transaction rejected', _context11.t2);\n\n            case 31:\n              message2.destroy();\n\n            case 32:\n            case 'end':\n              return _context11.stop();\n          }\n        }\n      }, _callee10, _this5, [[21, 27]]);\n    }));\n\n    return function (_x4) {\n      return _ref10.apply(this, arguments);\n    };\n  }());\n}\n\nfunction closeTransaction() {\n  delete global.cosmicLink;\n  popQuery();\n}\n\nfunction resetReadTransactionPage() {\n  node.clear(transactionNode);\n  uriViewerForm.reset();\n  xdrViewerForm.reset();\n  xdrBox.placeholder = 'Computing...';\n  signingButton.disabled = true;\n}\n\n/** ****************************** History *************************************/\n\nfunction pushQuery(query) {\n  history.pushState(null, '', query);\n  handleQuery();\n}\n\nfunction popQuery() {\n  if (global.history === history.length && !document.referrer) {\n    history.replaceState(null, '', '?');\n    handleQuery();\n  } else {\n    history.back();\n  }\n}\n\nwindow.onpopstate = function () {\n  if (global.db) handleQuery();\n};\n\n/** ********************* Header & account selection ***************************/\n\nvar accountSelector = node.grab('#accountSelector');\nvar publicKeyNode = node.grab('#publicKey');\nvar notificationsNode = node.grab('#notifications');\n\nfunction refreshPage() {\n  refreshAccountSelector();\n  refreshPublicKey();\n  handleQuery();\n}\n\nfunction selectAccount(account) {\n  if (!account) {\n    account = accountSelector.value;\n  } else {\n    accountSelector.value = account;\n  }\n  localStorage[global.db.username + '_lastSelected'] = accountSelector.selectedIndex;\n  refreshPublicKey();\n  handleQuery();\n  resetMenu();\n}\n\nfunction currentAccount() {\n  return accountSelector.value;\n}\n\nfunction refreshAccountSelector() {\n  while (accountSelector.options.length) {\n    accountSelector.remove(0);\n  }\n\n  var accountsList = global.db.listAccounts();\n  var listWithNetwork = accountsList.map(function (account) {\n    return [global.db.network(account) + ': ' + account, account];\n  }).sort(function (a, b) {\n    return a[0].toLowerCase().localeCompare(b[0].toLowerCase());\n  });\n\n  listWithNetwork.forEach(function (entry) {\n    var accountNode = node.create('option', { value: entry[1] }, entry[0]);\n    node.append(accountSelector, accountNode);\n  });\n\n  var lastIndex = localStorage[global.db.username + '_lastSelected'] || 0;\n  if (lastIndex > accountsList.length - 1) lastIndex = accountsList.length - 1;\n  localStorage[global.db.username + '_lastSelected'] = lastIndex;\n  accountSelector.selectedIndex = lastIndex;\n}\n\nvar settingsNode = node.grab('#settings');\nvar headerNode = node.grab('header');\nvar menuButtonNode = node.grab('#menuButton');\nvar messagesNode = node.grab('#messages');\n\nfunction showMenu() {\n  node.append(headerNode, settingsNode);\n  node.show(settingsNode);\n  node.hide(mainNode);\n\n  headerNode.style.minHeight = '100%';\n  headerNode.style.position = 'absolute';\n  menuButtonNode.onclick = hideMenu;\n  top();\n}\n\nfunction hideMenu() {\n  node.hide(settingsNode);\n  node.show(mainNode);\n\n  headerNode.style.minHeight = null;\n  headerNode.style.position = 'fixed';\n  menuButtonNode.onclick = showMenu;\n  resetMenu();\n  top();\n}\n\nfunction resetMenu() {\n  hideSecret();\n}\n\nfunction showSetting(setting) {\n  resetMenu();\n  node.grab('.show', settingsNode).className = '';\n  setting.className = 'show';\n}\n\nfunction showSecret() {\n  var _this6 = this;\n\n  var account = currentAccount();\n  if (!account) return;\n  var popup = (0, _popup.passwordPopup)(global.db.username, node.create('div', null, 'Show secret seed for: ' + account, node.create('hr'), 'Your secret seed offer full control over your account and should never be\\n      given away.'));\n\n  popup.addValidator(function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee12(password) {\n      var seed, secretBox, button;\n      return _regenerator2.default.wrap(function _callee12$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return popup.setInfo('Decrypting secret seed...');\n\n            case 2:\n              _context13.next = 4;\n              return global.db.secretSeed(password, account);\n\n            case 4:\n              seed = _context13.sent;\n              secretBox = node.grab('#secretSeed');\n\n              secretBox.value = seed;\n              node.show(secretBox);\n              button = node.grab('#switchSecret');\n\n              button.onclick = hideSecret;\n              button.value = 'Hide secret seed';\n\n            case 11:\n            case 'end':\n              return _context13.stop();\n          }\n        }\n      }, _callee12, _this6);\n    }));\n\n    return function (_x5) {\n      return _ref12.apply(this, arguments);\n    };\n  }());\n}\n\nfunction hideSecret() {\n  var seedBox = node.grab('#secretSeed');\n  seedBox.value = undefined;\n  node.hide(seedBox);\n  var button = node.grab('#switchSecret');\n  button.onclick = showSecret;\n  button.value = 'Show secret seed';\n}\n\nfunction removeAccount() {\n  var _this7 = this;\n\n  var account = currentAccount();\n  if (!account) return;\n\n  var popup = (0, _popup.passwordPopup)(global.db.username, node.create('div', null, 'Remove account: ' + account, node.create('hr'), 'You\\'re about to remove this account from this device. Please make sure\\n      that you have an alternative way to access it, or that there\\'s no more\\n      funds on it.'));\n\n  popup.addValidator(function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee13(password) {\n      return _regenerator2.default.wrap(function _callee13$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              _context14.next = 2;\n              return popup.setInfo('Removing account...');\n\n            case 2:\n              _context14.next = 4;\n              return global.db.removeAccount(password, account);\n\n            case 4:\n              refreshPage();\n\n            case 5:\n            case 'end':\n              return _context14.stop();\n          }\n        }\n      }, _callee13, _this7);\n    }));\n\n    return function (_x6) {\n      return _ref13.apply(this, arguments);\n    };\n  }());\n}\n\nfunction importSeed() {\n  var popup = new _popup.Popup('Import account from seed');\n  popup.addTextBox('name', 'Account name').addTextBox('seed', 'Secret seed').addCheckBox('testnet', 'On testnet', false).addSeparator().addPasswordConfirmation(global.db.username).addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee14() {\n    var name, password, seed, network;\n    return _regenerator2.default.wrap(function _callee14$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            name = popup.inputs.name.value;\n            password = popup.inputs.password.value;\n            seed = popup.inputs.seed.value;\n            network = popup.inputs.testnet.checked ? 'test' : 'public';\n            _context15.next = 6;\n            return popup.setInfo('Importing account...');\n\n          case 6:\n            _context15.next = 8;\n            return global.db.addAccount(password, name, seed, network);\n\n          case 8:\n            refreshAccountSelector();\n            selectAccount(name);\n            hideMenu();\n\n          case 11:\n          case 'end':\n            return _context15.stop();\n        }\n      }\n    }, _callee14, this);\n  })));\n}\n\nfunction newAccount() {\n  var popup = new _popup.Popup('Create a new account');\n  popup.addTextBox('name', 'Account name').addCheckBox('testnet', 'On testnet', false).addSeparator().addPasswordConfirmation(global.db.username).addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee15() {\n    var name, password, network;\n    return _regenerator2.default.wrap(function _callee15$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            name = popup.inputs.name.value;\n            password = popup.inputs.password.value;\n            network = popup.inputs.testnet.checked ? 'test' : 'public';\n            _context16.next = 5;\n            return popup.setInfo('Creating new account...');\n\n          case 5:\n            _context16.next = 7;\n            return global.db.newAccount(password, name, network);\n\n          case 7:\n            refreshAccountSelector();\n            selectAccount(name);\n            hideMenu();\n\n          case 10:\n          case 'end':\n            return _context16.stop();\n        }\n      }\n    }, _callee15, this);\n  })));\n}\n\nfunction exportBackup() {\n  var _this8 = this;\n\n  var popup = (0, _popup.passwordPopup)(global.db.username, 'Make backup for: ' + global.db.username);\n  popup.addValidator(function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee16(password) {\n      var backup;\n      return _regenerator2.default.wrap(function _callee16$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              _context17.next = 2;\n              return popup.setInfo('Checking password...');\n\n            case 2:\n              _context17.next = 4;\n              return global.db.backup(password);\n\n            case 4:\n              backup = _context17.sent;\n\n              (0, _helpers.download)(global.db.username + '.user', backup);\n\n            case 6:\n            case 'end':\n              return _context17.stop();\n          }\n        }\n      }, _callee16, _this8);\n    }));\n\n    return function (_x7) {\n      return _ref16.apply(this, arguments);\n    };\n  }());\n}\n\nfunction passwordChange() {\n  var popup = new _popup.Popup('Change password');\n  popup.addAutofillPasswordBox(global.db.username).addPasswordBox('password2', 'New password').addPasswordBox('password3', 'Confirmation').addCancelConfirmButtons().addValidator(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee17() {\n    var password, password2, password3;\n    return _regenerator2.default.wrap(function _callee17$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            password = popup.inputs.password.value;\n            password2 = popup.inputs.password2.value;\n            password3 = popup.inputs.password3.value;\n\n            if (!(password2 !== password3)) {\n              _context18.next = 5;\n              break;\n            }\n\n            throw new Error('New passwords mismatch');\n\n          case 5:\n            _context18.next = 7;\n            return popup.setInfo('Setting new password...');\n\n          case 7:\n            _context18.next = 9;\n            return global.db.changePassword(password, password2);\n\n          case 9:\n          case 'end':\n            return _context18.stop();\n        }\n      }\n    }, _callee17, this);\n  })));\n}\n\nfunction removeUser(password) {\n  var _this9 = this;\n\n  var popup = (0, _popup.passwordPopup)(global.db.username, node.create('div', null, 'Remove user: ' + global.db.username, node.create('hr'), 'You\\'re about to remove this profile and all associated accounts from\\n      this device. Please make sure that you have an alternative way to access\\n      them, or that there\\'s no more funds on them.'));\n\n  popup.addValidator(function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee18(password) {\n      return _regenerator2.default.wrap(function _callee18$(_context19) {\n        while (1) {\n          switch (_context19.prev = _context19.next) {\n            case 0:\n              _context19.next = 2;\n              return popup.setInfo('Deleting account...');\n\n            case 2:\n              _context19.next = 4;\n              return global.db.delete(password);\n\n            case 4:\n              logout();\n\n            case 5:\n            case 'end':\n              return _context19.stop();\n          }\n        }\n      }, _callee18, _this9);\n    }));\n\n    return function (_x8) {\n      return _ref18.apply(this, arguments);\n    };\n  }());\n}\n\nfunction logout() {\n  hideMenu();\n  global.db.logout();\n  global.db = undefined;\n  clearMessages();\n\n  headerShowTitle();\n  selectPage();\n  footerShowDisclaimer();\n  login();\n}\n\n/** ***************************** Page switching *******************************/\n\nvar titleNode = node.grab('#title');\nvar accountsNode = node.grab('#accounts');\nvar disclaimerNode = node.grab('#disclaimer');\nvar aboutLinkNode = node.grab('#aboutLink');\n\nvar aboutPage = node.grab('#about');\n\nfunction top() {\n  scroll(0, 0);\n}\n\nfunction selectPage(element) {\n  var previousPage = currentPage();\n  if (previousPage) mainNode.removeChild(previousPage);\n  node.clear(notificationsNode);\n\n  if (element) {\n    node.show(mainNode);\n    node.append(mainNode, element);\n  } else node.hide(mainNode);\n\n  top();\n}\n\nfunction currentPage() {\n  return node.grab('.page', mainNode);\n}\n\nfunction headerShowTitle() {\n  node.hide(accountsNode);\n  node.show(titleNode);\n}\n\nfunction headerShowAccounts() {\n  node.hide(titleNode);\n  node.show(accountsNode);\n}\n\nfunction showMessages() {\n  node.show(messagesNode);\n}\n\nfunction hideMessages() {\n  node.hide(messagesNode);\n}\n\nfunction clearMessages() {\n  node.clear(passwordNode);\n  node.clear(notificationsNode);\n}\n\nfunction footerShowDisclaimer() {\n  node.hide(aboutLinkNode);\n  node.show(disclaimerNode);\n}\n\nfunction footerShowAbout() {\n  node.hide(disclaimerNode);\n  node.show(aboutLinkNode);\n}\n\nfunction about() {\n  headerShowTitle();\n  hideMessages();\n  selectPage(aboutPage);\n  node.hide(aboutLinkNode);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVUkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9VSS5qcz9hYjcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29zbWljTGlua30gZnJvbSAnLi9jb3NtaWMtbGliJ1xuaW1wb3J0IHtGb3JtfSBmcm9tICcuL2Zvcm0nXG5pbXBvcnQge1BvcHVwLCBwYXNzd29yZFBvcHVwfSBmcm9tICcuL3BvcHVwJ1xuaW1wb3J0IHtEYXRhYmFzZX0gZnJvbSAnLi9kYXRhYmFzZSdcbmltcG9ydCB7Tm90aWZpY2F0aW9ufSBmcm9tICcuL25vdGlmaWNhdGlvbnMnXG5pbXBvcnQge2Rvd25sb2FkLCByZWFkRmlsZX0gZnJvbSAnLi9oZWxwZXJzJ1xuXG5pbXBvcnQgKiBhcyBub2RlIGZyb20gJy4vY29zbWljLWxpYi9ub2RlJ1xuXG5jb25zdCBnbG9iYWwgPSB7XG4gIGNvc21pY0xpbms6IG51bGwsXG4gIGRiOiBudWxsLFxuICBzaWduZXJzOiBudWxsLFxuICBoaXN0b3J5OiBoaXN0b3J5Lmxlbmd0aFxufVxuXG4vKiogKiBoZWxwZXJzICoqKi9cbmNvbnN0IHB1YmxpY1NlcnZlciA9IG5ldyBTdGVsbGFyU2RrLlNlcnZlcignaHR0cHM6Ly9ob3Jpem9uLnN0ZWxsYXIub3JnJylcbmNvbnN0IHRlc3RpbmdTZXJ2ZXIgPSBuZXcgU3RlbGxhclNkay5TZXJ2ZXIoJ2h0dHBzOi8vaG9yaXpvbi10ZXN0bmV0LnN0ZWxsYXIub3JnJylcblxuZnVuY3Rpb24gZ2V0U2VydmVyIChuZXR3b3JrKSB7XG4gIHN3aXRjaCAobmV0d29yaykge1xuICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgIGNhc2UgJ3B1YmxpYyc6IHJldHVybiBwdWJsaWNTZXJ2ZXJcbiAgICBjYXNlICd0ZXN0JzogcmV0dXJuIHRlc3RpbmdTZXJ2ZXJcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmV0d29yazogJyArIG5ldHdvcmspXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYWNjb3VudEV4aXN0IChwdWJsaWNLZXksIG5ldHdvcmspIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRTZXJ2ZXIobmV0d29yaykubG9hZEFjY291bnQocHVibGljS2V5KVxuICAgIHJldHVybiB0cnVlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKiogTG9naW4gaW4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IG1haW5Ob2RlID0gbm9kZS5ncmFiKCdtYWluJylcbmNvbnN0IHdlbGNvbWVQYWdlID0gbm9kZS5ncmFiKCcjd2VsY29tZScpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0ICgpIHtcbiAgZ2xvYmFsLmRiID0gYXdhaXQgRGF0YWJhc2UuY3VycmVudCgpXG4gIGlmIChsb2NhbFN0b3JhZ2UuYWNjb3VudHMgJiYgIWxvY2FsU3RvcmFnZS51cGdyYWRlZCkge1xuICAgIHVwZ3JhZGUoKVxuICB9IGVsc2UgaWYgKGdsb2JhbC5kYikgb3BlbigpXG4gIGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5sZW5ndGgpIGxvZ2luKClcbiAgZWxzZSBzZWxlY3RQYWdlKHdlbGNvbWVQYWdlKVxufVxuXG5mdW5jdGlvbiBsb2dpbiAoKSB7XG4gIGNvbnN0IHNlbGVjdE5vZGUgPSBtYWtlVXNlclNlbGVjdG9yKClcblxuICBpZiAoc2VsZWN0Tm9kZS5sZW5ndGggPT09IDApIHtcbiAgICBzZWxlY3RQYWdlKHdlbGNvbWVQYWdlKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8vIEZpeCBwYXNzd29yZCBhdXRvZmlsbFxuICBzZWxlY3ROb2RlLm9uY2hhbmdlID0gKCkgPT4ge1xuICAgIHVzZXJuYW1lTm9kZS52YWx1ZSA9IHNlbGVjdE5vZGUudmFsdWVcbiAgICBjb25zdCBwYXNzd29yZE5vZGUgPSBwb3B1cC5pbnB1dHMucGFzc3dvcmRcbiAgICBwYXNzd29yZE5vZGUubmFtZSA9ICcnXG4gICAgY29uc3QgbmV3Tm9kZSA9IG5vZGUuY3JlYXRlKCdpbnB1dCcsIHtcbiAgICAgIG5hbWU6ICdwYXNzd29yZCcsXG4gICAgICB0eXBlOiAncGFzc3dvcmQnLFxuICAgICAgcGxhY2Vob2xkZXI6ICdBdXRoZW50aWNhdG9yIHBhc3N3b3JkJ1xuICAgIH0pXG4gICAgcG9wdXAubm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcGFzc3dvcmROb2RlKVxuICAgIHBvcHVwLmlucHV0cy5wYXNzd29yZCA9IG5ld05vZGVcbiAgICBub2RlLmRlc3Ryb3kocGFzc3dvcmROb2RlKVxuICB9XG5cbiAgY29uc3QgbGFzdCA9IGxvY2FsU3RvcmFnZS5sYXN0U2VsZWN0ZWRVc2VyXG4gIGlmIChsYXN0KSBzZWxlY3ROb2RlLnNlbGVjdGVkSW5kZXggPSBsYXN0XG5cbiAgY29uc3QgcG9wdXAgPSBuZXcgUG9wdXAoJ1BsZWFzZSBlbnRlciB5b3VyIHBhc3N3b3JkIHRvIHN0YXJ0JywgdHJ1ZSlcbiAgY29uc3QgaW5wdXRzID0gcG9wdXAuaW5wdXRzXG4gIGNvbnN0IHVzZXJuYW1lTm9kZSA9IG5vZGUuY3JlYXRlKCdpbnB1dCcsIHtcbiAgICByZWFkb25seTogdHJ1ZSxcbiAgICB2YWx1ZTogc2VsZWN0Tm9kZS52YWx1ZSxcbiAgICBuYW1lOiAndXNlcm5hbWUnXG4gIH0pXG4gIG5vZGUuaGlkZSh1c2VybmFtZU5vZGUpXG5cbiAgcG9wdXAuYWRkTm9kZSgndXNlcm5hbWVTZWxlY3RvcicsIHNlbGVjdE5vZGUpXG4gICAgLmFkZE5vZGUoJycsIHVzZXJuYW1lTm9kZSlcbiAgICAuYWRkUGFzc3dvcmRCb3goJ3Bhc3N3b3JkJylcbiAgICAuYWRkU3VibWl0KCdPcGVuJylcbiAgICAuYWRkU2VwYXJhdG9yKClcbiAgICAuYWRkTm9kZSgnJywgbm9kZS5jcmVhdGUoJ2EnLCB7IG9uY2xpY2s6ICgpID0+IG5ld1VzZXIocG9wdXApIH0sICdOZXcgdXNlcicpKVxuICAgIC5hZGROb2RlKCcnLCAnIHwgJylcbiAgICAuYWRkTm9kZSgnJywgbm9kZS5jcmVhdGUoJ2EnLCB7IG9uY2xpY2s6ICgpID0+IGltcG9ydFVzZXIocG9wdXApIH0sICdJbXBvcnQgdXNlcicpKVxuICAgIC5zZWxlY3QoKVxuICAgIC5hZGRWYWxpZGF0b3IoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgcG9wdXAuc2V0SW5mbygnT3BlbmluZyB5b3VyIHNlc3Npb24uLi4nKVxuICAgICAgbG9jYWxTdG9yYWdlLmxhc3RTZWxlY3RlZFVzZXIgPSBpbnB1dHMudXNlcm5hbWVTZWxlY3Rvci5zZWxlY3RlZEluZGV4XG4gICAgICBjb25zdCB1c2VybmFtZSA9IGlucHV0cy51c2VybmFtZVNlbGVjdG9yLnZhbHVlXG4gICAgICBjb25zdCBwYXNzd29yZCA9IGlucHV0cy5wYXNzd29yZC52YWx1ZVxuICAgICAgZ2xvYmFsLmRiID0gYXdhaXQgRGF0YWJhc2UubG9hZCh1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICBwb3B1cC5kZXN0cm95KClcbiAgICAgIG9wZW4oKVxuICAgIH0pXG4gIGlucHV0cy5wYXNzd29yZC5mb2N1cygpXG59XG5cbmZ1bmN0aW9uIG1ha2VVc2VyU2VsZWN0b3IgKCkge1xuICBjb25zdCBzZWxlY3ROb2RlID0gbm9kZS5jcmVhdGUoJ3NlbGVjdCcpXG4gIGNvbnN0IHVzZXJuYW1lcyA9IERhdGFiYXNlLmxpc3RVc2VycygpXG4gIHVzZXJuYW1lcy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgIG5vZGUuYXBwZW5kKHNlbGVjdE5vZGUsIG5vZGUuY3JlYXRlKCdvcHRpb24nLCB7IHZhbHVlOiB1c2VyIH0sIHVzZXIpKVxuICB9KVxuICByZXR1cm4gc2VsZWN0Tm9kZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3VXNlciAobG9naW5Qb3B1cCkge1xuICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cCgnUGxlYXNlIHBpY2sgYSBuYW1lIGFuZCBhIHBhc3N3b3JkJywgbG9naW5Qb3B1cClcbiAgcG9wdXAuYWRkVGV4dEJveCgndXNlcm5hbWUnLCAnVXNlcm5hbWUnKVxuICAgIC5hZGRQYXNzd29yZEJveCgncGFzc3dvcmQnLCAnQXV0aGVudGljYXRvciBwYXNzd29yZCcpXG4gICAgLmFkZFBhc3N3b3JkQm94KCdwYXNzd29yZDInLCAnUGFzc3dvcmQgY29uZmlybWF0aW9uJylcbiAgICAuYWRkQ2FuY2VsQ29uZmlybUJ1dHRvbnMoKVxuICAgIC5hZGRWYWxpZGF0b3IoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlcm5hbWUgPSBwb3B1cC5pbnB1dHMudXNlcm5hbWUudmFsdWVcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gcG9wdXAuaW5wdXRzLnBhc3N3b3JkLnZhbHVlXG4gICAgICBjb25zdCBjb25maXJtYXRpb24gPSBwb3B1cC5pbnB1dHMucGFzc3dvcmQyLnZhbHVlXG4gICAgICBpZiAocGFzc3dvcmQgIT09IGNvbmZpcm1hdGlvbikgdGhyb3cgbmV3IEVycm9yKCdQYXNzd29yZCBtaXNtYXRjaCcpXG5cbiAgICAgIGF3YWl0IHBvcHVwLnNldEluZm8oJ0NyZWF0aW5nIHVzZXIuLi4nKVxuICAgICAgZ2xvYmFsLmRiID0gYXdhaXQgRGF0YWJhc2UubmV3KHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgIGF3YWl0IGdsb2JhbC5kYi5uZXdBY2NvdW50KHBhc3N3b3JkLCB1c2VybmFtZSlcbiAgICAgIGlmIChsb2dpblBvcHVwKSBsb2dpblBvcHVwLmRlc3Ryb3koKVxuICAgICAgb3BlbigpXG4gICAgfSlcblxuICBpZiAobG9naW5Qb3B1cCkge1xuICAgIGxvZ2luUG9wdXAuaGlkZSgpXG4gICAgcG9wdXAuaW5wdXRzLmNhbmNlbC5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcG9wdXAub25FeGl0KClcbiAgICAgIGxvZ2luUG9wdXAuc2hvdygpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRVc2VyIChsb2dpblBvcHVwKSB7XG4gIGNvbnN0IHBvcHVwID0gbmV3IFBvcHVwKCdJbXBvcnQgdXNlcicsIGxvZ2luUG9wdXApXG4gIHBvcHVwLnB1dEluZm9Ob2RlKClcbiAgICAuYWRkRmlsZVNlbGVjdG9yKCdmaWxlJywgJ1NlbGVjdCBiYWNrdXAnKVxuICAgIC5hZGRUZXh0Qm94KCd1c2VybmFtZScsICdVc2VybmFtZScpXG4gICAgLmFkZFBhc3N3b3JkQm94KCdwYXNzd29yZCcsICdVc2VyIHBhc3N3b3JkJylcbiAgICAuYWRkQ2FuY2VsQ29uZmlybUJ1dHRvbnMoKVxuICAgIC5hZGRWYWxpZGF0b3IoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHBvcHVwLmlucHV0cy51c2VybmFtZS52YWx1ZVxuICAgICAgY29uc3QgcGFzc3dvcmQgPSBwb3B1cC5pbnB1dHMucGFzc3dvcmQudmFsdWVcblxuICAgICAgaWYgKGxvY2FsU3RvcmFnZVt1c2VyICsgJ19kYXRhYmFzZSddKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlJ3MgYWxyZWFkeSBhbiB1c2VyIGNhbGxlZDogXCIgKyB1c2VyKVxuICAgICAgfVxuXG4gICAgICBhd2FpdCBwb3B1cC5zZXRJbmZvKCdMb2FkaW5nIHVzZXIuLi4nKVxuICAgICAgY29uc3QgZW5jcnlwdGVkID0gYXdhaXQgcmVhZEZpbGUocG9wdXAuaW5wdXRzLmZpbGUuZmlsZXNbMF0pXG4gICAgICBnbG9iYWwuZGIgPSBhd2FpdCBEYXRhYmFzZS5vcGVuKHVzZXIsIHBhc3N3b3JkLCBlbmNyeXB0ZWQpXG4gICAgICBhd2FpdCBnbG9iYWwuZGIuc2F2ZSgpXG4gICAgICBpZiAobG9naW5Qb3B1cCkgbG9naW5Qb3B1cC5kZXN0cm95KClcbiAgICAgIG9wZW4oKVxuICAgIH0pXG5cbiAgY29uc3QgcHJldkhhbmRsZXIgPSBwb3B1cC5pbnB1dHMuZmlsZS5vbmNoYW5nZVxuICBwb3B1cC5pbnB1dHMuZmlsZS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2SGFuZGxlcigpXG4gICAgY29uc3QgZmlsZW5hbWUgPSBwb3B1cC5pbnB1dHMuZmlsZS52YWx1ZS5yZXBsYWNlKC9eLipcXFxcLywgJycpXG4gICAgaWYgKGZpbGVuYW1lLnN1YnN0cigtNSkgPT09ICcudXNlcicgJiYgIXBvcHVwLmlucHV0cy51c2VybmFtZS52YWx1ZSkge1xuICAgICAgcG9wdXAuaW5wdXRzLnVzZXJuYW1lLnZhbHVlID0gZmlsZW5hbWUuc3Vic3RyKDAsIGZpbGVuYW1lLmxlbmd0aCAtIDUpXG4gICAgICBwb3B1cC5pbnB1dHMucGFzc3dvcmQuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIGlmIChsb2dpblBvcHVwKSB7XG4gICAgbG9naW5Qb3B1cC5oaWRlKClcbiAgICBwb3B1cC5pbnB1dHMuY2FuY2VsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwb3B1cC5vbkV4aXQoKVxuICAgICAgbG9naW5Qb3B1cC5zaG93KClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcGFzc3dvcmROb2RlID0gbm9kZS5ncmFiKCcjcGFzc3dvcmQnKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVtb1ZlcnNpb24gKCkge1xuICBnbG9iYWwuZGIgPSBhd2FpdCBEYXRhYmFzZS5uZXcoJ2d1ZXN0JywgJ2RlbW8nKVxuICBhd2FpdCBnbG9iYWwuZGIubmV3QWNjb3VudCgnZGVtbycsICdndWVzdCcsICd0ZXN0JylcbiAgc2Vzc2lvblN0b3JhZ2UuZGVtbyA9ICd0cnVlJ1xuICBvcGVuKClcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBncmFkZSAoKSB7XG4gIGNvbnN0IHBvcHVwID0gbmV3IFBvcHVwKCdEYXRhYmFzZSB1cGdyYWRlJywgdHJ1ZSlcbiAgcG9wdXAuYWRkTWVzc2FnZShgU3RlbGxhciBBdXRoZW50aWNhdG9yIGhhcyBiZWVuIHVwZ3JhZGVkIGFuZCB0aGUgc2VjdXJlXG4gICAgICBkYXRhYmFzZSBoYXMgYmVlbiByZXdyaXR0ZW4uIEluIG9yZGVyIHRvIHN3aXRjaCB0byB0aGUgbmV3IGZvcm1hdCwgcGxlYXNlXG4gICAgICBwcm92aWRlIGFuIHVzZXJuYW1lIGFuZCB5b3VyIHBhc3N3b3JkLmApXG4gICAgLmFkZFNlcGFyYXRvcigpXG4gICAgLnB1dEluZm9Ob2RlKClcbiAgICAuYWRkVGV4dEJveCgndXNlcicsICdVc2VybmFtZScpXG4gICAgLmFkZFBhc3N3b3JkQm94KCdwYXNzd29yZCcsICdBdXRoZW50aWNhdG9yIHBhc3N3b3JkJylcbiAgICAuYWRkU3VibWl0KClcbiAgICAuYWRkVmFsaWRhdG9yKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHBvcHVwLnNldEluZm8oJ1VwZ3JhZGluZyBkYXRhYmFzZS4uLicpXG4gICAgICBjb25zdCB1c2VybmFtZSA9IHBvcHVwLmlucHV0cy51c2VyLnZhbHVlXG4gICAgICBjb25zdCBwYXNzd29yZCA9IHBvcHVwLmlucHV0cy5wYXNzd29yZC52YWx1ZVxuICAgICAgZ2xvYmFsLmRiID0gYXdhaXQgRGF0YWJhc2UudXBncmFkZSh1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICBsb2NhbFN0b3JhZ2VbdXNlcm5hbWUgKyAnX2xhc3RTZWxlY3RlZCddID0gbG9jYWxTdG9yYWdlLmluZGV4IC0gMVxuICAgICAgbG9jYWxTdG9yYWdlLnVwZ3JhZGVkID0gJ3RydWUnXG4gICAgICBvcGVuKClcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBvcGVuICgpIHtcbiAgaGVhZGVyU2hvd0FjY291bnRzKClcbiAgZm9vdGVyU2hvd0Fib3V0KClcbiAgaWYgKHNlc3Npb25TdG9yYWdlLmRlbW8pIHBhc3N3b3JkTm9kZS50ZXh0Q29udGVudCA9ICdUaGUgcGFzc3dvcmQgaXM6IGRlbW8nXG4gIHJlZnJlc2hQYWdlKClcbn1cblxuZnVuY3Rpb24gaGFuZGxlUXVlcnkgKCkge1xuICBpZiAobG9jYXRpb24uc2VhcmNoID09PSAnP2Fib3V0Jykge1xuICAgIGFib3V0KClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGhlYWRlclNob3dBY2NvdW50cygpXG4gIHJlZnJlc2hBY2NvdW50U2VsZWN0b3IoKVxuICByZWZyZXNoUHVibGljS2V5KClcbiAgc2hvd01lc3NhZ2VzKClcbiAgZm9vdGVyU2hvd0Fib3V0KClcblxuICBpZiAobG9jYXRpb24uc2VhcmNoLmxlbmd0aCA+IDEpIHtcbiAgICByZXNldFJlYWRUcmFuc2FjdGlvblBhZ2UoKVxuICAgIHNlbGVjdFBhZ2UocmVhZFRyYW5zYWN0aW9uUGFnZSlcbiAgICBwYXJzZVF1ZXJ5KGxvY2F0aW9uLnNlYXJjaClcbiAgfSBlbHNlIHtcbiAgICBzZWxlY3RQYWdlKG9wZW5UcmFuc2FjdGlvblBhZ2UpXG4gIH1cbn1cblxuY29uc3Qgb3BlblRyYW5zYWN0aW9uUGFnZSA9IG5vZGUuZ3JhYignI29wZW5UcmFuc2FjdGlvbicpXG5jb25zdCByZWFkVHJhbnNhY3Rpb25QYWdlID0gbm9kZS5ncmFiKCcjcmVhZFRyYW5zYWN0aW9uJylcblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKiogT3BlbiB0cmFuc2FjdGlvbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IG9wZW5VcmlGb3JtID0gbmV3IEZvcm0obm9kZS5ncmFiKCcjb3BlblVyaScpKVxuICAuYWRkVmFsaWRhdG9yKCgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBvcGVuVXJpRm9ybS5pbnB1dHMudXJpLnZhbHVlXG4gICAgY29uc3QgcXVlcnkgPSB1cmkucmVwbGFjZSgvXlteP10qLywgJycpXG4gICAgaWYgKHF1ZXJ5IDwgMikgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB0cmFuc2FjdGlvbiBsaW5rJylcbiAgICBwdXNoUXVlcnkocXVlcnkpXG4gICAgb3BlblVyaUZvcm0ucmVzZXQoKVxuICB9KVxuXG5jb25zdCBvcGVuWGRyRm9ybSA9IG5ldyBGb3JtKG5vZGUuZ3JhYignI29wZW5YZHInKSlcbiAgLmFkZFZhbGlkYXRvcigoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IG9wZW5YZHJGb3JtLmlucHV0c1xuICAgICAgY29uc3QgeGRyID0gaW5wdXRzLnhkci52YWx1ZVxuICAgICAgbmV3IFN0ZWxsYXJTZGsuVHJhbnNhY3Rpb24oeGRyKVxuICAgICAgbGV0IHF1ZXJ5ID0gJz94ZHI9JyArIHhkclxuICAgICAgaWYgKGlucHV0cy5zdHJpcFNvdXJjZS5jaGVja2VkKSBxdWVyeSArPSAnJnN0cmlwU291cmNlJ1xuICAgICAgZWxzZSBpZiAoaW5wdXRzLnN0cmlwU2VxdWVuY2UuY2hlY2tlZCkgcXVlcnkgKz0gJyZzdHJpcFNlcXVlbmNlJ1xuICAgICAgZWxzZSBpZiAoaW5wdXRzLnN0cmlwU2lnbmF0dXJlcy5jaGVja2VkKSBxdWVyeSArPSAnJnN0cmlwU2lnbmF0dXJlcydcbiAgICAgIHB1c2hRdWVyeShxdWVyeSlcbiAgICAgIG9wZW5YZHJGb3JtLnJlc2V0KClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgWERSJylcbiAgICB9XG4gIH0pXG5cbmNvbnN0IHhkclN0cmlwU291cmNlTm9kZSA9IG5vZGUuZ3JhYignI3hkclN0cmlwU291cmNlJylcbmNvbnN0IHhkclN0cmlwU2VxdWVuY2VOb2RlID0gbm9kZS5ncmFiKCcjeGRyU3RyaXBTZXF1ZW5jZScpXG5jb25zdCB4ZHJTdHJpcFNpZ25hdHVyZXNOb2RlID0gbm9kZS5ncmFiKCcjeGRyU3RyaXBTaWduYXR1cmVzJylcbmV4cG9ydCBmdW5jdGlvbiBvcGVuWGRyT3B0aW9uIChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcbiAgICB4ZHJTdHJpcFNvdXJjZU5vZGUuY2hlY2tlZCA9IGZhbHNlXG4gICAgeGRyU3RyaXBTZXF1ZW5jZU5vZGUuY2hlY2tlZCA9IGZhbHNlXG4gICAgeGRyU3RyaXBTaWduYXR1cmVzTm9kZS5jaGVja2VkID0gZmFsc2VcbiAgICBlbGVtZW50LmNoZWNrZWQgPSB0cnVlXG4gIH1cbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFJlYWQgdHJhbnNhY3Rpb24gKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IHRyYW5zYWN0aW9uTm9kZSA9IG5vZGUuZ3JhYignI0NMX2h0bWxOb2RlJylcblxuYXN5bmMgZnVuY3Rpb24gcGFyc2VRdWVyeSAocXVlcnkpIHtcbiAgY29uc3QgYWNjb3VudCA9IGN1cnJlbnRBY2NvdW50KClcbiAgY29uc3QgbmV0d29yayA9IGFjY291bnQgJiYgZ2xvYmFsLmRiLm5ldHdvcmsoYWNjb3VudClcbiAgY29uc3QgcHVibGljS2V5ID0gYWNjb3VudCAmJiBnbG9iYWwuZGIucHVibGljS2V5KGFjY291bnQpXG5cbiAgZ2xvYmFsLmNvc21pY0xpbmsgPSBuZXcgQ29zbWljTGluayhxdWVyeSwgbmV0d29yaywgcHVibGljS2V5KVxuICBnbG9iYWwuY29zbWljTGluay5hZGRBbGlhc2VzKGdsb2JhbC5kYi5hbGlhc2VzKVxuICBpZiAoIWFjY291bnQpIHJldHVyblxuXG4gIC8vLyBDaGVjayBpZiBhY2NvdW50IGV4aXN0cy5cbiAgY29uc3QgbG9hZGluZ01zZyA9IG5ldyBOb3RpZmljYXRpb24oJ2xvYWRpbmcnLCAnTG9hZGluZyBhY2NvdW50Li4uJylcbiAgbGV0IGV4aXN0ID0gYXdhaXQgYWNjb3VudEV4aXN0KHB1YmxpY0tleSwgbmV0d29yaylcbiAgbG9hZGluZ01zZy5kZXN0cm95KClcbiAgaWYgKGN1cnJlbnRBY2NvdW50KCkgIT09IGFjY291bnQpIHJldHVyblxuXG4gIC8vLyBGdW5kIGVtcHR5IHRlc3QgYWNjb3VudHMuXG4gIGlmICghZXhpc3QpIHtcbiAgICBpZiAobmV0d29yayA9PT0gJ3Rlc3QnKSB7XG4gICAgICBhd2FpdCBmdW5kVGVzdEFjY291bnQocHVibGljS2V5KVxuICAgICAgcGFyc2VRdWVyeShxdWVyeSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuXG4gIC8vLyBGaW5kIGxlZ2l0IHNpZ25lcnNcbiAgbGV0IHRkZXNjLCBzaWduZXJzXG4gIHRyeSB7XG4gICAgdGRlc2MgPSBhd2FpdCBnbG9iYWwuY29zbWljTGluay5nZXRUZGVzYygpXG4gICAgc2lnbmVycyA9IGF3YWl0IGdsb2JhbC5jb3NtaWNMaW5rLmdldFNpZ25lcnMoKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIHJldHVyblxuICB9XG4gIGdsb2JhbC5zaWduZXJzID0gW11cbiAgaWYgKHRkZXNjLnNvdXJjZSkge1xuICAgIGZvciAobGV0IGluZGV4IGluIGFjY291bnRTZWxlY3Rvci5jaGlsZE5vZGVzKSB7XG4gICAgICBjb25zdCBhY2NvdW50Tm9kZSA9IGFjY291bnRTZWxlY3Rvci5jaGlsZE5vZGVzW2luZGV4XVxuICAgICAgY29uc3QgYWNjb3VudE5hbWUgPSBhY2NvdW50Tm9kZS52YWx1ZVxuICAgICAgY29uc3Qgc291cmNlID0gYXdhaXQgZ2xvYmFsLmNvc21pY0xpbmsuZ2V0U291cmNlKClcbiAgICAgIGlmICghYWNjb3VudE5hbWUpIGNvbnRpbnVlXG4gICAgICBjb25zdCBwdWJsaWNLZXkgPSBnbG9iYWwuZGIucHVibGljS2V5KGFjY291bnROYW1lKVxuICAgICAgaWYgKHNpZ25lcnMuZmluZChlbnRyeSA9PiBlbnRyeS52YWx1ZSA9PT0gcHVibGljS2V5KSkge1xuICAgICAgICBpZiAocHVibGljS2V5ID09PSBzb3VyY2UpIGdsb2JhbC5zaWduZXJzLnVuc2hpZnQoYWNjb3VudE5hbWUpXG4gICAgICAgIGVsc2UgZ2xvYmFsLnNpZ25lcnMucHVzaChhY2NvdW50TmFtZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjY291bnROb2RlLmRpc2FibGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnbG9iYWwuc2lnbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGFjY291bnRTZWxlY3Rvci5zZWxlY3RlZEluZGV4ID0gLTFcbiAgICAgIHJlZnJlc2hQdWJsaWNLZXkoKVxuICAgICAgZ2xvYmFsLmNvc21pY0xpbmsudXNlciA9IG51bGxcbiAgICAgIG5ldyBOb3RpZmljYXRpb24oJ3dhcm5pbmcnLCAnTm8gc2lnbmVyIGZvciB0aGlzIHRyYW5zYWN0aW9uJyxcbiAgICAgICAgXCJUaGVyZSdzIG5vIGxlZ2l0IHNpZ25lciBmb3IgdGhpcyB0cmFuc2FjdGlvbiBhbW9uZyB5b3VyIGFjY291bnRzLlwiXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIWdsb2JhbC5zaWduZXJzLmZpbmQoZW50cnkgPT4gZW50cnkgPT09IGFjY291bnQpKSB7XG4gICAgICBhY2NvdW50U2VsZWN0b3IudmFsdWUgPSBnbG9iYWwuc2lnbmVyc1swXVxuICAgICAgcmVmcmVzaFB1YmxpY0tleSgpXG4gICAgICBnbG9iYWwuY29zbWljTGluay51c2VyID0gcHVibGljS2V5Tm9kZS52YWx1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzaWduZXJzLmZvckVhY2goc2lnbmVyID0+IHtcbiAgICAgIGNvbnN0IGFjY291bnROYW1lID0gZ2xvYmFsLmRiLmFjY291bnROYW1lKHNpZ25lci52YWx1ZSwgbmV0d29yaylcbiAgICAgIGlmIChhY2NvdW50TmFtZSkgZ2xvYmFsLnNpZ25lcnMucHVzaChhY2NvdW50TmFtZSlcbiAgICB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBnbG9iYWwuY29zbWljTGluay5nZXRYZHIoKVxuICAgIGlmIChnbG9iYWwuc2lnbmVycy5sZW5ndGgpIHNpZ25pbmdCdXR0b24uZGlzYWJsZWQgPSBmYWxzZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICB9XG59XG5cbkNvc21pY0xpbmsuYWRkRm9ybWF0SGFuZGxlcigneGRyJywgZXZlbnQgPT4ge1xuICBpZiAoZXZlbnQuY29zbWljTGluayAhPT0gZ2xvYmFsLmNvc21pY0xpbmspIHJldHVyblxuICBpZiAoZXZlbnQudmFsdWUpIHhkckJveC52YWx1ZSA9IGV2ZW50LnZhbHVlXG4gIGVsc2UgeGRyQm94LnBsYWNlaG9sZGVyID0gZXZlbnQuZXJyb3IubWVzc2FnZVxufSlcblxuQ29zbWljTGluay5hZGRGb3JtYXRIYW5kbGVyKCd1cmknLCBldmVudCA9PiB7XG4gIGlmIChldmVudC5jb3NtaWNMaW5rICE9PSBnbG9iYWwuY29zbWljTGluaykgcmV0dXJuXG4gIGlmIChldmVudC52YWx1ZSkgdXJpQm94LnZhbHVlID0gZXZlbnQudmFsdWVcbiAgZWxzZSB1cmlCb3gucGxhY2Vob2xkZXIgPSBldmVudC5lcnJvci5tZXNzYWdlXG59KVxuXG5Db3NtaWNMaW5rLmFkZEZvcm1hdEhhbmRsZXIoJ3F1ZXJ5JywgZXZlbnQgPT4ge1xuICBpZiAoZXZlbnQuY29zbWljTGluayAhPT0gZ2xvYmFsLmNvc21pY0xpbmspIHJldHVyblxuICBpZiAoZXZlbnQudmFsdWUpIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCBldmVudC52YWx1ZSlcbiAgZWxzZSBjb25zb2xlLmxvZyhldmVudC5lcnJvcilcbn0pXG5cbmZ1bmN0aW9uIGZ1bmRUZXN0QWNjb3VudCAocHVibGljS2V5KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgYWNjb3VudCA9IGN1cnJlbnRBY2NvdW50KClcbiAgICBjb25zdCBmdW5kaW5nTXNnID0gbmV3IE5vdGlmaWNhdGlvbignbG9hZGluZycsICdGdW5kaW5nIHRlc3RuZXQgYWNjb3VudC4uLicpXG5cbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHhoci5vcGVuKCdHRVQnLCAnaHR0cHM6Ly9mcmllbmRib3Quc3RlbGxhci5vcmcvP2FkZHI9JyArIHB1YmxpY0tleSwgdHJ1ZSlcbiAgICB4aHIuc2VuZCgpXG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmRpbmdNc2cuZGVzdHJveSgpXG4gICAgICBpZiAoY3VycmVudEFjY291bnQoKSAhPT0gYWNjb3VudCkgcmV0dXJuXG4gICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coeGhyLnJlc3BvbnNlKVxuICAgICAgICBuZXcgTm90aWZpY2F0aW9uKCd3YXJuaW5nJywgXCJDYW4ndCBmdW5kIGFjY291bnRcIixcbiAgICAgICAgICAnRm9yIHNvbWUgcmVhc29uLCBTdGVsbGFyIGZyaWVuZCBib3QgY291bGQgbm90IGZ1bmQgeW91ciB0ZXN0bmV0IGFjY291bnQuJ1xuICAgICAgICApXG4gICAgICAgIHJlamVjdCgpXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5jb25zdCB1cmlWaWV3ZXJGb3JtID0gbmV3IEZvcm0obm9kZS5ncmFiKCcjdXJpVmlld2VyJykpXG5jb25zdCB1cmlCb3ggPSB1cmlWaWV3ZXJGb3JtLmlucHV0cy51cmlcbmNvbnN0IHhkclZpZXdlckZvcm0gPSBuZXcgRm9ybShub2RlLmdyYWIoJyN4ZHJWaWV3ZXInKSlcbmNvbnN0IHhkckJveCA9IHhkclZpZXdlckZvcm0uaW5wdXRzLnhkclxuXG5jb25zdCBzaWduaW5nQnV0dG9uID0gbm9kZS5ncmFiKCcjc2lnbmluZ0J1dHRvbicpXG5zaWduaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbkFuZFNlbmQgKCkge1xuICBjb25zdCBwb3B1cCA9IHBhc3N3b3JkUG9wdXAoZ2xvYmFsLmRiLnVzZXJuYW1lLCAnU2lnbiAmIHNlbmQnKVxuICBwb3B1cC5hZGRWYWxpZGF0b3IoYXN5bmMgcGFzc3dvcmQgPT4ge1xuICAgIGF3YWl0IHBvcHVwLnNldEluZm8oJ1NpZ25pbmcgdHJhbnNhY3Rpb24uLi4nKVxuXG4gICAgY29uc3Qgc2VlZHMgPSBhd2FpdCBnbG9iYWwuZGIuc2VjcmV0U2VlZChwYXNzd29yZCwgLi4uZ2xvYmFsLnNpZ25lcnMpXG4gICAgaWYgKHR5cGVvZiBzZWVkcyA9PT0gJ3N0cmluZycpIGF3YWl0IGdsb2JhbC5jb3NtaWNMaW5rLnNpZ24oc2VlZHMpXG4gICAgZWxzZSBmb3IgKGxldCBpbmRleCBpbiBzZWVkcykgYXdhaXQgZ2xvYmFsLmNvc21pY0xpbmsuc2lnbihzZWVkc1tpbmRleF0pXG4gICAgc2lnbmluZ0J1dHRvbi5kaXNhYmxlZCA9IHRydWVcblxuICAgIHBvcHVwLmRlc3Ryb3koKVxuXG4gICAgdG9wKClcbiAgICBjb25zdCBtZXNzYWdlMiA9IG5ldyBOb3RpZmljYXRpb24oJ2xvYWRpbmcnLCAnU2VuZGluZyB0cmFuc2FjdGlvbi4uLicpXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGdsb2JhbC5jb3NtaWNMaW5rLnNlbmQoKVxuICAgICAgbmV3IE5vdGlmaWNhdGlvbignZG9uZScsICdUcmFuc2FjdGlvbiB2YWxpZGF0ZWQnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgIG5ldyBOb3RpZmljYXRpb24oJ3dhcm5pbmcnLCAnVHJhbnNhY3Rpb24gcmVqZWN0ZWQnLCBlcnJvcilcbiAgICB9XG4gICAgbWVzc2FnZTIuZGVzdHJveSgpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZVRyYW5zYWN0aW9uICgpIHtcbiAgZGVsZXRlIGdsb2JhbC5jb3NtaWNMaW5rXG4gIHBvcFF1ZXJ5KClcbn1cblxuZnVuY3Rpb24gcmVzZXRSZWFkVHJhbnNhY3Rpb25QYWdlICgpIHtcbiAgbm9kZS5jbGVhcih0cmFuc2FjdGlvbk5vZGUpXG4gIHVyaVZpZXdlckZvcm0ucmVzZXQoKVxuICB4ZHJWaWV3ZXJGb3JtLnJlc2V0KClcbiAgeGRyQm94LnBsYWNlaG9sZGVyID0gJ0NvbXB1dGluZy4uLidcbiAgc2lnbmluZ0J1dHRvbi5kaXNhYmxlZCA9IHRydWVcbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBIaXN0b3J5ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBwdXNoUXVlcnkgKHF1ZXJ5KSB7XG4gIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsICcnLCBxdWVyeSlcbiAgaGFuZGxlUXVlcnkoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9wUXVlcnkgKCkge1xuICBpZiAoXG4gICAgZ2xvYmFsLmhpc3RvcnkgPT09IGhpc3RvcnkubGVuZ3RoICYmXG4gICAgIWRvY3VtZW50LnJlZmVycmVyXG4gICkge1xuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCAnPycpXG4gICAgaGFuZGxlUXVlcnkoKVxuICB9IGVsc2Uge1xuICAgIGhpc3RvcnkuYmFjaygpXG4gIH1cbn1cblxud2luZG93Lm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChnbG9iYWwuZGIpIGhhbmRsZVF1ZXJ5KClcbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKiBIZWFkZXIgJiBhY2NvdW50IHNlbGVjdGlvbiAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IGFjY291bnRTZWxlY3RvciA9IG5vZGUuZ3JhYignI2FjY291bnRTZWxlY3RvcicpXG5jb25zdCBwdWJsaWNLZXlOb2RlID0gbm9kZS5ncmFiKCcjcHVibGljS2V5JylcbmNvbnN0IG5vdGlmaWNhdGlvbnNOb2RlID0gbm9kZS5ncmFiKCcjbm90aWZpY2F0aW9ucycpXG5cbmZ1bmN0aW9uIHJlZnJlc2hQYWdlICgpIHtcbiAgcmVmcmVzaEFjY291bnRTZWxlY3RvcigpXG4gIHJlZnJlc2hQdWJsaWNLZXkoKVxuICBoYW5kbGVRdWVyeSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RBY2NvdW50IChhY2NvdW50KSB7XG4gIGlmICghYWNjb3VudCkge1xuICAgIGFjY291bnQgPSBhY2NvdW50U2VsZWN0b3IudmFsdWVcbiAgfSBlbHNlIHtcbiAgICBhY2NvdW50U2VsZWN0b3IudmFsdWUgPSBhY2NvdW50XG4gIH1cbiAgbG9jYWxTdG9yYWdlW2dsb2JhbC5kYi51c2VybmFtZSArICdfbGFzdFNlbGVjdGVkJ10gPSBhY2NvdW50U2VsZWN0b3Iuc2VsZWN0ZWRJbmRleFxuICByZWZyZXNoUHVibGljS2V5KClcbiAgaGFuZGxlUXVlcnkoKVxuICByZXNldE1lbnUoKVxufVxuXG5mdW5jdGlvbiBjdXJyZW50QWNjb3VudCAoKSB7XG4gIHJldHVybiBhY2NvdW50U2VsZWN0b3IudmFsdWVcbn1cblxuZnVuY3Rpb24gcmVmcmVzaEFjY291bnRTZWxlY3RvciAoKSB7XG4gIHdoaWxlIChhY2NvdW50U2VsZWN0b3Iub3B0aW9ucy5sZW5ndGgpIHsgYWNjb3VudFNlbGVjdG9yLnJlbW92ZSgwKSB9XG5cbiAgY29uc3QgYWNjb3VudHNMaXN0ID0gZ2xvYmFsLmRiLmxpc3RBY2NvdW50cygpXG4gIGNvbnN0IGxpc3RXaXRoTmV0d29yayA9IGFjY291bnRzTGlzdC5tYXAoYWNjb3VudCA9PiB7XG4gICAgcmV0dXJuIFsgZ2xvYmFsLmRiLm5ldHdvcmsoYWNjb3VudCkgKyAnOiAnICsgYWNjb3VudCwgYWNjb3VudCBdXG4gIH0pLnNvcnQoKGEsIGIpID0+IGFbMF0udG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGJbMF0udG9Mb3dlckNhc2UoKSkpXG5cbiAgbGlzdFdpdGhOZXR3b3JrLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGNvbnN0IGFjY291bnROb2RlID0gbm9kZS5jcmVhdGUoJ29wdGlvbicsIHsgdmFsdWU6IGVudHJ5WzFdIH0sIGVudHJ5WzBdKVxuICAgIG5vZGUuYXBwZW5kKGFjY291bnRTZWxlY3RvciwgYWNjb3VudE5vZGUpXG4gIH0pXG5cbiAgbGV0IGxhc3RJbmRleCA9IGxvY2FsU3RvcmFnZVtnbG9iYWwuZGIudXNlcm5hbWUgKyAnX2xhc3RTZWxlY3RlZCddIHx8IDBcbiAgaWYgKGxhc3RJbmRleCA+IGFjY291bnRzTGlzdC5sZW5ndGggLSAxKSBsYXN0SW5kZXggPSBhY2NvdW50c0xpc3QubGVuZ3RoIC0gMVxuICBsb2NhbFN0b3JhZ2VbZ2xvYmFsLmRiLnVzZXJuYW1lICsgJ19sYXN0U2VsZWN0ZWQnXSA9IGxhc3RJbmRleFxuICBhY2NvdW50U2VsZWN0b3Iuc2VsZWN0ZWRJbmRleCA9IGxhc3RJbmRleFxufVxuXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoUHVibGljS2V5ICgpIHtcbiAgY29uc3QgYWNjb3VudCA9IGN1cnJlbnRBY2NvdW50KClcbiAgaWYgKGFjY291bnQpIHB1YmxpY0tleU5vZGUudmFsdWUgPSBnbG9iYWwuZGIucHVibGljS2V5KGFjY291bnQpXG4gIGVsc2UgcHVibGljS2V5Tm9kZS52YWx1ZSA9IG51bGxcblxuICBjb25zdCBjb3BpZWROb2RlID0gbm9kZS5ncmFiKCcjY29waWVkJylcbiAgaWYgKGNvcGllZE5vZGUpIG5vZGUuZGVzdHJveShjb3BpZWROb2RlKVxufVxuXG4vKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNldHRpbmdzICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3Qgc2V0dGluZ3NOb2RlID0gbm9kZS5ncmFiKCcjc2V0dGluZ3MnKVxuY29uc3QgaGVhZGVyTm9kZSA9IG5vZGUuZ3JhYignaGVhZGVyJylcbmNvbnN0IG1lbnVCdXR0b25Ob2RlID0gbm9kZS5ncmFiKCcjbWVudUJ1dHRvbicpXG5jb25zdCBtZXNzYWdlc05vZGUgPSBub2RlLmdyYWIoJyNtZXNzYWdlcycpXG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93TWVudSAoKSB7XG4gIG5vZGUuYXBwZW5kKGhlYWRlck5vZGUsIHNldHRpbmdzTm9kZSlcbiAgbm9kZS5zaG93KHNldHRpbmdzTm9kZSlcbiAgbm9kZS5oaWRlKG1haW5Ob2RlKVxuXG4gIGhlYWRlck5vZGUuc3R5bGUubWluSGVpZ2h0ID0gJzEwMCUnXG4gIGhlYWRlck5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gIG1lbnVCdXR0b25Ob2RlLm9uY2xpY2sgPSBoaWRlTWVudVxuICB0b3AoKVxufVxuXG5mdW5jdGlvbiBoaWRlTWVudSAoKSB7XG4gIG5vZGUuaGlkZShzZXR0aW5nc05vZGUpXG4gIG5vZGUuc2hvdyhtYWluTm9kZSlcblxuICBoZWFkZXJOb2RlLnN0eWxlLm1pbkhlaWdodCA9IG51bGxcbiAgaGVhZGVyTm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbiAgbWVudUJ1dHRvbk5vZGUub25jbGljayA9IHNob3dNZW51XG4gIHJlc2V0TWVudSgpXG4gIHRvcCgpXG59XG5cbmZ1bmN0aW9uIHJlc2V0TWVudSAoKSB7XG4gIGhpZGVTZWNyZXQoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NldHRpbmcgKHNldHRpbmcpIHtcbiAgcmVzZXRNZW51KClcbiAgbm9kZS5ncmFiKCcuc2hvdycsIHNldHRpbmdzTm9kZSkuY2xhc3NOYW1lID0gJydcbiAgc2V0dGluZy5jbGFzc05hbWUgPSAnc2hvdydcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTZWNyZXQgKCkge1xuICBjb25zdCBhY2NvdW50ID0gY3VycmVudEFjY291bnQoKVxuICBpZiAoIWFjY291bnQpIHJldHVyblxuICBjb25zdCBwb3B1cCA9IHBhc3N3b3JkUG9wdXAoZ2xvYmFsLmRiLnVzZXJuYW1lLFxuICAgIG5vZGUuY3JlYXRlKCdkaXYnLCBudWxsLFxuICAgICAgJ1Nob3cgc2VjcmV0IHNlZWQgZm9yOiAnICsgYWNjb3VudCxcbiAgICAgIG5vZGUuY3JlYXRlKCdocicpLFxuICAgICAgYFlvdXIgc2VjcmV0IHNlZWQgb2ZmZXIgZnVsbCBjb250cm9sIG92ZXIgeW91ciBhY2NvdW50IGFuZCBzaG91bGQgbmV2ZXIgYmVcbiAgICAgIGdpdmVuIGF3YXkuYFxuICAgICkpXG5cbiAgcG9wdXAuYWRkVmFsaWRhdG9yKGFzeW5jIHBhc3N3b3JkID0+IHtcbiAgICBhd2FpdCBwb3B1cC5zZXRJbmZvKCdEZWNyeXB0aW5nIHNlY3JldCBzZWVkLi4uJylcbiAgICBjb25zdCBzZWVkID0gYXdhaXQgZ2xvYmFsLmRiLnNlY3JldFNlZWQocGFzc3dvcmQsIGFjY291bnQpXG4gICAgY29uc3Qgc2VjcmV0Qm94ID0gbm9kZS5ncmFiKCcjc2VjcmV0U2VlZCcpXG4gICAgc2VjcmV0Qm94LnZhbHVlID0gc2VlZFxuICAgIG5vZGUuc2hvdyhzZWNyZXRCb3gpXG4gICAgY29uc3QgYnV0dG9uID0gbm9kZS5ncmFiKCcjc3dpdGNoU2VjcmV0JylcbiAgICBidXR0b24ub25jbGljayA9IGhpZGVTZWNyZXRcbiAgICBidXR0b24udmFsdWUgPSAnSGlkZSBzZWNyZXQgc2VlZCdcbiAgfSlcbn1cblxuZnVuY3Rpb24gaGlkZVNlY3JldCAoKSB7XG4gIGNvbnN0IHNlZWRCb3ggPSBub2RlLmdyYWIoJyNzZWNyZXRTZWVkJylcbiAgc2VlZEJveC52YWx1ZSA9IHVuZGVmaW5lZFxuICBub2RlLmhpZGUoc2VlZEJveClcbiAgY29uc3QgYnV0dG9uID0gbm9kZS5ncmFiKCcjc3dpdGNoU2VjcmV0JylcbiAgYnV0dG9uLm9uY2xpY2sgPSBzaG93U2VjcmV0XG4gIGJ1dHRvbi52YWx1ZSA9ICdTaG93IHNlY3JldCBzZWVkJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjb3VudCAoKSB7XG4gIGNvbnN0IGFjY291bnQgPSBjdXJyZW50QWNjb3VudCgpXG4gIGlmICghYWNjb3VudCkgcmV0dXJuXG5cbiAgY29uc3QgcG9wdXAgPSBwYXNzd29yZFBvcHVwKGdsb2JhbC5kYi51c2VybmFtZSxcbiAgICBub2RlLmNyZWF0ZSgnZGl2JywgbnVsbCxcbiAgICAgICdSZW1vdmUgYWNjb3VudDogJyArIGFjY291bnQsXG4gICAgICBub2RlLmNyZWF0ZSgnaHInKSxcbiAgICAgIGBZb3UncmUgYWJvdXQgdG8gcmVtb3ZlIHRoaXMgYWNjb3VudCBmcm9tIHRoaXMgZGV2aWNlLiBQbGVhc2UgbWFrZSBzdXJlXG4gICAgICB0aGF0IHlvdSBoYXZlIGFuIGFsdGVybmF0aXZlIHdheSB0byBhY2Nlc3MgaXQsIG9yIHRoYXQgdGhlcmUncyBubyBtb3JlXG4gICAgICBmdW5kcyBvbiBpdC5gXG4gICAgKSlcblxuICBwb3B1cC5hZGRWYWxpZGF0b3IoYXN5bmMgcGFzc3dvcmQgPT4ge1xuICAgIGF3YWl0IHBvcHVwLnNldEluZm8oJ1JlbW92aW5nIGFjY291bnQuLi4nKVxuICAgIGF3YWl0IGdsb2JhbC5kYi5yZW1vdmVBY2NvdW50KHBhc3N3b3JkLCBhY2NvdW50KVxuICAgIHJlZnJlc2hQYWdlKClcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydFNlZWQgKCkge1xuICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cCgnSW1wb3J0IGFjY291bnQgZnJvbSBzZWVkJylcbiAgcG9wdXAuYWRkVGV4dEJveCgnbmFtZScsICdBY2NvdW50IG5hbWUnKVxuICAgIC5hZGRUZXh0Qm94KCdzZWVkJywgJ1NlY3JldCBzZWVkJylcbiAgICAuYWRkQ2hlY2tCb3goJ3Rlc3RuZXQnLCAnT24gdGVzdG5ldCcsIGZhbHNlKVxuICAgIC5hZGRTZXBhcmF0b3IoKVxuICAgIC5hZGRQYXNzd29yZENvbmZpcm1hdGlvbihnbG9iYWwuZGIudXNlcm5hbWUpXG4gICAgLmFkZFZhbGlkYXRvcihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBuYW1lID0gcG9wdXAuaW5wdXRzLm5hbWUudmFsdWVcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gcG9wdXAuaW5wdXRzLnBhc3N3b3JkLnZhbHVlXG4gICAgICBjb25zdCBzZWVkID0gcG9wdXAuaW5wdXRzLnNlZWQudmFsdWVcbiAgICAgIGNvbnN0IG5ldHdvcmsgPSBwb3B1cC5pbnB1dHMudGVzdG5ldC5jaGVja2VkID8gJ3Rlc3QnIDogJ3B1YmxpYydcblxuICAgICAgYXdhaXQgcG9wdXAuc2V0SW5mbygnSW1wb3J0aW5nIGFjY291bnQuLi4nKVxuICAgICAgYXdhaXQgZ2xvYmFsLmRiLmFkZEFjY291bnQocGFzc3dvcmQsIG5hbWUsIHNlZWQsIG5ldHdvcmspXG4gICAgICByZWZyZXNoQWNjb3VudFNlbGVjdG9yKClcbiAgICAgIHNlbGVjdEFjY291bnQobmFtZSlcbiAgICAgIGhpZGVNZW51KClcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3QWNjb3VudCAoKSB7XG4gIGNvbnN0IHBvcHVwID0gbmV3IFBvcHVwKCdDcmVhdGUgYSBuZXcgYWNjb3VudCcpXG4gIHBvcHVwLmFkZFRleHRCb3goJ25hbWUnLCAnQWNjb3VudCBuYW1lJylcbiAgICAuYWRkQ2hlY2tCb3goJ3Rlc3RuZXQnLCAnT24gdGVzdG5ldCcsIGZhbHNlKVxuICAgIC5hZGRTZXBhcmF0b3IoKVxuICAgIC5hZGRQYXNzd29yZENvbmZpcm1hdGlvbihnbG9iYWwuZGIudXNlcm5hbWUpXG4gICAgLmFkZFZhbGlkYXRvcihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBuYW1lID0gcG9wdXAuaW5wdXRzLm5hbWUudmFsdWVcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gcG9wdXAuaW5wdXRzLnBhc3N3b3JkLnZhbHVlXG4gICAgICBjb25zdCBuZXR3b3JrID0gcG9wdXAuaW5wdXRzLnRlc3RuZXQuY2hlY2tlZCA/ICd0ZXN0JyA6ICdwdWJsaWMnXG5cbiAgICAgIGF3YWl0IHBvcHVwLnNldEluZm8oJ0NyZWF0aW5nIG5ldyBhY2NvdW50Li4uJylcbiAgICAgIGF3YWl0IGdsb2JhbC5kYi5uZXdBY2NvdW50KHBhc3N3b3JkLCBuYW1lLCBuZXR3b3JrKVxuICAgICAgcmVmcmVzaEFjY291bnRTZWxlY3RvcigpXG4gICAgICBzZWxlY3RBY2NvdW50KG5hbWUpXG4gICAgICBoaWRlTWVudSgpXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydEJhY2t1cCAoKSB7XG4gIGNvbnN0IHBvcHVwID0gcGFzc3dvcmRQb3B1cChnbG9iYWwuZGIudXNlcm5hbWUsICdNYWtlIGJhY2t1cCBmb3I6ICcgKyBnbG9iYWwuZGIudXNlcm5hbWUpXG4gIHBvcHVwLmFkZFZhbGlkYXRvcihhc3luYyBwYXNzd29yZCA9PiB7XG4gICAgYXdhaXQgcG9wdXAuc2V0SW5mbygnQ2hlY2tpbmcgcGFzc3dvcmQuLi4nKVxuICAgIGNvbnN0IGJhY2t1cCA9IGF3YWl0IGdsb2JhbC5kYi5iYWNrdXAocGFzc3dvcmQpXG4gICAgZG93bmxvYWQoZ2xvYmFsLmRiLnVzZXJuYW1lICsgJy51c2VyJywgYmFja3VwKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFzc3dvcmRDaGFuZ2UgKCkge1xuICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cCgnQ2hhbmdlIHBhc3N3b3JkJylcbiAgcG9wdXAuYWRkQXV0b2ZpbGxQYXNzd29yZEJveChnbG9iYWwuZGIudXNlcm5hbWUpXG4gICAgLmFkZFBhc3N3b3JkQm94KCdwYXNzd29yZDInLCAnTmV3IHBhc3N3b3JkJylcbiAgICAuYWRkUGFzc3dvcmRCb3goJ3Bhc3N3b3JkMycsICdDb25maXJtYXRpb24nKVxuICAgIC5hZGRDYW5jZWxDb25maXJtQnV0dG9ucygpXG4gICAgLmFkZFZhbGlkYXRvcihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBwYXNzd29yZCA9IHBvcHVwLmlucHV0cy5wYXNzd29yZC52YWx1ZVxuICAgICAgY29uc3QgcGFzc3dvcmQyID0gcG9wdXAuaW5wdXRzLnBhc3N3b3JkMi52YWx1ZVxuICAgICAgY29uc3QgcGFzc3dvcmQzID0gcG9wdXAuaW5wdXRzLnBhc3N3b3JkMy52YWx1ZVxuXG4gICAgICBpZiAocGFzc3dvcmQyICE9PSBwYXNzd29yZDMpIHRocm93IG5ldyBFcnJvcignTmV3IHBhc3N3b3JkcyBtaXNtYXRjaCcpXG4gICAgICBhd2FpdCBwb3B1cC5zZXRJbmZvKCdTZXR0aW5nIG5ldyBwYXNzd29yZC4uLicpXG4gICAgICBhd2FpdCBnbG9iYWwuZGIuY2hhbmdlUGFzc3dvcmQocGFzc3dvcmQsIHBhc3N3b3JkMilcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVXNlciAocGFzc3dvcmQpIHtcbiAgY29uc3QgcG9wdXAgPSBwYXNzd29yZFBvcHVwKGdsb2JhbC5kYi51c2VybmFtZSxcbiAgICBub2RlLmNyZWF0ZSgnZGl2JywgbnVsbCxcbiAgICAgICdSZW1vdmUgdXNlcjogJyArIGdsb2JhbC5kYi51c2VybmFtZSxcbiAgICAgIG5vZGUuY3JlYXRlKCdocicpLFxuICAgICAgYFlvdSdyZSBhYm91dCB0byByZW1vdmUgdGhpcyBwcm9maWxlIGFuZCBhbGwgYXNzb2NpYXRlZCBhY2NvdW50cyBmcm9tXG4gICAgICB0aGlzIGRldmljZS4gUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHlvdSBoYXZlIGFuIGFsdGVybmF0aXZlIHdheSB0byBhY2Nlc3NcbiAgICAgIHRoZW0sIG9yIHRoYXQgdGhlcmUncyBubyBtb3JlIGZ1bmRzIG9uIHRoZW0uYFxuICAgICkpXG5cbiAgcG9wdXAuYWRkVmFsaWRhdG9yKGFzeW5jIHBhc3N3b3JkID0+IHtcbiAgICBhd2FpdCBwb3B1cC5zZXRJbmZvKCdEZWxldGluZyBhY2NvdW50Li4uJylcbiAgICBhd2FpdCBnbG9iYWwuZGIuZGVsZXRlKHBhc3N3b3JkKVxuICAgIGxvZ291dCgpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQgKCkge1xuICBoaWRlTWVudSgpXG4gIGdsb2JhbC5kYi5sb2dvdXQoKVxuICBnbG9iYWwuZGIgPSB1bmRlZmluZWRcbiAgY2xlYXJNZXNzYWdlcygpXG5cbiAgaGVhZGVyU2hvd1RpdGxlKClcbiAgc2VsZWN0UGFnZSgpXG4gIGZvb3RlclNob3dEaXNjbGFpbWVyKClcbiAgbG9naW4oKVxufVxuXG4vKiogKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFnZSBzd2l0Y2hpbmcgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgdGl0bGVOb2RlID0gbm9kZS5ncmFiKCcjdGl0bGUnKVxuY29uc3QgYWNjb3VudHNOb2RlID0gbm9kZS5ncmFiKCcjYWNjb3VudHMnKVxuY29uc3QgZGlzY2xhaW1lck5vZGUgPSBub2RlLmdyYWIoJyNkaXNjbGFpbWVyJylcbmNvbnN0IGFib3V0TGlua05vZGUgPSBub2RlLmdyYWIoJyNhYm91dExpbmsnKVxuXG5jb25zdCBhYm91dFBhZ2UgPSBub2RlLmdyYWIoJyNhYm91dCcpXG5cbmZ1bmN0aW9uIHRvcCAoKSB7IHNjcm9sbCgwLCAwKSB9XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RQYWdlIChlbGVtZW50KSB7XG4gIGNvbnN0IHByZXZpb3VzUGFnZSA9IGN1cnJlbnRQYWdlKClcbiAgaWYgKHByZXZpb3VzUGFnZSkgbWFpbk5vZGUucmVtb3ZlQ2hpbGQocHJldmlvdXNQYWdlKVxuICBub2RlLmNsZWFyKG5vdGlmaWNhdGlvbnNOb2RlKVxuXG4gIGlmIChlbGVtZW50KSB7XG4gICAgbm9kZS5zaG93KG1haW5Ob2RlKVxuICAgIG5vZGUuYXBwZW5kKG1haW5Ob2RlLCBlbGVtZW50KVxuICB9IGVsc2Ugbm9kZS5oaWRlKG1haW5Ob2RlKVxuXG4gIHRvcCgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdXJyZW50UGFnZSAoKSB7XG4gIHJldHVybiBub2RlLmdyYWIoJy5wYWdlJywgbWFpbk5vZGUpXG59XG5cbmZ1bmN0aW9uIGhlYWRlclNob3dUaXRsZSAoKSB7XG4gIG5vZGUuaGlkZShhY2NvdW50c05vZGUpXG4gIG5vZGUuc2hvdyh0aXRsZU5vZGUpXG59XG5cbmZ1bmN0aW9uIGhlYWRlclNob3dBY2NvdW50cyAoKSB7XG4gIG5vZGUuaGlkZSh0aXRsZU5vZGUpXG4gIG5vZGUuc2hvdyhhY2NvdW50c05vZGUpXG59XG5cbmZ1bmN0aW9uIHNob3dNZXNzYWdlcyAoKSB7XG4gIG5vZGUuc2hvdyhtZXNzYWdlc05vZGUpXG59XG5cbmZ1bmN0aW9uIGhpZGVNZXNzYWdlcyAoKSB7XG4gIG5vZGUuaGlkZShtZXNzYWdlc05vZGUpXG59XG5cbmZ1bmN0aW9uIGNsZWFyTWVzc2FnZXMgKCkge1xuICBub2RlLmNsZWFyKHBhc3N3b3JkTm9kZSlcbiAgbm9kZS5jbGVhcihub3RpZmljYXRpb25zTm9kZSlcbn1cblxuZnVuY3Rpb24gZm9vdGVyU2hvd0Rpc2NsYWltZXIgKCkge1xuICBub2RlLmhpZGUoYWJvdXRMaW5rTm9kZSlcbiAgbm9kZS5zaG93KGRpc2NsYWltZXJOb2RlKVxufVxuXG5mdW5jdGlvbiBmb290ZXJTaG93QWJvdXQgKCkge1xuICBub2RlLmhpZGUoZGlzY2xhaW1lck5vZGUpXG4gIG5vZGUuc2hvdyhhYm91dExpbmtOb2RlKVxufVxuXG5mdW5jdGlvbiBhYm91dCAoKSB7XG4gIGhlYWRlclNob3dUaXRsZSgpXG4gIGhpZGVNZXNzYWdlcygpXG4gIHNlbGVjdFBhZ2UoYWJvdXRQYWdlKVxuICBub2RlLmhpZGUoYWJvdXRMaW5rTm9kZSlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBNkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7O0FBU0E7QUFDQTs7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7OztBQWtKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7Ozs7QUFPQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7O0FBaUdBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFRQTtBQUNBO0FBVkE7QUFBQTtBQUNBO0FBREE7QUFXQTtBQUNBO0FBQUE7QUFDQTtBQWJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBbUJBO0FBbkJBO0FBQ0E7QUFEQTtBQUNBO0FBdUJBO0FBQ0E7QUF6QkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQTJCQTtBQTNCQTtBQUFBO0FBQ0E7QUFEQTtBQTRCQTtBQTVCQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQTZCQTtBQTlCQTtBQUNBO0FBREE7QUFpQ0E7QUFDQTtBQWxDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBb0NBO0FBQ0E7QUFyQ0E7QUFBQTtBQUNBO0FBREE7QUFzQ0E7QUFDQTtBQXZDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBd0NBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBL0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWtDQTtBQW5DQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWlEQTtBQUNBO0FBQ0E7QUFDQTtBQXJEQTtBQUNBO0FBREE7QUFDQTtBQTBEQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9EQTtBQUFBO0FBQ0E7QUFEQTtBQWlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQXlFQTtBQXpFQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQTBFQTtBQUNBO0FBNUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7O0FBNk9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7O0FBU0E7QUFDQTtBQXZhQTtBQTRCQTtBQXVJQTtBQThJQTtBQXlCQTtBQWVBO0FBS0E7QUE0QkE7QUFtREE7QUEwQkE7QUFNQTtBQWdDQTtBQW9CQTtBQXFCQTtBQW1CQTtBQVNBO0FBaUJBO0FBaUJBO0FBdUJBO0FBYUE7QUFDQTtBQTl1QkE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBSkE7QUFNQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQ0E7QUFEQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQU9BO0FBUEE7QUFBQTtBQUNBO0FBREE7QUFTQTtBQUNBO0FBQ0E7QUFYQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVNBO0FBVEE7QUFBQTtBQUNBO0FBREE7QUFVQTtBQVZBO0FBQUE7QUFDQTtBQURBO0FBWUE7QUFDQTtBQUNBO0FBZEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnRkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBTEE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFjQTtBQWRBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBbEJBO0FBbUJBO0FBQ0E7QUFwQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/UI.js\n");

/***/ }),

/***/ "./src/cosmic-lib/action.js":
/*!**********************************!*\
  !*** ./src/cosmic-lib/action.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the action methods for CosmicLink.\n *\n * @exports action\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar makeSigningPromise = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cosmicLink, keypair, publicKey) {\n    var transaction;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return cosmicLink.getTransaction();\n\n          case 2:\n            transaction = _context2.sent;\n\n\n            try {\n              cosmicLink.selectNetwork();\n              transaction.sign(keypair);\n            } catch (error) {\n              console.log(error);\n              status.error(cosmicLink, 'Failed to sign with key: ' + helpers.shorter(publicKey), 'throw');\n            }\n\n            cosmicLink.getSigners = helpers.delay(function () {\n              return resolve.signers(cosmicLink);\n            });\n            format.signatures(cosmicLink);\n\n            return _context2.abrupt('return', transaction);\n\n          case 7:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function makeSigningPromise(_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Send `cosmicLink`'s transaction to `server`. It should have been signed\n * beforehand.\n * Return a promise that terminate when submission is over.\n *\n * @param {CL}\n * @param {Server} [server=cosmicLink.server] Stellar SDK Server object\n * @return {Object} The server response\n */\n\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar action = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\nvar resolve = __webpack_require__(/*! ./resolve */ \"./src/cosmic-lib/resolve.js\");\nvar parse = __webpack_require__(/*! ./parse */ \"./src/cosmic-lib/parse.js\");\nvar format = __webpack_require__(/*! ./format */ \"./src/cosmic-lib/format.js\");\nvar event = __webpack_require__(/*! ./event */ \"./src/cosmic-lib/event.js\");\n\n/**\n * Sign `cosmicLink` using secret `Keypair`.\n * Return a promise that terminate when signing is over, and that resolve to\n * the signed Transaction object.\n *\n * @param {cosmicLink} cosmicLink\n * @param {seed} seed\n * @promise Signed Transaction object\n */\n\naction.sign = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(cosmicLink, seed) {\n    var keypair, publicKey, signingPromise;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            keypair = void 0, publicKey = void 0;\n            _context.prev = 1;\n\n            keypair = StellarSdk.Keypair.fromSecret(seed);\n            publicKey = keypair.publicKey();\n            _context.next = 10;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context['catch'](1);\n\n            console.log(_context.t0);\n            throw new Error('Invalid secret seed');\n\n          case 10:\n            if (!cosmicLink.status) {\n              _context.next = 12;\n              break;\n            }\n\n            throw new Error(\"Can't sign invalid transaction\");\n\n          case 12:\n            _context.next = 14;\n            return cosmicLink.hasSigner(publicKey);\n\n          case 14:\n            if (_context.sent) {\n              _context.next = 16;\n              break;\n            }\n\n            throw new Error('Not a legit signer: ' + helpers.shorter(publicKey));\n\n          case 16:\n            _context.next = 18;\n            return cosmicLink.hasSigned(publicKey);\n\n          case 18:\n            if (!_context.sent) {\n              _context.next = 20;\n              break;\n            }\n\n            throw new Error('Transaction already signed with this key');\n\n          case 20:\n            signingPromise = makeSigningPromise(cosmicLink, keypair, publicKey);\n\n            parse.typeTowardAllUsingDelayed(cosmicLink, 'transaction', function () {\n              return signingPromise;\n            });\n            parse.makeConverter(cosmicLink, 'xdr', 'query');\n            parse.makeConverter(cosmicLink, 'query', 'uri');\n            event.callFormatHandlers(cosmicLink);\n            _context.next = 27;\n            return signingPromise;\n\n          case 27:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 6]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\naction.send = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cosmicLink, server) {\n    var transaction, response;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!server) server = cosmicLink.server;\n            _context3.next = 3;\n            return cosmicLink.getTransaction();\n\n          case 3:\n            transaction = _context3.sent;\n            response = server.submitTransaction(transaction);\n\n            response.catch(console.log);\n            return _context3.abrupt('return', response);\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9hY3Rpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9jb3NtaWMtbGliL2FjdGlvbi5qcz9jOTYzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuLyoqXG4gKiBDb250YWlucyB0aGUgYWN0aW9uIG1ldGhvZHMgZm9yIENvc21pY0xpbmsuXG4gKlxuICogQGV4cG9ydHMgYWN0aW9uXG4gKi9cbmNvbnN0IGFjdGlvbiA9IGV4cG9ydHNcblxuY29uc3QgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpXG5jb25zdCBzdGF0dXMgPSByZXF1aXJlKCcuL3N0YXR1cycpXG5jb25zdCByZXNvbHZlID0gcmVxdWlyZSgnLi9yZXNvbHZlJylcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCBmb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdCcpXG5jb25zdCBldmVudCA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuXG4vKipcbiAqIFNpZ24gYGNvc21pY0xpbmtgIHVzaW5nIHNlY3JldCBgS2V5cGFpcmAuXG4gKiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgdGVybWluYXRlIHdoZW4gc2lnbmluZyBpcyBvdmVyLCBhbmQgdGhhdCByZXNvbHZlIHRvXG4gKiB0aGUgc2lnbmVkIFRyYW5zYWN0aW9uIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge2Nvc21pY0xpbmt9IGNvc21pY0xpbmtcbiAqIEBwYXJhbSB7c2VlZH0gc2VlZFxuICogQHByb21pc2UgU2lnbmVkIFRyYW5zYWN0aW9uIG9iamVjdFxuICovXG5cbmFjdGlvbi5zaWduID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIHNlZWQpIHtcbiAgbGV0IGtleXBhaXIsIHB1YmxpY0tleVxuICB0cnkge1xuICAgIGtleXBhaXIgPSBTdGVsbGFyU2RrLktleXBhaXIuZnJvbVNlY3JldChzZWVkKVxuICAgIHB1YmxpY0tleSA9IGtleXBhaXIucHVibGljS2V5KClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VjcmV0IHNlZWQnKVxuICB9XG5cbiAgaWYgKGNvc21pY0xpbmsuc3RhdHVzKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzaWduIGludmFsaWQgdHJhbnNhY3Rpb25cIilcbiAgaWYgKCFhd2FpdCBjb3NtaWNMaW5rLmhhc1NpZ25lcihwdWJsaWNLZXkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSBsZWdpdCBzaWduZXI6ICcgKyBoZWxwZXJzLnNob3J0ZXIocHVibGljS2V5KSlcbiAgfVxuICBpZiAoYXdhaXQgY29zbWljTGluay5oYXNTaWduZWQocHVibGljS2V5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gYWxyZWFkeSBzaWduZWQgd2l0aCB0aGlzIGtleScpXG4gIH1cblxuICBjb25zdCBzaWduaW5nUHJvbWlzZSA9IG1ha2VTaWduaW5nUHJvbWlzZShjb3NtaWNMaW5rLCBrZXlwYWlyLCBwdWJsaWNLZXkpXG4gIHBhcnNlLnR5cGVUb3dhcmRBbGxVc2luZ0RlbGF5ZWQoY29zbWljTGluaywgJ3RyYW5zYWN0aW9uJywgKCkgPT4gc2lnbmluZ1Byb21pc2UpXG4gIHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3hkcicsICdxdWVyeScpXG4gIHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3F1ZXJ5JywgJ3VyaScpXG4gIGV2ZW50LmNhbGxGb3JtYXRIYW5kbGVycyhjb3NtaWNMaW5rKVxuICBhd2FpdCBzaWduaW5nUHJvbWlzZVxufVxuXG5hc3luYyBmdW5jdGlvbiBtYWtlU2lnbmluZ1Byb21pc2UgKGNvc21pY0xpbmssIGtleXBhaXIsIHB1YmxpY0tleSkge1xuICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0VHJhbnNhY3Rpb24oKVxuXG4gIHRyeSB7XG4gICAgY29zbWljTGluay5zZWxlY3ROZXR3b3JrKClcbiAgICB0cmFuc2FjdGlvbi5zaWduKGtleXBhaXIpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssXG4gICAgICAnRmFpbGVkIHRvIHNpZ24gd2l0aCBrZXk6ICcgKyBoZWxwZXJzLnNob3J0ZXIocHVibGljS2V5KSxcbiAgICAgICd0aHJvdydcbiAgICApXG4gIH1cblxuICBjb3NtaWNMaW5rLmdldFNpZ25lcnMgPSBoZWxwZXJzLmRlbGF5KCgpID0+IHJlc29sdmUuc2lnbmVycyhjb3NtaWNMaW5rKSlcbiAgZm9ybWF0LnNpZ25hdHVyZXMoY29zbWljTGluaylcblxuICByZXR1cm4gdHJhbnNhY3Rpb25cbn1cblxuLyoqXG4gKiBTZW5kIGBjb3NtaWNMaW5rYCdzIHRyYW5zYWN0aW9uIHRvIGBzZXJ2ZXJgLiBJdCBzaG91bGQgaGF2ZSBiZWVuIHNpZ25lZFxuICogYmVmb3JlaGFuZC5cbiAqIFJldHVybiBhIHByb21pc2UgdGhhdCB0ZXJtaW5hdGUgd2hlbiBzdWJtaXNzaW9uIGlzIG92ZXIuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7U2VydmVyfSBbc2VydmVyPWNvc21pY0xpbmsuc2VydmVyXSBTdGVsbGFyIFNESyBTZXJ2ZXIgb2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAqL1xuYWN0aW9uLnNlbmQgPSBhc3luYyBmdW5jdGlvbiAoY29zbWljTGluaywgc2VydmVyKSB7XG4gIGlmICghc2VydmVyKSBzZXJ2ZXIgPSBjb3NtaWNMaW5rLnNlcnZlclxuICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0VHJhbnNhY3Rpb24oKVxuICBjb25zdCByZXNwb25zZSA9IHNlcnZlci5zdWJtaXRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbilcbiAgcmVzcG9uc2UuY2F0Y2goY29uc29sZS5sb2cpXG4gIHJldHVybiByZXNwb25zZVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7Ozs7OztBQWtEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBaEJBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7O0FBb0JBOzs7Ozs7Ozs7Ozs7Ozs7QUFqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBQ0E7QUFKQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBTkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQWtCQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBc0RBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBSkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/action.js\n");

/***/ }),

/***/ "./src/cosmic-lib/aliases.js":
/*!***********************************!*\
  !*** ./src/cosmic-lib/aliases.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n'use_strict';\n/**\n * Aliases handlers & most known Stellar addresses. Aliases are put together as\n * an `Object` in the form:\n * ```\n * {\n *   'publicKey1': 'name1',\n *   'publicKey2': 'name2',\n *    ...\n *   'publicKeyN': 'nameN'\n * }\n * ```\n *\n * Aliases are only used as a displaying sugar and can't be used as a\n * replacement for federated address as it would lead to security issues.\n *\n * @exports aliases\n */\n\nvar aliases = exports;\n\n/**\n * Append `aliases` to `cosmicLink.aliases`.\n *\n * @param {CL}\n * @param {Object} aliases\n */\naliases.add = function (cosmicLink, aliases) {\n  cosmicLink.aliases = Object.assign(cosmicLink.aliases, aliases);\n};\n\n/**\n * Remove `publicKeys` from `cosmicLink.aliases`.\n *\n * @param {CL}\n * @param {Array} publicKeys An array of public keys\n */\naliases.remove = function (cosmicLink, publicKeys) {\n  publicKeys.forEach(function (entry) {\n    return delete cosmicLink.aliases[entry];\n  });\n};\n\n/**\n * Aliases for most known anchors.\n */\naliases.anchors = {\n  'GAEDLNMCQZOSLY7Y4NW3DTEWQEVVCXYYMBDNGPPGBMQH4GFYECBI7YVK': 'anclax.com',\n  'GAEGOS7I6TYZSVHPSN76RSPIVL3SELATXZWLFO4DIAFYJF7MPAHFE7H4': 'apay.io',\n  'GAUTUYY2THLF7SGITDFMXJVYH3LHDSMGEAKSBU267M2K7A3W543CKUEF': 'apay.io',\n  'GBDEVU63Y6NTHJQQZIKVTC23NWLQVP3WJ2RI2OTSJTNYOIGICST6DUXR': 'apay.io',\n  'GC5LOR3BK6KIOK7GKAUD5EGHQCMFOGHJTC7I3ELB66PTDFXORC2VM5LP': 'apay.io',\n  'GAUWES2POH347NNJGRI4OBM34LMOCMWSTZ3RAOZMOBH4PFVBWFMHLNTC': 'astral9.io',\n  'GBRPTWEZTUKYM6VJXLHXBFI23M2GSY3TCVIQSZKFQLMOJXH7VPDGKBDP': 'charnatoken.top',\n  'GBUQWP3BOUZX34TOND2QV7QQ7K7VJTG6VSE7WMLBTMDJLLAW7YKGU6EP': 'coins.asia',\n  'GDPFSEBZO2W4TLWZO7FIMMG3QONHXYVF6LUULI6HUJS6PJLE4TRZEXLF': 'collective21.org',\n  'GA4BYMUO5D7OLGVJWZ2D5FCWU7SB63FNZ4QUU574SMNA6ELK5TZD3SO3': 'cryptomover.com',\n  'GD7UVDDJHJYKUXB4SJFIC6VJDQ4YADQCMRN3KLHJFV4H6NIUAEREVCO7': 'cryptotari.io',\n  'GCGEQJR3E5BVMQYSNCHPO6NPP3KOT4VVZHIOLSRSNLE2GFY7EWVSLLTN': 'equid.co',\n  'GCC4YLCR7DDWFCIPTROQM7EB2QMFD35XRWEQVIQYJQHVW6VE5MJZXIGW': 'flutterwave.com',\n  'GC75WHUIMU7LV6WURMCA5GGF2S5FWFOK7K5VLR2WGRKWKZQAJQEBM53M': 'frasindo.com',\n  'GCYK67DDGBOANS6UODJ62QWGLEB2A7JQ3XUV25HCMLT7CI23PMMK3W6R': 'golix.io',\n  'GBBRMEXJMS3L7Y3DZZ2AHBD545GZ72OAEHHEFKGZAHHASHGWMHK5P6PL': 'irene.energy',\n  'GD2RRX6BKVTORZ6RIMBLWFVUOAYOLTS2QFJQUQPXLI3PBHR3TMLQNGZX': 'liquido.i-server.org',\n  'GA6HCMBLTZS5VYYBCATRBRZ3BZJMAFUDKYYF6AH6MVCMGWMRDNSWJPIH': 'mobius.network',\n  'GAKBPBDMW6CTRDCXNAPSVJZ6QAN3OBNRG6CWI27FGDQT2ZJJEMDRXPKK': 'moni.com',\n  'GATEMHCCKCY67ZUCKTROYN24ZYT5GK4EQZ65JJLDHKHRUZI3EUEKMTCH': 'naobtc.com',\n  'GAXELY4AOIRVONF7V25BUPDNKZYIVT6CWURG7R2I6NQU26IQSQODBVCS': 'naobtc.com',\n  'GDGKBRCPW4C3ENNC5C64PE6U33MG52GBKFXOK5P3OSWF74DAOXRXV6OJ': 'nezly.com',\n  'GDPB3BGHJAHAKVIWUNLST7N6OGZ73W6AUAI7QDZJW26LEWL46VDAKBH6': 'old.repocoin.io',\n  'GBVUDZLMHTLMZANLZB6P4S4RYF52MVWTYVYXTQ2EJBPBX4DZI2SDOLLY': 'pedity.com',\n  'GAZPKDTEZ5UM3BF4E7FL7EMXRMLH76F2TNVXRLOF6SCVXOFWSPCEWFI5': 'pr.network',\n  'GCZNF24HPMYTV6NOEHI7Q5RJFFUI23JKUKY3H3XTQAFBQIBOHD5OXG3B': 'repocoin.io',\n  'GAREELUB43IRHWEASCFBLKHURCGMHE5IF6XSE7EXDLACYHGRHM43RFOX': 'ripplefox.com',\n  'GCKA6K5PCQ6PNF5RQBF7PQDJWRHO6UOGFMRLK3DYHDOI244V47XKQ4GP': 'smartlands.io',\n  'GBVOL67TMUQBGL4TZYNMY3ZQ5WGQYFPFD5VJRWXR72VA33VFNL225PL5': 'stellarport.io',\n  'GAFXX2VJE2EGLLY3EFA2BQXJADAZTNR7NC7IJ6LFYPSCLE7AI3AK3B3M': 'stemchain.io',\n  'GBSTRH4QOTWNSVA6E4HFERETX4ZLSR3CIUBLK7AXYII277PFJC4BBYOG': 'stronghold.co',\n  'GCEGERI7COJYNNID6CYSKS5DPPLGCCLPTOSCDD2LG5SJIVWM5ISUPERI': 'superlumen.org',\n  'GCVWTTPADC5YB5AYDKJCTUYSCJ7RKPGE4HT75NIZOUM4L7VRTS5EKLFN': 'sureremit.co',\n  'GAP5LETOV6YIE62YAM56STDANPRDO7ZFDBGSNHJQIYGGKSMOZAHOOS2S': 'tempo.eu.com',\n  'GDS3XDJAA4VY6MJYASIGSIMPHZ7AQNZ54RKLWT7MWCOU5YKYEVCNLVS3': 'thefutbolcoin.io',\n  'GCLRUZDCWBHS7VIFCT43BARPP63BHR32HMEVKXYQODA5BU6SIGFK4HL2': 'tonaira.com',\n  'GBFJGO46OV6E2QS2ZUMCF256ZL4BFOZWFHULRNLPSPW47HH5HFAKJTON': 'tontinetrust.com',\n  'GA7FCCMTTSUIC37PODEL6EOOSPDRILP6OQI5FWCWDDVDBLJV72W6RINZ': 'vcbear.net',\n  'GBVAOIACNSB7OVUXJYC5UE2D4YK2F7A24T7EE5YOMN4CE6GCHUTOUQXM': 'vcbear.net',\n  'GDXTJEK4JZNSTNQAWA53RZNS2GIKTDRPEUWDXELFMKU52XNECNVDVXDI': 'vcbear.net',\n  'GCNHYZLBCSVZHSQJ2DOIBHYBF4J24DJYGS5QKURX4AGSLBK6SDJOYWIN': 'winsome.gift',\n  'GBZ35ZJRIKJGYH5PBKLKOZ5L6EXCNTO7BKIL7DAVVDFQ2ODJEEHHJXIM': 'ximcoin.com',\n  'GAO4DADCRAHA35GD6J3KUNOB5ELZE5D6CGPSJX2WBMEQV7R2M4PGKJL5': 'xirkle.com'\n\n  /**\n   * Aliases for most known destinations (exchanges/inflation pools/services).\n   */\n};aliases.destinations = {\n  'GDZCEWJ5TVXUTFH6V5CVDQDE43KRXYUFRHKI7X64EWMVOVYYZJFWIFQ2': 'AEX',\n  'GAHK7EEG2WWHVKDNT4CEQFZGKF2LGDSW2IVM4S5DP42RBW3K6BTODB4A': 'Binance',\n  'GCO2IP3MJNUOKS4PUDI4C7LGGMQDJGXG3COYX3WSB4HHNAHKYV5YL3VC': 'Binance',\n  'GAWPTHY6233GRWZZ7JXDMVXDUDCVQVVQ2SXCSTG3R3CNP5LQPDAHNBKL': 'Bitfinex',\n  'GB6YPGW5JFMMP2QB2USQ33EUWTXVL4ZT5ITUNCY3YKVWOJPP57CANOF3': 'Bittrex',\n  'GB7GRJ5DTE3AA2TCVHQS2LAD3D7NFG7YLTOEWEBVRNUUI2Q3TJ5UQIFM': 'BTC38',\n  'GBV4ZDEPNQ2FKSPKGJP2YKDAIZWQ2XKRQD4V4ACH3TCTFY6KPY3OAVS7': 'Changelly',\n  'GBKTJSNUSR6OCXA5WDWGT33MNSCNQHOBQUBYC7TVS7BOXDKWFNHI4QNH': 'Exrates',\n  'GDRSWSKJCIB6Z65UA7W5RG62A7M5K3A5IHMED6DYHLPLWLVQCOOGDQ7S': 'Gate.io',\n  'GCXDR4QZ4OTVX6433DPTXELCSEWQ4E5BIPVRRJMUR6M3NT4JCVIDALZO': 'GOPAX',\n  'GC4KAS6W2YCGJGLP633A6F6AKTCV4WSLMTMIQRSEQE5QRRVKSX7THV6S': 'Indodax',\n  'GBTBVILDGCOIK26EPEHYCMKM7J5MTQ4FD5DO37GVTTBP45TVGRAROQHP': 'KOINEX',\n  'GA5XIGA5C7QTPTWXQHY6MCJRMTRZDOSHR6EFIBNDQTCQHG262N4GGKTM': 'Kraken',\n  'GCCD6AJOYZCUAQLX32ZJF2MKFFAUJ53PVCFQI3RHWKL3V47QYE2BNAUT': 'Lumenaut Inflation',\n  'GA6HCMBLTZS5VYYBCATRBRZ3BZJMAFUDKYYF6AH6MVCMGWMRDNSWJPIH': 'Mobius Issuer',\n  'GBTCBCWLE6YVTR5Y5RRZC36Z37OH22G773HECWEIZTZJSN4WTG3CSOES': 'NaoBTC',\n  'GBOEEVARKVASOQSSXCAHNTGJTVALJE2QM3AQQ2K3VXACQ6JJREQRJZKB': 'OKEX',\n  'GBR3RS2Z277FER476OFHFXQJRKYSQX4Z7XNWO65AN3QPRUANUASANG3L': 'PapayaBot',\n  'GBGVRE5DH6HGNYNLWQITKRQYGR4PWQEH6MOE5ELPY3I4XJPTZ7CVT4YW': 'PapayaSwap',\n  'GBVUDZLMHTLMZANLZB6P4S4RYF52MVWTYVYXTQ2EJBPBX4DZI2SDOLLY': 'Pedity Issuer',\n  'GBQWA6DU6OXHH4AVTFCONQ76LHEWQVZAW7SFSW4PPCAI2NX4MJDZUYDW': 'Piiko',\n  'GCGNWKCJ3KHRLPM3TM6N7D3W5YKDJFL6A2YCXFXNMRTZ4Q66MEMZ6FI2': 'Poloniex',\n  'GCVHEKSRASJBD6O2Z532LWH4N2ZLCBVDLLTLKSYCSMBLOYTNMEEGUARD': 'Stellar Guard',\n  'GDCHDRSDOBRMSUDKRE2C4U4KDLNEATJPIHHR2ORFL5BSD56G4DQXL4VW': 'StellarTerm Inflation',\n  'GCEGERI7COJYNNID6CYSKS5DPPLGCCLPTOSCDD2LG5SJIVWM5ISUPERI': 'Superlumen Issuer',\n  'GBZ35ZJRIKJGYH5PBKLKOZ5L6EXCNTO7BKIL7DAVVDFQ2ODJEEHHJXIM': 'XIM'\n\n  /**\n   * Concatenated aliases.\n   */\n};aliases.all = Object.assign({}, aliases.anchors, aliases.destinations);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9hbGlhc2VzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9hbGlhc2VzLmpzP2ZjZDgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZV9zdHJpY3QnXG4vKipcbiAqIEFsaWFzZXMgaGFuZGxlcnMgJiBtb3N0IGtub3duIFN0ZWxsYXIgYWRkcmVzc2VzLiBBbGlhc2VzIGFyZSBwdXQgdG9nZXRoZXIgYXNcbiAqIGFuIGBPYmplY3RgIGluIHRoZSBmb3JtOlxuICogYGBgXG4gKiB7XG4gKiAgICdwdWJsaWNLZXkxJzogJ25hbWUxJyxcbiAqICAgJ3B1YmxpY0tleTInOiAnbmFtZTInLFxuICogICAgLi4uXG4gKiAgICdwdWJsaWNLZXlOJzogJ25hbWVOJ1xuICogfVxuICogYGBgXG4gKlxuICogQWxpYXNlcyBhcmUgb25seSB1c2VkIGFzIGEgZGlzcGxheWluZyBzdWdhciBhbmQgY2FuJ3QgYmUgdXNlZCBhcyBhXG4gKiByZXBsYWNlbWVudCBmb3IgZmVkZXJhdGVkIGFkZHJlc3MgYXMgaXQgd291bGQgbGVhZCB0byBzZWN1cml0eSBpc3N1ZXMuXG4gKlxuICogQGV4cG9ydHMgYWxpYXNlc1xuICovXG5jb25zdCBhbGlhc2VzID0gZXhwb3J0c1xuXG4vKipcbiAqIEFwcGVuZCBgYWxpYXNlc2AgdG8gYGNvc21pY0xpbmsuYWxpYXNlc2AuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBhbGlhc2VzXG4gKi9cbmFsaWFzZXMuYWRkID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIGFsaWFzZXMpIHtcbiAgY29zbWljTGluay5hbGlhc2VzID0gT2JqZWN0LmFzc2lnbihjb3NtaWNMaW5rLmFsaWFzZXMsIGFsaWFzZXMpXG59XG5cbi8qKlxuICogUmVtb3ZlIGBwdWJsaWNLZXlzYCBmcm9tIGBjb3NtaWNMaW5rLmFsaWFzZXNgLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge0FycmF5fSBwdWJsaWNLZXlzIEFuIGFycmF5IG9mIHB1YmxpYyBrZXlzXG4gKi9cbmFsaWFzZXMucmVtb3ZlID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHB1YmxpY0tleXMpIHtcbiAgcHVibGljS2V5cy5mb3JFYWNoKGVudHJ5ID0+IGRlbGV0ZSBjb3NtaWNMaW5rLmFsaWFzZXNbZW50cnldKVxufVxuXG4vKipcbiAqIEFsaWFzZXMgZm9yIG1vc3Qga25vd24gYW5jaG9ycy5cbiAqL1xuYWxpYXNlcy5hbmNob3JzID0ge1xuICAnR0FFRExOTUNRWk9TTFk3WTROVzNEVEVXUUVWVkNYWVlNQkROR1BQR0JNUUg0R0ZZRUNCSTdZVksnOiAnYW5jbGF4LmNvbScsXG4gICdHQUVHT1M3STZUWVpTVkhQU043NlJTUElWTDNTRUxBVFhaV0xGTzRESUFGWUpGN01QQUhGRTdINCc6ICdhcGF5LmlvJyxcbiAgJ0dBVVRVWVkyVEhMRjdTR0lUREZNWEpWWUgzTEhEU01HRUFLU0JVMjY3TTJLN0EzVzU0M0NLVUVGJzogJ2FwYXkuaW8nLFxuICAnR0JERVZVNjNZNk5USEpRUVpJS1ZUQzIzTldMUVZQM1dKMlJJMk9UU0pUTllPSUdJQ1NUNkRVWFInOiAnYXBheS5pbycsXG4gICdHQzVMT1IzQks2S0lPSzdHS0FVRDVFR0hRQ01GT0dISlRDN0kzRUxCNjZQVERGWE9SQzJWTTVMUCc6ICdhcGF5LmlvJyxcbiAgJ0dBVVdFUzJQT0gzNDdOTkpHUkk0T0JNMzRMTU9DTVdTVFozUkFPWk1PQkg0UEZWQldGTUhMTlRDJzogJ2FzdHJhbDkuaW8nLFxuICAnR0JSUFRXRVpUVUtZTTZWSlhMSFhCRkkyM00yR1NZM1RDVklRU1pLRlFMTU9KWEg3VlBER0tCRFAnOiAnY2hhcm5hdG9rZW4udG9wJyxcbiAgJ0dCVVFXUDNCT1VaWDM0VE9ORDJRVjdRUTdLN1ZKVEc2VlNFN1dNTEJUTURKTExBVzdZS0dVNkVQJzogJ2NvaW5zLmFzaWEnLFxuICAnR0RQRlNFQlpPMlc0VExXWk83RklNTUczUU9OSFhZVkY2TFVVTEk2SFVKUzZQSkxFNFRSWkVYTEYnOiAnY29sbGVjdGl2ZTIxLm9yZycsXG4gICdHQTRCWU1VTzVEN09MR1ZKV1oyRDVGQ1dVN1NCNjNGTlo0UVVVNTc0U01OQTZFTEs1VFpEM1NPMyc6ICdjcnlwdG9tb3Zlci5jb20nLFxuICAnR0Q3VVZEREpISllLVVhCNFNKRklDNlZKRFE0WUFEUUNNUk4zS0xISkZWNEg2TklVQUVSRVZDTzcnOiAnY3J5cHRvdGFyaS5pbycsXG4gICdHQ0dFUUpSM0U1QlZNUVlTTkNIUE82TlBQM0tPVDRWVlpISU9MU1JTTkxFMkdGWTdFV1ZTTExUTic6ICdlcXVpZC5jbycsXG4gICdHQ0M0WUxDUjdERFdGQ0lQVFJPUU03RUIyUU1GRDM1WFJXRVFWSVFZSlFIVlc2VkU1TUpaWElHVyc6ICdmbHV0dGVyd2F2ZS5jb20nLFxuICAnR0M3NVdIVUlNVTdMVjZXVVJNQ0E1R0dGMlM1RldGT0s3SzVWTFIyV0dSS1dLWlFBSlFFQk01M00nOiAnZnJhc2luZG8uY29tJyxcbiAgJ0dDWUs2N0RER0JPQU5TNlVPREo2MlFXR0xFQjJBN0pRM1hVVjI1SENNTFQ3Q0kyM1BNTUszVzZSJzogJ2dvbGl4LmlvJyxcbiAgJ0dCQlJNRVhKTVMzTDdZM0RaWjJBSEJENTQ1R1o3Mk9BRUhIRUZLR1pBSEhBU0hHV01ISzVQNlBMJzogJ2lyZW5lLmVuZXJneScsXG4gICdHRDJSUlg2QktWVE9SWjZSSU1CTFdGVlVPQVlPTFRTMlFGSlFVUVBYTEkzUEJIUjNUTUxRTkdaWCc6ICdsaXF1aWRvLmktc2VydmVyLm9yZycsXG4gICdHQTZIQ01CTFRaUzVWWVlCQ0FUUkJSWjNCWkpNQUZVREtZWUY2QUg2TVZDTUdXTVJETlNXSlBJSCc6ICdtb2JpdXMubmV0d29yaycsXG4gICdHQUtCUEJETVc2Q1RSRENYTkFQU1ZKWjZRQU4zT0JOUkc2Q1dJMjdGR0RRVDJaSkpFTURSWFBLSyc6ICdtb25pLmNvbScsXG4gICdHQVRFTUhDQ0tDWTY3WlVDS1RST1lOMjRaWVQ1R0s0RVFaNjVKSkxESEtIUlVaSTNFVUVLTVRDSCc6ICduYW9idGMuY29tJyxcbiAgJ0dBWEVMWTRBT0lSVk9ORjdWMjVCVVBETktaWUlWVDZDV1VSRzdSMkk2TlFVMjZJUVNRT0RCVkNTJzogJ25hb2J0Yy5jb20nLFxuICAnR0RHS0JSQ1BXNEMzRU5OQzVDNjRQRTZVMzNNRzUyR0JLRlhPSzVQM09TV0Y3NERBT1hSWFY2T0onOiAnbmV6bHkuY29tJyxcbiAgJ0dEUEIzQkdISkFIQUtWSVdVTkxTVDdONk9HWjczVzZBVUFJN1FEWkpXMjZMRVdMNDZWREFLQkg2JzogJ29sZC5yZXBvY29pbi5pbycsXG4gICdHQlZVRFpMTUhUTE1aQU5MWkI2UDRTNFJZRjUyTVZXVFlWWVhUUTJFSkJQQlg0RFpJMlNET0xMWSc6ICdwZWRpdHkuY29tJyxcbiAgJ0dBWlBLRFRFWjVVTTNCRjRFN0ZMN0VNWFJNTEg3NkYyVE5WWFJMT0Y2U0NWWE9GV1NQQ0VXRkk1JzogJ3ByLm5ldHdvcmsnLFxuICAnR0NaTkYyNEhQTVlUVjZOT0VISTdRNVJKRkZVSTIzSktVS1kzSDNYVFFBRkJRSUJPSEQ1T1hHM0InOiAncmVwb2NvaW4uaW8nLFxuICAnR0FSRUVMVUI0M0lSSFdFQVNDRkJMS0hVUkNHTUhFNUlGNlhTRTdFWERMQUNZSEdSSE00M1JGT1gnOiAncmlwcGxlZm94LmNvbScsXG4gICdHQ0tBNks1UENRNlBORjVSUUJGN1BRREpXUkhPNlVPR0ZNUkxLM0RZSERPSTI0NFY0N1hLUTRHUCc6ICdzbWFydGxhbmRzLmlvJyxcbiAgJ0dCVk9MNjdUTVVRQkdMNFRaWU5NWTNaUTVXR1FZRlBGRDVWSlJXWFI3MlZBMzNWRk5MMjI1UEw1JzogJ3N0ZWxsYXJwb3J0LmlvJyxcbiAgJ0dBRlhYMlZKRTJFR0xMWTNFRkEyQlFYSkFEQVpUTlI3TkM3SUo2TEZZUFNDTEU3QUkzQUszQjNNJzogJ3N0ZW1jaGFpbi5pbycsXG4gICdHQlNUUkg0UU9UV05TVkE2RTRIRkVSRVRYNFpMU1IzQ0lVQkxLN0FYWUlJMjc3UEZKQzRCQllPRyc6ICdzdHJvbmdob2xkLmNvJyxcbiAgJ0dDRUdFUkk3Q09KWU5OSUQ2Q1lTS1M1RFBQTEdDQ0xQVE9TQ0REMkxHNVNKSVZXTTVJU1VQRVJJJzogJ3N1cGVybHVtZW4ub3JnJyxcbiAgJ0dDVldUVFBBREM1WUI1QVlES0pDVFVZU0NKN1JLUEdFNEhUNzVOSVpPVU00TDdWUlRTNUVLTEZOJzogJ3N1cmVyZW1pdC5jbycsXG4gICdHQVA1TEVUT1Y2WUlFNjJZQU01NlNUREFOUFJETzdaRkRCR1NOSEpRSVlHR0tTTU9aQUhPT1MyUyc6ICd0ZW1wby5ldS5jb20nLFxuICAnR0RTM1hESkFBNFZZNk1KWUFTSUdTSU1QSFo3QVFOWjU0UktMV1Q3TVdDT1U1WUtZRVZDTkxWUzMnOiAndGhlZnV0Ym9sY29pbi5pbycsXG4gICdHQ0xSVVpEQ1dCSFM3VklGQ1Q0M0JBUlBQNjNCSFIzMkhNRVZLWFlRT0RBNUJVNlNJR0ZLNEhMMic6ICd0b25haXJhLmNvbScsXG4gICdHQkZKR080Nk9WNkUyUVMyWlVNQ0YyNTZaTDRCRk9aV0ZIVUxSTkxQU1BXNDdISDVIRkFLSlRPTic6ICd0b250aW5ldHJ1c3QuY29tJyxcbiAgJ0dBN0ZDQ01UVFNVSUMzN1BPREVMNkVPT1NQRFJJTFA2T1FJNUZXQ1dERFZEQkxKVjcyVzZSSU5aJzogJ3ZjYmVhci5uZXQnLFxuICAnR0JWQU9JQUNOU0I3T1ZVWEpZQzVVRTJENFlLMkY3QTI0VDdFRTVZT01ONENFNkdDSFVUT1VRWE0nOiAndmNiZWFyLm5ldCcsXG4gICdHRFhUSkVLNEpaTlNUTlFBV0E1M1JaTlMyR0lLVERSUEVVV0RYRUxGTUtVNTJYTkVDTlZEVlhESSc6ICd2Y2JlYXIubmV0JyxcbiAgJ0dDTkhZWkxCQ1NWWkhTUUoyRE9JQkhZQkY0SjI0REpZR1M1UUtVUlg0QUdTTEJLNlNESk9ZV0lOJzogJ3dpbnNvbWUuZ2lmdCcsXG4gICdHQlozNVpKUklLSkdZSDVQQktMS09aNUw2RVhDTlRPN0JLSUw3REFWVkRGUTJPREpFRUhISlhJTSc6ICd4aW1jb2luLmNvbScsXG4gICdHQU80REFEQ1JBSEEzNUdENkozS1VOT0I1RUxaRTVENkNHUFNKWDJXQk1FUVY3UjJNNFBHS0pMNSc6ICd4aXJrbGUuY29tJyxcbn1cblxuLyoqXG4gKiBBbGlhc2VzIGZvciBtb3N0IGtub3duIGRlc3RpbmF0aW9ucyAoZXhjaGFuZ2VzL2luZmxhdGlvbiBwb29scy9zZXJ2aWNlcykuXG4gKi9cbmFsaWFzZXMuZGVzdGluYXRpb25zID0ge1xuICAnR0RaQ0VXSjVUVlhVVEZINlY1Q1ZEUURFNDNLUlhZVUZSSEtJN1g2NEVXTVZPVllZWkpGV0lGUTInOiAnQUVYJyxcbiAgJ0dBSEs3RUVHMldXSFZLRE5UNENFUUZaR0tGMkxHRFNXMklWTTRTNURQNDJSQlczSzZCVE9EQjRBJzogJ0JpbmFuY2UnLFxuICAnR0NPMklQM01KTlVPS1M0UFVESTRDN0xHR01RREpHWEczQ09ZWDNXU0I0SEhOQUhLWVY1WUwzVkMnOiAnQmluYW5jZScsXG4gICdHQVdQVEhZNjIzM0dSV1paN0pYRE1WWERVRENWUVZWUTJTWENTVEczUjNDTlA1TFFQREFITkJLTCc6ICdCaXRmaW5leCcsXG4gICdHQjZZUEdXNUpGTU1QMlFCMlVTUTMzRVVXVFhWTDRaVDVJVFVOQ1kzWUtWV09KUFA1N0NBTk9GMyc6ICdCaXR0cmV4JyxcbiAgJ0dCN0dSSjVEVEUzQUEyVENWSFFTMkxBRDNEN05GRzdZTFRPRVdFQlZSTlVVSTJRM1RKNVVRSUZNJzogJ0JUQzM4JyxcbiAgJ0dCVjRaREVQTlEyRktTUEtHSlAyWUtEQUlaV1EyWEtSUUQ0VjRBQ0gzVENURlk2S1BZM09BVlM3JzogJ0NoYW5nZWxseScsXG4gICdHQktUSlNOVVNSNk9DWEE1V0RXR1QzM01OU0NOUUhPQlFVQllDN1RWUzdCT1hES1dGTkhJNFFOSCc6ICdFeHJhdGVzJyxcbiAgJ0dEUlNXU0tKQ0lCNlo2NVVBN1c1Ukc2MkE3TTVLM0E1SUhNRUQ2RFlITFBMV0xWUUNPT0dEUTdTJzogJ0dhdGUuaW8nLFxuICAnR0NYRFI0UVo0T1RWWDY0MzNEUFRYRUxDU0VXUTRFNUJJUFZSUkpNVVI2TTNOVDRKQ1ZJREFMWk8nOiAnR09QQVgnLFxuICAnR0M0S0FTNlcyWUNHSkdMUDYzM0E2RjZBS1RDVjRXU0xNVE1JUVJTRVFFNVFSUlZLU1g3VEhWNlMnOiAnSW5kb2RheCcsXG4gICdHQlRCVklMREdDT0lLMjZFUEVIWUNNS003SjVNVFE0RkQ1RE8zN0dWVFRCUDQ1VFZHUkFST1FIUCc6ICdLT0lORVgnLFxuICAnR0E1WElHQTVDN1FUUFRXWFFIWTZNQ0pSTVRSWkRPU0hSNkVGSUJORFFUQ1FIRzI2Mk40R0dLVE0nOiAnS3Jha2VuJyxcbiAgJ0dDQ0Q2QUpPWVpDVUFRTFgzMlpKRjJNS0ZGQVVKNTNQVkNGUUkzUkhXS0wzVjQ3UVlFMkJOQVVUJzogJ0x1bWVuYXV0IEluZmxhdGlvbicsXG4gICdHQTZIQ01CTFRaUzVWWVlCQ0FUUkJSWjNCWkpNQUZVREtZWUY2QUg2TVZDTUdXTVJETlNXSlBJSCc6ICdNb2JpdXMgSXNzdWVyJyxcbiAgJ0dCVENCQ1dMRTZZVlRSNVk1UlJaQzM2WjM3T0gyMkc3NzNIRUNXRUlaVFpKU040V1RHM0NTT0VTJzogJ05hb0JUQycsXG4gICdHQk9FRVZBUktWQVNPUVNTWENBSE5UR0pUVkFMSkUyUU0zQVFRMkszVlhBQ1E2SkpSRVFSSlpLQic6ICdPS0VYJyxcbiAgJ0dCUjNSUzJaMjc3RkVSNDc2T0ZIRlhRSlJLWVNRWDRaN1hOV082NUFOM1FQUlVBTlVBU0FORzNMJzogJ1BhcGF5YUJvdCcsXG4gICdHQkdWUkU1REg2SEdOWU5MV1FJVEtSUVlHUjRQV1FFSDZNT0U1RUxQWTNJNFhKUFRaN0NWVDRZVyc6ICdQYXBheWFTd2FwJyxcbiAgJ0dCVlVEWkxNSFRMTVpBTkxaQjZQNFM0UllGNTJNVldUWVZZWFRRMkVKQlBCWDREWkkyU0RPTExZJzogJ1BlZGl0eSBJc3N1ZXInLFxuICAnR0JRV0E2RFU2T1hISDRBVlRGQ09OUTc2TEhFV1FWWkFXN1NGU1c0UFBDQUkyTlg0TUpEWlVZRFcnOiAnUGlpa28nLFxuICAnR0NHTldLQ0ozS0hSTFBNM1RNNk43RDNXNVlLREpGTDZBMllDWEZYTk1SVFo0UTY2TUVNWjZGSTInOiAnUG9sb25pZXgnLFxuICAnR0NWSEVLU1JBU0pCRDZPMlo1MzJMV0g0TjJaTENCVkRMTFRMS1NZQ1NNQkxPWVROTUVFR1VBUkQnOiAnU3RlbGxhciBHdWFyZCcsXG4gICdHRENIRFJTRE9CUk1TVURLUkUyQzRVNEtETE5FQVRKUElISFIyT1JGTDVCU0Q1Nkc0RFFYTDRWVyc6ICdTdGVsbGFyVGVybSBJbmZsYXRpb24nLFxuICAnR0NFR0VSSTdDT0pZTk5JRDZDWVNLUzVEUFBMR0NDTFBUT1NDREQyTEc1U0pJVldNNUlTVVBFUkknOiAnU3VwZXJsdW1lbiBJc3N1ZXInLFxuICAnR0JaMzVaSlJJS0pHWUg1UEJLTEtPWjVMNkVYQ05UTzdCS0lMN0RBVlZERlEyT0RKRUVISEpYSU0nOiAnWElNJyxcbn1cblxuLyoqXG4gKiBDb25jYXRlbmF0ZWQgYWxpYXNlcy5cbiAqL1xuYWxpYXNlcy5hbGwgPSBPYmplY3QuYXNzaWduKHt9LCBhbGlhc2VzLmFuY2hvcnMsIGFsaWFzZXMuZGVzdGluYXRpb25zKVxuIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUE5Q0E7QUFrREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQTdCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/aliases.js\n");

/***/ }),

/***/ "./src/cosmic-lib/check.js":
/*!*********************************!*\
  !*** ./src/cosmic-lib/check.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Provide checks for varous type of field used in cosmic links. In case of\n * error, `cosmicLink` is updated accordingly.\n *\n * This module may no be type-complete and new type checks got added only when\n * needed.\n *\n * The check apply on values using the cosmic link JSON format.\n *\n * @exports check\n */\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar check = exports;\n\nvar specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\n\n/**\n * Check that `field` is a valid transaction/operation field. If `value` is\n * given, check that it is valid for that `field`. If a check doesn't pass, an\n * error is throwed.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} field\n * @param {string} [value]\n */\ncheck.field = function (cosmicLink, field, value) {\n  var type = specs.fieldType[field];\n  if (!type) status.error(cosmicLink, 'Unknow field: ' + field, 'throw');\n  if (value) check.type(cosmicLink, type, value);\n};\n\n/**\n * Check that `type` is a valid transaction/operation field type. If `value` is\n * given, check that it is valid for that `type`. If a check doesn't pass, an\n * error is throwed.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} type\n * @param {string} [value]\n */\ncheck.type = function (cosmicLink, type, value) {\n  if (!specs.types.find(function (entry) {\n    return entry === type;\n  })) {\n    throw new Error('Invalid type: ' + type);\n  }\n  if (value) {\n    check.type(cosmicLink, type);\n    var checker = check[type];\n    if (checker) checker(cosmicLink, value);\n  }\n};\n\n/**\n * Generic check for numbers. Check that `value` is a number or a string\n * representing a number. `type` is for the customization of the message in case\n * of error. `min` and `max` may be provided as additional restriction for\n * `value`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {number|string} value\n * @param {string} [type = 'number']\n * @param {number|string} [min]\n * @param {number|string} [max]\n */\ncheck.number = function (cosmicLink, value) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'number';\n  var min = arguments[3];\n  var max = arguments[4];\n\n  var num = +value;\n  if (isNaN(num)) {\n    status.error(cosmicLink, 'Invalid ' + type + ' (should be a number): ' + value, 'throw');\n  } else if (min && num < min || max && num > max) {\n    status.error(cosmicLink, 'Invalid ' + type + ' (should be between ' + min + ' and ' + max + ' ): ' + value, 'throw');\n  }\n};\n\n/**\n * Generic check for integers. Check that `value` is an integer or a string\n * representing an integer. `type` is for the customization of the message in\n * case of error. `min` and `max` may be provided as additional restriction for\n * `value`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {number|string} value\n * @param {string} [type = 'integer']\n * @param {number|string} [min]\n * @param {number|string} [max]\n */\ncheck.integer = function (cosmicLink, value) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'integer';\n  var min = arguments[3];\n  var max = arguments[4];\n\n  check.number(cosmicLink, value, type, min, max);\n  if (parseInt(value) + '' !== value + '') {\n    status.error(cosmicLink, 'Not an integer: ' + value, 'throw');\n  }\n};\n\n/******************************************************************************/\n\ncheck.asset = function (cosmicLink, asset) {\n  var code = asset.code.toLowerCase();\n  if (!asset.issuer && code !== 'xlm' && code !== 'native') {\n    status.error(cosmicLink, 'Missing issuer for asset: ' + code, 'throw');\n  }\n};\n\ncheck.assetsArray = function (cosmicLink, assetsArray) {\n  var isValid = true;\n  for (var index in assetsArray) {\n    try {\n      check.asset(cosmicLink, assetsArray[index]);\n    } catch (error) {\n      isValid = false;\n    }\n  }\n  if (!isValid) throw new Error('Invalid assets array');\n};\n\ncheck.amount = function (cosmicLink, amount) {\n  check.number(cosmicLink, amount, 'amount');\n};\n\ncheck.boolean = function (cosmicLink, boolean) {\n  if (typeof boolean !== 'boolean') {\n    status.error(cosmicLink, 'Invalid boolean: ' + boolean, 'throw');\n  }\n};\n\ncheck.flags = function (cosmicLink, flags) {\n  check.integer(cosmicLink, flags, 'flags', 0, 7);\n};\n\ncheck.price = function (cosmicLink, price) {\n  if ((typeof price === 'undefined' ? 'undefined' : _typeof(price)) === 'object') {\n    try {\n      check.price(null, price.n);\n      check.price(null, price.d);\n    } catch (error) {\n      status.error(cosmicLink, 'Invalid price', 'throw');\n    }\n  } else {\n    check.number(cosmicLink, price, 0);\n  }\n};\n\ncheck.signer = function (cosmicLink, signer) {\n  check.weight(cosmicLink, signer.weight);\n  switch (signer.type) {\n    case 'key':\n      break;\n    case 'hash':\n    case 'tx':\n      if (signer.value.length !== 64 || !signer.value.match(/[0-9a-f]*/)) {\n        status.error(cosmicLink, 'Invalid hash (expecting sha256sum)', 'throw');\n      }\n      break;\n    default:\n      status.error(cosmicLink, 'Invalid signer type: ' + signer.type, 'throw');\n  }\n};\n\ncheck.sequence = function (cosmicLink, sequence) {\n  check.integer(cosmicLink, sequence, 'sequence', 0);\n};\n\ncheck.threshold = function (cosmicLink, threshold) {\n  check.integer(cosmicLink, threshold, 'threshold', 0, 255);\n};\n\ncheck.weight = function (cosmicLink, weight) {\n  check.integer(cosmicLink, weight, 'weight', 0, 255);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9jaGVjay5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvY2hlY2suanM/ZGExMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbi8qKlxuICogUHJvdmlkZSBjaGVja3MgZm9yIHZhcm91cyB0eXBlIG9mIGZpZWxkIHVzZWQgaW4gY29zbWljIGxpbmtzLiBJbiBjYXNlIG9mXG4gKiBlcnJvciwgYGNvc21pY0xpbmtgIGlzIHVwZGF0ZWQgYWNjb3JkaW5nbHkuXG4gKlxuICogVGhpcyBtb2R1bGUgbWF5IG5vIGJlIHR5cGUtY29tcGxldGUgYW5kIG5ldyB0eXBlIGNoZWNrcyBnb3QgYWRkZWQgb25seSB3aGVuXG4gKiBuZWVkZWQuXG4gKlxuICogVGhlIGNoZWNrIGFwcGx5IG9uIHZhbHVlcyB1c2luZyB0aGUgY29zbWljIGxpbmsgSlNPTiBmb3JtYXQuXG4gKlxuICogQGV4cG9ydHMgY2hlY2tcbiAqL1xuY29uc3QgY2hlY2sgPSBleHBvcnRzXG5cbmNvbnN0IHNwZWNzID0gcmVxdWlyZSgnLi9zcGVjcycpXG5jb25zdCBzdGF0dXMgPSByZXF1aXJlKCcuL3N0YXR1cycpXG5cblxuLyoqXG4gKiBDaGVjayB0aGF0IGBmaWVsZGAgaXMgYSB2YWxpZCB0cmFuc2FjdGlvbi9vcGVyYXRpb24gZmllbGQuIElmIGB2YWx1ZWAgaXNcbiAqIGdpdmVuLCBjaGVjayB0aGF0IGl0IGlzIHZhbGlkIGZvciB0aGF0IGBmaWVsZGAuIElmIGEgY2hlY2sgZG9lc24ndCBwYXNzLCBhblxuICogZXJyb3IgaXMgdGhyb3dlZC5cbiAqXG4gKiBAcGFyYW0ge2Nvc21pY0xpbmt9IGNvc21pY0xpbmtcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqL1xuY2hlY2suZmllbGQgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZmllbGQsIHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSBzcGVjcy5maWVsZFR5cGVbZmllbGRdXG4gIGlmICghdHlwZSkgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdVbmtub3cgZmllbGQ6ICcgKyBmaWVsZCwgJ3Rocm93JylcbiAgaWYgKHZhbHVlKSBjaGVjay50eXBlKGNvc21pY0xpbmssIHR5cGUsIHZhbHVlKVxufVxuXG4vKipcbiAqIENoZWNrIHRoYXQgYHR5cGVgIGlzIGEgdmFsaWQgdHJhbnNhY3Rpb24vb3BlcmF0aW9uIGZpZWxkIHR5cGUuIElmIGB2YWx1ZWAgaXNcbiAqIGdpdmVuLCBjaGVjayB0aGF0IGl0IGlzIHZhbGlkIGZvciB0aGF0IGB0eXBlYC4gSWYgYSBjaGVjayBkb2Vzbid0IHBhc3MsIGFuXG4gKiBlcnJvciBpcyB0aHJvd2VkLlxuICpcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdXG4gKi9cbmNoZWNrLnR5cGUgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdHlwZSwgdmFsdWUpIHtcbiAgaWYgKCEgc3BlY3MudHlwZXMuZmluZChlbnRyeSA9PiBlbnRyeSA9PT0gdHlwZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZTogJyArIHR5cGUpXG4gIH1cbiAgaWYgKHZhbHVlKSB7XG4gICAgY2hlY2sudHlwZShjb3NtaWNMaW5rLCB0eXBlKVxuICAgIGNvbnN0IGNoZWNrZXIgPSBjaGVja1t0eXBlXVxuICAgIGlmIChjaGVja2VyKSBjaGVja2VyKGNvc21pY0xpbmssIHZhbHVlKVxuICB9XG59XG5cbi8qKlxuICogR2VuZXJpYyBjaGVjayBmb3IgbnVtYmVycy4gQ2hlY2sgdGhhdCBgdmFsdWVgIGlzIGEgbnVtYmVyIG9yIGEgc3RyaW5nXG4gKiByZXByZXNlbnRpbmcgYSBudW1iZXIuIGB0eXBlYCBpcyBmb3IgdGhlIGN1c3RvbWl6YXRpb24gb2YgdGhlIG1lc3NhZ2UgaW4gY2FzZVxuICogb2YgZXJyb3IuIGBtaW5gIGFuZCBgbWF4YCBtYXkgYmUgcHJvdmlkZWQgYXMgYWRkaXRpb25hbCByZXN0cmljdGlvbiBmb3JcbiAqIGB2YWx1ZWAuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGUgPSAnbnVtYmVyJ11cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW21pbl1cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW21heF1cbiAqL1xuY2hlY2subnVtYmVyID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHZhbHVlLCB0eXBlID0gJ251bWJlcicsIG1pbiwgbWF4KSB7XG4gIGNvbnN0IG51bSA9ICt2YWx1ZVxuICBpZiAoaXNOYU4obnVtKSkge1xuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLFxuICAgICAgYEludmFsaWQgJHt0eXBlfSAoc2hvdWxkIGJlIGEgbnVtYmVyKTogJHt2YWx1ZX1gLFxuICAgICAgJ3Rocm93J1xuICAgIClcbiAgfSBlbHNlIGlmICgobWluICYmIG51bSA8IG1pbikgfHwgKG1heCAmJiBudW0gPiBtYXgpKSB7XG4gICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssXG4gICAgICBgSW52YWxpZCAke3R5cGV9IChzaG91bGQgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fSApOiAke3ZhbHVlfWAsXG4gICAgICAndGhyb3cnXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogR2VuZXJpYyBjaGVjayBmb3IgaW50ZWdlcnMuIENoZWNrIHRoYXQgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyIG9yIGEgc3RyaW5nXG4gKiByZXByZXNlbnRpbmcgYW4gaW50ZWdlci4gYHR5cGVgIGlzIGZvciB0aGUgY3VzdG9taXphdGlvbiBvZiB0aGUgbWVzc2FnZSBpblxuICogY2FzZSBvZiBlcnJvci4gYG1pbmAgYW5kIGBtYXhgIG1heSBiZSBwcm92aWRlZCBhcyBhZGRpdGlvbmFsIHJlc3RyaWN0aW9uIGZvclxuICogYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0ge2Nvc21pY0xpbmt9IGNvc21pY0xpbmtcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZSA9ICdpbnRlZ2VyJ11cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW21pbl1cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW21heF1cbiAqL1xuY2hlY2suaW50ZWdlciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB2YWx1ZSwgdHlwZSA9ICdpbnRlZ2VyJywgbWluLCBtYXgpIHtcbiAgY2hlY2subnVtYmVyKGNvc21pY0xpbmssIHZhbHVlLCB0eXBlLCBtaW4sIG1heClcbiAgaWYgKHBhcnNlSW50KHZhbHVlKSArICcnICE9PSB2YWx1ZSArICcnKSB7XG4gICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssIGBOb3QgYW4gaW50ZWdlcjogJHt2YWx1ZX1gLCAndGhyb3cnKVxuICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNoZWNrLmFzc2V0ID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIGFzc2V0KSB7XG4gIGNvbnN0IGNvZGUgPSBhc3NldC5jb2RlLnRvTG93ZXJDYXNlKClcbiAgaWYgKCFhc3NldC5pc3N1ZXIgJiYgY29kZSAhPT0gJ3hsbScgJiYgY29kZSAhPT0gJ25hdGl2ZScpIHtcbiAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ01pc3NpbmcgaXNzdWVyIGZvciBhc3NldDogJyArIGNvZGUsICd0aHJvdycpXG4gIH1cbn1cblxuY2hlY2suYXNzZXRzQXJyYXkgPSBmdW5jdGlvbiAoY29zbWljTGluaywgYXNzZXRzQXJyYXkpIHtcbiAgbGV0IGlzVmFsaWQgPSB0cnVlXG4gIGZvciAobGV0IGluZGV4IGluIGFzc2V0c0FycmF5KSB7XG4gICAgdHJ5IHsgY2hlY2suYXNzZXQoY29zbWljTGluaywgYXNzZXRzQXJyYXlbaW5kZXhdKSB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGlzVmFsaWQgPSBmYWxzZSB9XG4gIH1cbiAgaWYgKCFpc1ZhbGlkKSB0aHJvdyBuZXcgRXJyb3IgKCdJbnZhbGlkIGFzc2V0cyBhcnJheScpXG59XG5cbmNoZWNrLmFtb3VudCA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhbW91bnQpIHtcbiAgY2hlY2subnVtYmVyKGNvc21pY0xpbmssIGFtb3VudCwgJ2Ftb3VudCcpXG59XG5cbmNoZWNrLmJvb2xlYW4gPSBmdW5jdGlvbiAoY29zbWljTGluaywgYm9vbGVhbikge1xuICBpZiAodHlwZW9mIGJvb2xlYW4gIT09ICdib29sZWFuJykge1xuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCAnSW52YWxpZCBib29sZWFuOiAnICsgYm9vbGVhbiwgJ3Rocm93JylcbiAgfVxufVxuXG5jaGVjay5mbGFncyA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBmbGFncykge1xuICBjaGVjay5pbnRlZ2VyKGNvc21pY0xpbmssIGZsYWdzLCAnZmxhZ3MnLCAwLCA3KVxufVxuXG5jaGVjay5wcmljZSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBwcmljZSkge1xuICBpZiAodHlwZW9mIHByaWNlID09PSAnb2JqZWN0Jykge1xuICAgIHRyeSB7XG4gICAgICBjaGVjay5wcmljZShudWxsLCBwcmljZS5uKVxuICAgICAgY2hlY2sucHJpY2UobnVsbCwgcHJpY2UuZClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdJbnZhbGlkIHByaWNlJywgJ3Rocm93JylcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2hlY2subnVtYmVyKGNvc21pY0xpbmssIHByaWNlLCAwKVxuICB9XG59XG5cbmNoZWNrLnNpZ25lciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzaWduZXIpIHtcbiAgY2hlY2sud2VpZ2h0KGNvc21pY0xpbmssIHNpZ25lci53ZWlnaHQpXG4gIHN3aXRjaCAoc2lnbmVyLnR5cGUpIHtcbiAgICBjYXNlICdrZXknOiBicmVha1xuICAgIGNhc2UgJ2hhc2gnOlxuICAgIGNhc2UgJ3R4JzpcbiAgICAgIGlmIChzaWduZXIudmFsdWUubGVuZ3RoICE9PSA2NCB8fCAhc2lnbmVyLnZhbHVlLm1hdGNoKC9bMC05YS1mXSovKSkge1xuICAgICAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ0ludmFsaWQgaGFzaCAoZXhwZWN0aW5nIHNoYTI1NnN1bSknLCAndGhyb3cnKVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdJbnZhbGlkIHNpZ25lciB0eXBlOiAnICsgc2lnbmVyLnR5cGUsICd0aHJvdycpXG4gIH1cbn1cblxuY2hlY2suc2VxdWVuY2UgPSBmdW5jdGlvbiAoY29zbWljTGluaywgc2VxdWVuY2UpIHtcbiAgY2hlY2suaW50ZWdlcihjb3NtaWNMaW5rLCBzZXF1ZW5jZSwgJ3NlcXVlbmNlJywgMClcbn1cblxuY2hlY2sudGhyZXNob2xkID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHRocmVzaG9sZCkge1xuICBjaGVjay5pbnRlZ2VyKGNvc21pY0xpbmssIHRocmVzaG9sZCwgJ3RocmVzaG9sZCcsIDAsIDI1NSlcbn1cblxuY2hlY2sud2VpZ2h0ID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHdlaWdodCkge1xuICBjaGVjay5pbnRlZ2VyKGNvc21pY0xpbmssIHdlaWdodCwgJ3dlaWdodCcsIDAsIDI1NSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/check.js\n");

/***/ }),

/***/ "./src/cosmic-lib/convert.js":
/*!***********************************!*\
  !*** ./src/cosmic-lib/convert.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the methods to convert transactions between various formats.\n *\n * @exports convert\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\n/**\n * Returns an Operation object equivalent to cosmic link `operation descriptor`.\n *\n * @private\n * @param {CL}\n * @param {Object} odesc Operation descriptor\n * @return {Operation}\n */\nvar odescToOperation = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cosmicLink, odesc) {\n    var operation, field, value;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            operation = odesc.type;\n\n            delete odesc.type;\n\n            _context2.t0 = _regenerator2.default.keys(odesc);\n\n          case 3:\n            if ((_context2.t1 = _context2.t0()).done) {\n              _context2.next = 11;\n              break;\n            }\n\n            field = _context2.t1.value;\n            _context2.next = 7;\n            return prepare.field(cosmicLink, field, odesc[field]);\n\n          case 7:\n            value = _context2.sent;\n\n            odesc[field] = value;\n            _context2.next = 3;\n            break;\n\n          case 11:\n            return _context2.abrupt('return', StellarSdk.Operation[operation](odesc));\n\n          case 12:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function odescToOperation(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Returns a TransactionBuilder for `transaction descriptor`.\n *\n * @private\n * @param {CL}\n * @param {Object} tdesc Transaction descriptor\n * @return {TransactionBuilder}\n */\n\n\nvar makeTransactionBuilder = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cosmicLink, tdesc) {\n    var opts, loadedAccount, Constructor, baseAccount, builder, operation, account, memoType, memoValue;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            opts = {};\n\n            if (tdesc.fee) opts.fee = tdesc.fee;\n            if (tdesc.memo) opts.memo = prepare.memo(cosmicLink, tdesc.memo);\n            if (tdesc.minTime || tdesc.maxTime) {\n              opts.timebounds = { minTime: 0, maxTime: 0 };\n              if (tdesc.minTime) opts.timebounds.minTime = tdesc.minTime;\n              if (tdesc.maxTime) opts.timebounds.maxTime = tdesc.maxTime;\n            }\n\n            _context3.next = 6;\n            return cosmicLink.getSourceAccount();\n\n          case 6:\n            loadedAccount = _context3.sent;\n\n            if (tdesc.sequence) {\n              Constructor = loadedAccount._baseAccount.__proto__.constructor;\n              baseAccount = new Constructor(loadedAccount.id, tdesc.sequence - 1 + '');\n\n              loadedAccount._baseAccount = baseAccount;\n            }\n            builder = new StellarSdk.TransactionBuilder(loadedAccount, opts);\n\n            /// Check if memo is needed for destination account.\n\n            operation = tdesc.operations[0];\n\n            if (!operation.destination) {\n              _context3.next = 15;\n              break;\n            }\n\n            _context3.next = 13;\n            return resolve.address(cosmicLink, operation.destination);\n\n          case 13:\n            account = _context3.sent;\n\n            if (account.memo) {\n              memoType = account.memo_type;\n              memoValue = account.memo;\n\n              if (tdesc.memo && (tdesc.memo.type !== memoType || tdesc.memo.value !== memoValue)) {\n                status.error(cosmicLink, 'Memo conflict', 'throw');\n              } else {\n                builder.addMemo(new StellarSdk.Memo(memoType, memoValue));\n              }\n            }\n\n          case 15:\n            return _context3.abrupt('return', builder);\n\n          case 16:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function makeTransactionBuilder(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Return the XDR of `transaction`.\n *\n * @param {CL}\n * @param {Transaction} transaction\n * @return {XDR}\n */\n\n\nvar _specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\n\nvar specs = _interopRequireWildcard(_specs);\n\nvar _status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\n\nvar status = _interopRequireWildcard(_status);\n\nvar _decode = __webpack_require__(/*! ./decode */ \"./src/cosmic-lib/decode.js\");\n\nvar decode = _interopRequireWildcard(_decode);\n\nvar _resolve = __webpack_require__(/*! ./resolve */ \"./src/cosmic-lib/resolve.js\");\n\nvar resolve = _interopRequireWildcard(_resolve);\n\nvar _prepare = __webpack_require__(/*! ./prepare */ \"./src/cosmic-lib/prepare.js\");\n\nvar prepare = _interopRequireWildcard(_prepare);\n\nvar _encode = __webpack_require__(/*! ./encode */ \"./src/cosmic-lib/encode.js\");\n\nvar encode = _interopRequireWildcard(_encode);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar convert = exports;\n\n/** ****************************    URI -> XDR    ******************************/\n\n/**\n * Extract the query string from `uri`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} uri\n * @return {string} query\n */\n\nconvert.uriToQuery = function (cosmicLink, uri) {\n  if (!uri.match(/\\?/)) return null;\n  var query = uri.replace(/^[^?]*/, '');\n  return query;\n};\n\n/**\n * Build a `transaction descriptor` object from a cosmic link `query`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} query\n * @return {Object} tdesc\n */\nconvert.queryToJson = function (cosmicLink, query) {\n  if (query.length < 2) status.fail(cosmicLink, 'Empty query', 'throw');\n\n  var tdesc = {};\n  var odesc = [];\n  var isValid = true;\n\n  var operation = query.substr(1).replace(/&.*/, '');\n  var queries = query.substr(operation.length + 2).split('&');\n  var mode = operation;\n  if (operation === 'transaction') {\n    mode = 'transaction';\n  } else {\n    odesc.unshift({ type: mode });\n    checkOperationType(cosmicLink, operation);\n  }\n\n  for (var index in queries) {\n    var argument = queries[index];\n    var field = argument.replace(/=.*/, '');\n    var value = argument.replace(/^[^=]*=/, '');\n\n    try {\n      if (!field) continue;\n\n      if (!value && field !== 'homeDomain' && field !== 'value') {\n        value = '(empty)';\n        status.error(cosmicLink, 'No value for: ' + field, 'throw');\n      }\n\n      if (mode === 'transaction' && field === 'operation') {\n        operation = value;\n        odesc.unshift({ type: value });\n        checkOperationType(cosmicLink, value);\n        continue;\n      }\n\n      if (operation === 'transaction' && !isTransactionField(field)) {\n        status.error(cosmicLink, 'Not a valid transaction field: ' + field, 'throw');\n      } else if (mode === 'operation' && !isOperationField(field)) {\n        status;\n      }\n\n      var decodedValue = decode.field(cosmicLink, field, value);\n      if (operation === 'transaction') {\n        tdesc[field] = decodedValue;\n      } else if (mode !== 'transaction' && isTransactionField(field)) {\n        tdesc[field] = decodedValue;\n      } else {\n        odesc[0][field] = decodedValue;\n      }\n    } catch (error) {\n      /// At this point decoding errors should already be handled.\n      /// This line catch program error for debugging purpose.\n      if (!cosmicLink.errors) status.error(cosmicLink, error);\n      var errorObject = { error: error, value: value };\n      isValid = false;\n\n      if (operation === 'transaction') {\n        tdesc[field] = errorObject;\n      } else if (mode !== 'transaction' && isTransactionField(field)) {\n        tdesc[field] = errorObject;\n      } else if (field === 'operation') {\n        odesc[0].error = 'Unknow operation';\n      } else {\n        odesc[0][field] = errorObject;\n      }\n    }\n  }\n\n  var _loop = function _loop(_index) {\n    var operation = odesc[_index];\n\n    switch (operation.type) {\n      case 'allowTrust':\n        if (operation.authorize === undefined) operation.authorize = true;\n        break;\n      case 'createPassiveOffer':\n      case 'manageOffer':\n        {\n          if (operation.buying && !operation.selling) operation.selling = XLM;\n          if (operation.selling && !operation.buying) operation.buying = XLM;\n          break;\n        }\n      case 'manageData':\n        if (!operation.value) operation.value = null;\n        break;\n      case 'pathPayment':\n        if (operation.destAsset && !operation.sendAsset) operation.sendAsset = XLM;\n        if (operation.sendAsset && !operation.destAsset) operation.destAsset = XLM;\n        break;\n      case 'payment':\n        if (!operation.asset) operation.asset = XLM;\n        break;\n    }\n\n    var mandatoryFields = specs.operationMandatoryFields[operation.type];\n    mandatoryFields.forEach(function (field) {\n      if (operation[field] === undefined) {\n        status.error(cosmicLink, 'Missing mandatory field: ' + field);\n        isValid = false;\n      }\n    });\n    for (var _field in operation) {\n      if (!isOperationField(operation.type, _field)) {\n        status.error(cosmicLink, 'Invalid field: ' + _field);\n        isValid = false;\n      }\n    }\n  };\n\n  for (var _index in odesc) {\n    _loop(_index);\n  }\n\n  tdesc.operations = odesc.reverse();\n  if (!isValid) status.fail(cosmicLink, 'Invalid query');\n  return convert.tdescToJson(cosmicLink, tdesc);\n};\n\nvar XLM = StellarSdk.Asset.native();\n\n/**\n * Throw an error if `type` is not a valid operation type.\n *\n * @private\n * @param {CL}\n * @param {string} type\n */\nfunction checkOperationType(cosmicLink, type) {\n  if (!isOperationTypeValid(type)) {\n    status.error(cosmicLink, 'Unknow operation: ' + type, 'throw');\n  }\n}\n\n/**\n * Returns `true` if `operation` is a valid operation type, `false` otherwise.\n *\n * @private\n * @param {string} string\n * @return {boolean}\n */\nfunction isOperationTypeValid(string) {\n  if (specs.operationMandatoryFields[string]) return true;else return false;\n}\n\n/**\n * Returns `true` if `string` is a valid transaction field, `false` otherwise.\n *\n * @private\n * @param {string} string\n * @return {boolean}\n */\nfunction isTransactionField(string) {\n  if (specs.transactionOptionalFields.indexOf(string) !== -1) return true;else return false;\n}\n\n/**\n * Returns `true` if `string` is a valid field for `operation`, `false`\n * otherwise.\n *\n * @private\n * @param {string} operation\n * @param {string} string\n * @return {boolean}\n */\nfunction isOperationField(operation, string) {\n  if (string === 'type') return true;else if (specs.operationMandatoryFields[operation].indexOf(string) === -1 && specs.operationOptionalFields[operation].indexOf(string) === -1) return false;else return true;\n}\n\n/**\n * Returns the JSON of cosmic link `transaction descriptor`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {Object} tdesc transaction descriptor\n * @return {string} transaction descriptor JSON\n */\nconvert.tdescToJson = function (cosmicLink, tdesc) {\n  return JSON.stringify(tdesc, null, 2);\n};\n\n/**\n * Returns the Stellar `transaction` object for `cosmicLink`'s\n * `transaction descriptor`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {Object} tdesc transaction descriptor\n * @return {Transaction}\n */\nconvert.jsonToTransaction = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(cosmicLink, json) {\n    var tdesc, builder, index, odesc, operation;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!cosmicLink.status) {\n              _context.next = 2;\n              break;\n            }\n\n            throw new Error(cosmicLink.status);\n\n          case 2:\n            tdesc = convert.jsonToTdesc(cosmicLink, json);\n            _context.prev = 3;\n            _context.next = 6;\n            return makeTransactionBuilder(cosmicLink, tdesc);\n\n          case 6:\n            builder = _context.sent;\n            _context.t0 = _regenerator2.default.keys(tdesc.operations);\n\n          case 8:\n            if ((_context.t1 = _context.t0()).done) {\n              _context.next = 17;\n              break;\n            }\n\n            index = _context.t1.value;\n            odesc = tdesc.operations[index];\n            _context.next = 13;\n            return odescToOperation(cosmicLink, odesc);\n\n          case 13:\n            operation = _context.sent;\n\n            builder.addOperation(operation);\n            _context.next = 8;\n            break;\n\n          case 17:\n            return _context.abrupt('return', builder.build());\n\n          case 20:\n            _context.prev = 20;\n            _context.t2 = _context['catch'](3);\n\n            if (!cosmicLink.errors) status.error(cosmicLink, _context.t2);\n\n            if (cosmicLink.status) {\n              _context.next = 27;\n              break;\n            }\n\n            status.fail(cosmicLink, \"Can't build transaction\", 'throw');\n            _context.next = 28;\n            break;\n\n          case 27:\n            throw _context.t2;\n\n          case 28:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[3, 20]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();convert.transactionToXdr = function (cosmicLink, transaction) {\n  return transaction.toEnvelope().toXDR('base64');\n};\n\n/** ****************************    XDR -> URI    ******************************/\n\n/**\n * Return the Transaction object equivalent to `xdr`.\n *\n * @param {CL}\n * @param {XDR} xdr\n * @return {Transaction}\n */\nconvert.xdrToTransaction = function (cosmicLink, xdr) {\n  try {\n    return new StellarSdk.Transaction(xdr);\n  } catch (error) {\n    console.log(error);\n    status.fail(cosmicLink, 'Invalid XDR', 'throw');\n  }\n};\n\n/**\n * Return the query equivalent to `xdr`.\n *\n * @param {CL}\n * @param {XDR} xdr Transaction envelope\n * @return {String}\n */\nconvert.xdrToQuery = function (cosmicLink, xdr) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var query = '?xdr=' + xdr;\n  if (options.network) query += '&network=' + options.network;\n  return query;\n};\n\n/**\n * Return the `transaction descriptor` JSON equivalent to Stellar `Transaction`\n * object.\n *\n * Set options.stripSource to true for a transaction that is account-agnostic,\n * like an exchange operation for example. Ignore it for a transaction that\n * is required to be performed from the source account defined in 'XDR'\n * (example: subscription monthly fee).\n *\n * You may set options.network to the desired network.\n *\n * @param {CL}\n * @param {Transaction} transaction\n * @param {Object} options\n * @return {JSON} transaction descriptor JSON\n */\nconvert.transactionToJson = function (cosmicLink, transaction) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var copy = JSON.parse(JSON.stringify(transaction));\n\n  delete copy.tx;\n\n  if (!cosmicLink.user) cosmicLink.user = copy.source;\n\n  if (options.stripSource) {\n    delete copy.source;\n    delete copy.signatures;\n    delete copy.sequence;\n  }\n  if (options.stripSequence) {\n    delete copy.sequence;\n    delete copy.signatures;\n  }\n  if (options.stripSignatures) delete copy.signatures;\n\n  if (copy.signatures) {\n    copy.signatures = transaction.signatures.map(function (entry) {\n      return {\n        hint: entry.hint().toString('base64'),\n        signature: entry.signature().toString('base64')\n      };\n    });\n    if (copy.signatures.length === 0) delete copy.signatures;\n  }\n\n  if (copy.fee === 100 * copy.operations.length) delete copy.fee;\n  if (copy._memo._switch.name !== 'memoNone') {\n    copy.memo = {};\n    copy.memo.type = copy._memo._arm;\n    if (copy.memo.type === 'hash' || copy.memo.type === 'retHash') {\n      copy.memo.value = transaction._memo._value.toString('hex');\n      if (copy.memo.type === 'retHash') copy.memo.type = 'return';\n    } else {\n      copy.memo.value = transaction._memo._value.toString();\n    }\n  }\n  delete copy._memo;\n\n  if (copy.timeBounds) {\n    if (copy.timeBounds.minTime && copy.timeBounds.minTime !== '0') {\n      copy.minTime = copy.timeBounds.minTime;\n    }\n    if (copy.timeBounds.maxTime && copy.timeBounds.maxTime !== '0') {\n      copy.maxTime = copy.timeBounds.maxTime;\n    }\n    delete copy.timeBounds;\n  }\n\n  for (var index in copy.operations) {\n    var operation = copy.operations[index];\n    if (operation.limit === '922337203685.4775807') delete operation.limit;\n    if (operation.value) {\n      operation.value = transaction.operations[0].value.toString();\n    }\n    if (operation.offerId === '0') delete operation.offerId;\n    if (operation.path && operation.path.length === 0) delete operation.path;\n    if (operation.line) {\n      operation.asset = operation.line;\n      delete operation.line;\n    }\n    if (operation.signer) {\n      if (operation.signer.ed25519PublicKey) {\n        operation.signer.type = 'key';\n        operation.signer.value = operation.signer.ed25519PublicKey;\n        delete operation.signer.ed25519PublicKey;\n      } else if (operation.signer.sha256Hash) {\n        operation.signer.type = 'hash';\n        operation.signer.value = transaction.operations[0].signer.sha256Hash.toString('hex');\n        delete operation.signer.sha256Hash;\n      } else if (operation.signer.preAuthTx) {\n        operation.signer.type = 'tx';\n        operation.signer.value = transaction.operations[0].signer.preAuthTx.toString('hex');\n        delete operation.signer.preAuthTx;\n      }\n    }\n  }\n\n  if (options.network !== undefined) copy.network = options.network;\n\n  return JSON.stringify(copy, null, 2);\n};\n\n/**\n * Parse `transaction descriptor` from `JSON`.\n *\n * @param {CL}\n * @param {JSON} JSON transaction descriptior\n * @return {Object} transaction descriptor\n */\nconvert.jsonToTdesc = function (cosmicLink, json) {\n  return JSON.parse(json);\n};\n\n/**\n * Return the cosmic link query equivalent to `transaction descriptor`.\n *\n * @param {CL}\n * @param {Object} tdesc Transaction descriptor\n * @return {string} query\n */\nconvert.jsonToQuery = function (cosmicLink, json) {\n  var tdesc = convert.jsonToTdesc(cosmicLink, json);\n\n  var query = '?';\n  if (tdesc.operations.length === 1) query += tdesc.operations[0].type;else query += 'transaction';\n\n  specs.transactionOptionalFields.forEach(function (field) {\n    if (tdesc[field] !== undefined) {\n      query += encode.field(cosmicLink, field, tdesc[field]);\n    }\n  });\n\n  var _loop2 = function _loop2(index) {\n    var operation = tdesc.operations[index];\n    var fields = specs.operationMandatoryFields[operation.type].concat(specs.operationOptionalFields[operation.type]);\n\n    if (tdesc.operations.length > 1) query += '&operation=' + operation.type;\n    fields.forEach(function (field) {\n      query += encode.field(cosmicLink, field, operation[field]);\n    });\n  };\n\n  for (var index in tdesc.operations) {\n    _loop2(index);\n  }\n\n  return query;\n};\n\n/**\n * Return a complete cosmic link URI made of `query` and `cosmicLink.page`.\n * Use `https://cosmic.link/` if `cosmicLink.page` is undefined\n *\n * @param {CL}\n * @param {string} query\n * @param {string} cosmic link URI\n */\nconvert.queryToUri = function (cosmicLink, query) {\n  return cosmicLink.page + query;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9jb252ZXJ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9jb252ZXJ0LmpzPzJiNzAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG4vKipcbiAqIENvbnRhaW5zIHRoZSBtZXRob2RzIHRvIGNvbnZlcnQgdHJhbnNhY3Rpb25zIGJldHdlZW4gdmFyaW91cyBmb3JtYXRzLlxuICpcbiAqIEBleHBvcnRzIGNvbnZlcnRcbiAqL1xuY29uc3QgY29udmVydCA9IGV4cG9ydHNcblxuaW1wb3J0ICogYXMgc3BlY3MgZnJvbSAnLi9zcGVjcydcbmltcG9ydCAqIGFzIHN0YXR1cyBmcm9tICcuL3N0YXR1cydcbmltcG9ydCAqIGFzIGRlY29kZSBmcm9tICcuL2RlY29kZSdcbmltcG9ydCAqIGFzIHJlc29sdmUgZnJvbSAnLi9yZXNvbHZlJ1xuaW1wb3J0ICogYXMgcHJlcGFyZSBmcm9tICcuL3ByZXBhcmUnXG5pbXBvcnQgKiBhcyBlbmNvZGUgZnJvbSAnLi9lbmNvZGUnXG5cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKiogICAgVVJJIC0+IFhEUiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogRXh0cmFjdCB0aGUgcXVlcnkgc3RyaW5nIGZyb20gYHVyaWAuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHF1ZXJ5XG4gKi9cblxuY29udmVydC51cmlUb1F1ZXJ5ID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHVyaSkge1xuICBpZiAoIXVyaS5tYXRjaCgvXFw/LykpIHJldHVybiBudWxsXG4gIGNvbnN0IHF1ZXJ5ID0gdXJpLnJlcGxhY2UoL15bXj9dKi8sICcnKVxuICByZXR1cm4gcXVlcnlcbn1cblxuLyoqXG4gKiBCdWlsZCBhIGB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yYCBvYmplY3QgZnJvbSBhIGNvc21pYyBsaW5rIGBxdWVyeWAuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcbiAqIEByZXR1cm4ge09iamVjdH0gdGRlc2NcbiAqL1xuY29udmVydC5xdWVyeVRvSnNvbiA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBxdWVyeSkge1xuICBpZiAocXVlcnkubGVuZ3RoIDwgMikgc3RhdHVzLmZhaWwoY29zbWljTGluaywgJ0VtcHR5IHF1ZXJ5JywgJ3Rocm93JylcblxuICBjb25zdCB0ZGVzYyA9IHt9XG4gIGNvbnN0IG9kZXNjID0gW11cbiAgbGV0IGlzVmFsaWQgPSB0cnVlXG5cbiAgbGV0IG9wZXJhdGlvbiA9IHF1ZXJ5LnN1YnN0cigxKS5yZXBsYWNlKC8mLiovLCAnJylcbiAgY29uc3QgcXVlcmllcyA9IHF1ZXJ5LnN1YnN0cihvcGVyYXRpb24ubGVuZ3RoICsgMikuc3BsaXQoJyYnKVxuICBsZXQgbW9kZSA9IG9wZXJhdGlvblxuICBpZiAob3BlcmF0aW9uID09PSAndHJhbnNhY3Rpb24nKSB7XG4gICAgbW9kZSA9ICd0cmFuc2FjdGlvbidcbiAgfSBlbHNlIHtcbiAgICBvZGVzYy51bnNoaWZ0KHsgdHlwZTogbW9kZSB9KVxuICAgIGNoZWNrT3BlcmF0aW9uVHlwZShjb3NtaWNMaW5rLCBvcGVyYXRpb24pXG4gIH1cblxuXG4gIGZvciAobGV0IGluZGV4IGluIHF1ZXJpZXMpIHtcbiAgICBjb25zdCBhcmd1bWVudCA9IHF1ZXJpZXNbaW5kZXhdXG4gICAgY29uc3QgZmllbGQgPSBhcmd1bWVudC5yZXBsYWNlKC89LiovLCAnJylcbiAgICBsZXQgdmFsdWUgPSBhcmd1bWVudC5yZXBsYWNlKC9eW149XSo9LywgJycpXG5cbiAgICB0cnkge1xuICAgICAgaWYgKCFmaWVsZCkgY29udGludWVcblxuICAgICAgaWYgKCF2YWx1ZSAmJiBmaWVsZCAhPT0gJ2hvbWVEb21haW4nICYmIGZpZWxkICE9PSAndmFsdWUnKSB7XG4gICAgICAgIHZhbHVlID0gJyhlbXB0eSknXG4gICAgICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCAnTm8gdmFsdWUgZm9yOiAnICsgZmllbGQsICd0aHJvdycpXG4gICAgICB9XG5cbiAgICAgIGlmIChtb2RlID09PSAndHJhbnNhY3Rpb24nICYmIGZpZWxkID09PSAnb3BlcmF0aW9uJykge1xuICAgICAgICBvcGVyYXRpb24gPSB2YWx1ZVxuICAgICAgICBvZGVzYy51bnNoaWZ0KHsgdHlwZTogdmFsdWUgfSlcbiAgICAgICAgY2hlY2tPcGVyYXRpb25UeXBlKGNvc21pY0xpbmssIHZhbHVlKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAndHJhbnNhY3Rpb24nICYmICFpc1RyYW5zYWN0aW9uRmllbGQoZmllbGQpKSB7XG4gICAgICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCAnTm90IGEgdmFsaWQgdHJhbnNhY3Rpb24gZmllbGQ6ICcgKyBmaWVsZCwgJ3Rocm93JylcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ29wZXJhdGlvbicgJiYgIWlzT3BlcmF0aW9uRmllbGQoZmllbGQpKSB7XG4gICAgICAgIHN0YXR1c1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZWNvZGVkVmFsdWUgPSBkZWNvZGUuZmllbGQoY29zbWljTGluaywgZmllbGQsIHZhbHVlKVxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3RyYW5zYWN0aW9uJykge1xuICAgICAgICB0ZGVzY1tmaWVsZF0gPSBkZWNvZGVkVmFsdWVcbiAgICAgIH0gZWxzZSBpZiAobW9kZSAhPT0gJ3RyYW5zYWN0aW9uJyAmJiBpc1RyYW5zYWN0aW9uRmllbGQoZmllbGQpKSB7XG4gICAgICAgIHRkZXNjW2ZpZWxkXSA9IGRlY29kZWRWYWx1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Rlc2NbMF1bZmllbGRdID0gZGVjb2RlZFZhbHVlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vLyBBdCB0aGlzIHBvaW50IGRlY29kaW5nIGVycm9ycyBzaG91bGQgYWxyZWFkeSBiZSBoYW5kbGVkLlxuICAgICAgLy8vIFRoaXMgbGluZSBjYXRjaCBwcm9ncmFtIGVycm9yIGZvciBkZWJ1Z2dpbmcgcHVycG9zZS5cbiAgICAgIGlmICghY29zbWljTGluay5lcnJvcnMpIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCBlcnJvcilcbiAgICAgIGNvbnN0IGVycm9yT2JqZWN0ID0geyBlcnJvcjogZXJyb3IsIHZhbHVlOiB2YWx1ZSB9XG4gICAgICBpc1ZhbGlkID0gZmFsc2VcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3RyYW5zYWN0aW9uJykge1xuICAgICAgICB0ZGVzY1tmaWVsZF0gPSBlcnJvck9iamVjdFxuICAgICAgfSBlbHNlIGlmIChtb2RlICE9PSAndHJhbnNhY3Rpb24nICYmIGlzVHJhbnNhY3Rpb25GaWVsZChmaWVsZCkpIHtcbiAgICAgICAgdGRlc2NbZmllbGRdID0gZXJyb3JPYmplY3RcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdvcGVyYXRpb24nKSB7XG4gICAgICAgIG9kZXNjWzBdLmVycm9yID0gJ1Vua25vdyBvcGVyYXRpb24nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZGVzY1swXVtmaWVsZF0gPSBlcnJvck9iamVjdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGluZGV4IGluIG9kZXNjKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gb2Rlc2NbaW5kZXhdXG5cbiAgICBzd2l0Y2ggKG9wZXJhdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdhbGxvd1RydXN0JzpcbiAgICAgICAgaWYgKG9wZXJhdGlvbi5hdXRob3JpemUgPT09IHVuZGVmaW5lZCkgb3BlcmF0aW9uLmF1dGhvcml6ZSA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NyZWF0ZVBhc3NpdmVPZmZlcic6XG4gICAgICBjYXNlICdtYW5hZ2VPZmZlcic6IHtcbiAgICAgICAgaWYgKG9wZXJhdGlvbi5idXlpbmcgJiYgIW9wZXJhdGlvbi5zZWxsaW5nKSBvcGVyYXRpb24uc2VsbGluZyA9IFhMTVxuICAgICAgICBpZiAob3BlcmF0aW9uLnNlbGxpbmcgJiYgIW9wZXJhdGlvbi5idXlpbmcpIG9wZXJhdGlvbi5idXlpbmcgPSBYTE1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ21hbmFnZURhdGEnOlxuICAgICAgICBpZiAoIW9wZXJhdGlvbi52YWx1ZSkgb3BlcmF0aW9uLnZhbHVlID0gbnVsbFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncGF0aFBheW1lbnQnOlxuICAgICAgICBpZiAob3BlcmF0aW9uLmRlc3RBc3NldCAmJiAhb3BlcmF0aW9uLnNlbmRBc3NldCkgb3BlcmF0aW9uLnNlbmRBc3NldCA9IFhMTVxuICAgICAgICBpZiAob3BlcmF0aW9uLnNlbmRBc3NldCAmJiAhb3BlcmF0aW9uLmRlc3RBc3NldCkgb3BlcmF0aW9uLmRlc3RBc3NldCA9IFhMTVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncGF5bWVudCc6XG4gICAgICAgIGlmICghb3BlcmF0aW9uLmFzc2V0KSBvcGVyYXRpb24uYXNzZXQgPSBYTE1cbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjb25zdCBtYW5kYXRvcnlGaWVsZHMgPSBzcGVjcy5vcGVyYXRpb25NYW5kYXRvcnlGaWVsZHNbb3BlcmF0aW9uLnR5cGVdXG4gICAgbWFuZGF0b3J5RmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgaWYgKG9wZXJhdGlvbltmaWVsZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ01pc3NpbmcgbWFuZGF0b3J5IGZpZWxkOiAnICsgZmllbGQpXG4gICAgICAgIGlzVmFsaWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgZm9yIChsZXQgZmllbGQgaW4gb3BlcmF0aW9uKSB7XG4gICAgICBpZiAoIWlzT3BlcmF0aW9uRmllbGQob3BlcmF0aW9uLnR5cGUsIGZpZWxkKSkge1xuICAgICAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ0ludmFsaWQgZmllbGQ6ICcgKyBmaWVsZClcbiAgICAgICAgaXNWYWxpZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGRlc2Mub3BlcmF0aW9ucyA9IG9kZXNjLnJldmVyc2UoKVxuICBpZiAoIWlzVmFsaWQpIHN0YXR1cy5mYWlsKGNvc21pY0xpbmssICdJbnZhbGlkIHF1ZXJ5JylcbiAgcmV0dXJuIGNvbnZlcnQudGRlc2NUb0pzb24oY29zbWljTGluaywgdGRlc2MpXG59XG5cbmNvbnN0IFhMTSA9IFN0ZWxsYXJTZGsuQXNzZXQubmF0aXZlKClcblxuLyoqXG4gKiBUaHJvdyBhbiBlcnJvciBpZiBgdHlwZWAgaXMgbm90IGEgdmFsaWQgb3BlcmF0aW9uIHR5cGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjaGVja09wZXJhdGlvblR5cGUgKGNvc21pY0xpbmssIHR5cGUpIHtcbiAgaWYgKCFpc09wZXJhdGlvblR5cGVWYWxpZCh0eXBlKSkge1xuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCAnVW5rbm93IG9wZXJhdGlvbjogJyArIHR5cGUsICd0aHJvdycpXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgb3BlcmF0aW9uYCBpcyBhIHZhbGlkIG9wZXJhdGlvbiB0eXBlLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPcGVyYXRpb25UeXBlVmFsaWQgKHN0cmluZykge1xuICBpZiAoc3BlY3Mub3BlcmF0aW9uTWFuZGF0b3J5RmllbGRzW3N0cmluZ10pIHJldHVybiB0cnVlXG4gIGVsc2UgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgaXMgYSB2YWxpZCB0cmFuc2FjdGlvbiBmaWVsZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVHJhbnNhY3Rpb25GaWVsZCAoc3RyaW5nKSB7XG4gIGlmIChzcGVjcy50cmFuc2FjdGlvbk9wdGlvbmFsRmllbGRzLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEpIHJldHVybiB0cnVlXG4gIGVsc2UgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgaXMgYSB2YWxpZCBmaWVsZCBmb3IgYG9wZXJhdGlvbmAsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNPcGVyYXRpb25GaWVsZCAob3BlcmF0aW9uLCBzdHJpbmcpIHtcbiAgaWYgKHN0cmluZyA9PT0gJ3R5cGUnKSByZXR1cm4gdHJ1ZVxuICBlbHNlIGlmIChcbiAgICBzcGVjcy5vcGVyYXRpb25NYW5kYXRvcnlGaWVsZHNbb3BlcmF0aW9uXS5pbmRleE9mKHN0cmluZykgPT09IC0xICYmXG4gICAgc3BlY3Mub3BlcmF0aW9uT3B0aW9uYWxGaWVsZHNbb3BlcmF0aW9uXS5pbmRleE9mKHN0cmluZykgPT09IC0xXG4gICkgcmV0dXJuIGZhbHNlXG4gIGVsc2UgcmV0dXJuIHRydWVcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBKU09OIG9mIGNvc21pYyBsaW5rIGB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yYC5cbiAqXG4gKiBAcGFyYW0ge2Nvc21pY0xpbmt9IGNvc21pY0xpbmtcbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZGVzYyB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRyYW5zYWN0aW9uIGRlc2NyaXB0b3IgSlNPTlxuICovXG5jb252ZXJ0LnRkZXNjVG9Kc29uID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHRkZXNjKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh0ZGVzYywgbnVsbCwgMilcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBTdGVsbGFyIGB0cmFuc2FjdGlvbmAgb2JqZWN0IGZvciBgY29zbWljTGlua2Anc1xuICogYHRyYW5zYWN0aW9uIGRlc2NyaXB0b3JgLlxuICpcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtPYmplY3R9IHRkZXNjIHRyYW5zYWN0aW9uIGRlc2NyaXB0b3JcbiAqIEByZXR1cm4ge1RyYW5zYWN0aW9ufVxuICovXG5jb252ZXJ0Lmpzb25Ub1RyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIGpzb24pIHtcbiAgaWYgKGNvc21pY0xpbmsuc3RhdHVzKSB0aHJvdyBuZXcgRXJyb3IoY29zbWljTGluay5zdGF0dXMpXG4gIGNvbnN0IHRkZXNjID0gY29udmVydC5qc29uVG9UZGVzYyhjb3NtaWNMaW5rLCBqc29uKVxuXG4gIHRyeSB7XG4gICAgY29uc3QgYnVpbGRlciA9IGF3YWl0IG1ha2VUcmFuc2FjdGlvbkJ1aWxkZXIoY29zbWljTGluaywgdGRlc2MpXG4gICAgZm9yIChsZXQgaW5kZXggaW4gdGRlc2Mub3BlcmF0aW9ucykge1xuICAgICAgY29uc3Qgb2Rlc2MgPSB0ZGVzYy5vcGVyYXRpb25zW2luZGV4XVxuICAgICAgY29uc3Qgb3BlcmF0aW9uID0gYXdhaXQgb2Rlc2NUb09wZXJhdGlvbihjb3NtaWNMaW5rLCBvZGVzYylcbiAgICAgIGJ1aWxkZXIuYWRkT3BlcmF0aW9uKG9wZXJhdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuYnVpbGQoKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmICghY29zbWljTGluay5lcnJvcnMpIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCBlcnJvcilcbiAgICBpZiAoIWNvc21pY0xpbmsuc3RhdHVzKSBzdGF0dXMuZmFpbChjb3NtaWNMaW5rLCBcIkNhbid0IGJ1aWxkIHRyYW5zYWN0aW9uXCIsICd0aHJvdycpXG4gICAgZWxzZSB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBPcGVyYXRpb24gb2JqZWN0IGVxdWl2YWxlbnQgdG8gY29zbWljIGxpbmsgYG9wZXJhdGlvbiBkZXNjcmlwdG9yYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBvZGVzYyBPcGVyYXRpb24gZGVzY3JpcHRvclxuICogQHJldHVybiB7T3BlcmF0aW9ufVxuICovXG5hc3luYyBmdW5jdGlvbiBvZGVzY1RvT3BlcmF0aW9uIChjb3NtaWNMaW5rLCBvZGVzYykge1xuICBsZXQgb3BlcmF0aW9uID0gb2Rlc2MudHlwZVxuICBkZWxldGUgb2Rlc2MudHlwZVxuXG4gIGZvciAobGV0IGZpZWxkIGluIG9kZXNjKSB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwcmVwYXJlLmZpZWxkKGNvc21pY0xpbmssIGZpZWxkLCBvZGVzY1tmaWVsZF0pXG4gICAgb2Rlc2NbZmllbGRdID0gdmFsdWVcbiAgfVxuXG4gIHJldHVybiBTdGVsbGFyU2RrLk9wZXJhdGlvbltvcGVyYXRpb25dKG9kZXNjKVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBUcmFuc2FjdGlvbkJ1aWxkZXIgZm9yIGB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZGVzYyBUcmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtUcmFuc2FjdGlvbkJ1aWxkZXJ9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIG1ha2VUcmFuc2FjdGlvbkJ1aWxkZXIgKGNvc21pY0xpbmssIHRkZXNjKSB7XG4gIGxldCBvcHRzID0ge31cbiAgaWYgKHRkZXNjLmZlZSkgb3B0cy5mZWUgPSB0ZGVzYy5mZWVcbiAgaWYgKHRkZXNjLm1lbW8pIG9wdHMubWVtbyA9IHByZXBhcmUubWVtbyhjb3NtaWNMaW5rLCB0ZGVzYy5tZW1vKVxuICBpZiAodGRlc2MubWluVGltZSB8fCB0ZGVzYy5tYXhUaW1lKSB7XG4gICAgb3B0cy50aW1lYm91bmRzID0geyBtaW5UaW1lOiAwLCBtYXhUaW1lOiAwIH1cbiAgICBpZiAodGRlc2MubWluVGltZSkgb3B0cy50aW1lYm91bmRzLm1pblRpbWUgPSB0ZGVzYy5taW5UaW1lXG4gICAgaWYgKHRkZXNjLm1heFRpbWUpIG9wdHMudGltZWJvdW5kcy5tYXhUaW1lID0gdGRlc2MubWF4VGltZVxuICB9XG5cbiAgY29uc3QgbG9hZGVkQWNjb3VudCA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0U291cmNlQWNjb3VudCgpXG4gIGlmICh0ZGVzYy5zZXF1ZW5jZSkge1xuICAgIGNvbnN0IENvbnN0cnVjdG9yID0gbG9hZGVkQWNjb3VudC5fYmFzZUFjY291bnQuX19wcm90b19fLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgYmFzZUFjY291bnQgPSBuZXcgQ29uc3RydWN0b3IobG9hZGVkQWNjb3VudC5pZCwgdGRlc2Muc2VxdWVuY2UgLSAxICsgJycpXG4gICAgbG9hZGVkQWNjb3VudC5fYmFzZUFjY291bnQgPSBiYXNlQWNjb3VudFxuICB9XG4gIGNvbnN0IGJ1aWxkZXIgPSBuZXcgU3RlbGxhclNkay5UcmFuc2FjdGlvbkJ1aWxkZXIobG9hZGVkQWNjb3VudCwgb3B0cylcblxuICAvLy8gQ2hlY2sgaWYgbWVtbyBpcyBuZWVkZWQgZm9yIGRlc3RpbmF0aW9uIGFjY291bnQuXG4gIGNvbnN0IG9wZXJhdGlvbiA9IHRkZXNjLm9wZXJhdGlvbnNbMF1cbiAgaWYgKG9wZXJhdGlvbi5kZXN0aW5hdGlvbikge1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCByZXNvbHZlLmFkZHJlc3MoY29zbWljTGluaywgb3BlcmF0aW9uLmRlc3RpbmF0aW9uKVxuICAgIGlmIChhY2NvdW50Lm1lbW8pIHtcbiAgICAgIGNvbnN0IG1lbW9UeXBlID0gYWNjb3VudC5tZW1vX3R5cGVcbiAgICAgIGNvbnN0IG1lbW9WYWx1ZSA9IGFjY291bnQubWVtb1xuICAgICAgaWYgKHRkZXNjLm1lbW8gJiYgKHRkZXNjLm1lbW8udHlwZSAhPT0gbWVtb1R5cGUgfHwgdGRlc2MubWVtby52YWx1ZSAhPT0gbWVtb1ZhbHVlKSkge1xuICAgICAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ01lbW8gY29uZmxpY3QnLCAndGhyb3cnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVpbGRlci5hZGRNZW1vKG5ldyBTdGVsbGFyU2RrLk1lbW8obWVtb1R5cGUsIG1lbW9WYWx1ZSkpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1aWxkZXJcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIFhEUiBvZiBgdHJhbnNhY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHJldHVybiB7WERSfVxuICovXG5jb252ZXJ0LnRyYW5zYWN0aW9uVG9YZHIgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdHJhbnNhY3Rpb24pIHtcbiAgcmV0dXJuIHRyYW5zYWN0aW9uLnRvRW52ZWxvcGUoKS50b1hEUignYmFzZTY0Jylcbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKioqKioqKiogICAgWERSIC0+IFVSSSAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogUmV0dXJuIHRoZSBUcmFuc2FjdGlvbiBvYmplY3QgZXF1aXZhbGVudCB0byBgeGRyYC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtYRFJ9IHhkclxuICogQHJldHVybiB7VHJhbnNhY3Rpb259XG4gKi9cbmNvbnZlcnQueGRyVG9UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB4ZHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFN0ZWxsYXJTZGsuVHJhbnNhY3Rpb24oeGRyKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgIHN0YXR1cy5mYWlsKGNvc21pY0xpbmssICdJbnZhbGlkIFhEUicsICd0aHJvdycpXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHF1ZXJ5IGVxdWl2YWxlbnQgdG8gYHhkcmAuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7WERSfSB4ZHIgVHJhbnNhY3Rpb24gZW52ZWxvcGVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuY29udmVydC54ZHJUb1F1ZXJ5ID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHhkciwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBxdWVyeSA9ICc/eGRyPScgKyB4ZHJcbiAgaWYgKG9wdGlvbnMubmV0d29yaykgcXVlcnkgKz0gJyZuZXR3b3JrPScgKyBvcHRpb25zLm5ldHdvcmtcbiAgcmV0dXJuIHF1ZXJ5XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAgSlNPTiBlcXVpdmFsZW50IHRvIFN0ZWxsYXIgYFRyYW5zYWN0aW9uYFxuICogb2JqZWN0LlxuICpcbiAqIFNldCBvcHRpb25zLnN0cmlwU291cmNlIHRvIHRydWUgZm9yIGEgdHJhbnNhY3Rpb24gdGhhdCBpcyBhY2NvdW50LWFnbm9zdGljLFxuICogbGlrZSBhbiBleGNoYW5nZSBvcGVyYXRpb24gZm9yIGV4YW1wbGUuIElnbm9yZSBpdCBmb3IgYSB0cmFuc2FjdGlvbiB0aGF0XG4gKiBpcyByZXF1aXJlZCB0byBiZSBwZXJmb3JtZWQgZnJvbSB0aGUgc291cmNlIGFjY291bnQgZGVmaW5lZCBpbiAnWERSJ1xuICogKGV4YW1wbGU6IHN1YnNjcmlwdGlvbiBtb250aGx5IGZlZSkuXG4gKlxuICogWW91IG1heSBzZXQgb3B0aW9ucy5uZXR3b3JrIHRvIHRoZSBkZXNpcmVkIG5ldHdvcmsuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7VHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7SlNPTn0gdHJhbnNhY3Rpb24gZGVzY3JpcHRvciBKU09OXG4gKi9cbmNvbnZlcnQudHJhbnNhY3Rpb25Ub0pzb24gPSBmdW5jdGlvbiAoY29zbWljTGluaywgdHJhbnNhY3Rpb24sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb3B5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0cmFuc2FjdGlvbikpXG5cbiAgZGVsZXRlIGNvcHkudHhcblxuICBpZiAoIWNvc21pY0xpbmsudXNlcikgY29zbWljTGluay51c2VyID0gY29weS5zb3VyY2VcblxuICBpZiAob3B0aW9ucy5zdHJpcFNvdXJjZSkge1xuICAgIGRlbGV0ZSBjb3B5LnNvdXJjZVxuICAgIGRlbGV0ZSBjb3B5LnNpZ25hdHVyZXNcbiAgICBkZWxldGUgY29weS5zZXF1ZW5jZVxuICB9XG4gIGlmIChvcHRpb25zLnN0cmlwU2VxdWVuY2UpIHtcbiAgICBkZWxldGUgY29weS5zZXF1ZW5jZVxuICAgIGRlbGV0ZSBjb3B5LnNpZ25hdHVyZXNcbiAgfVxuICBpZiAob3B0aW9ucy5zdHJpcFNpZ25hdHVyZXMpIGRlbGV0ZSBjb3B5LnNpZ25hdHVyZXNcblxuICBpZiAoY29weS5zaWduYXR1cmVzKSB7XG4gICAgY29weS5zaWduYXR1cmVzID0gdHJhbnNhY3Rpb24uc2lnbmF0dXJlcy5tYXAoZW50cnkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGludDogZW50cnkuaGludCgpLnRvU3RyaW5nKCdiYXNlNjQnKSxcbiAgICAgICAgc2lnbmF0dXJlOiBlbnRyeS5zaWduYXR1cmUoKS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmIChjb3B5LnNpZ25hdHVyZXMubGVuZ3RoID09PSAwKSBkZWxldGUgY29weS5zaWduYXR1cmVzXG4gIH1cblxuICBpZiAoY29weS5mZWUgPT09IDEwMCAqIGNvcHkub3BlcmF0aW9ucy5sZW5ndGgpIGRlbGV0ZSBjb3B5LmZlZVxuICBpZiAoY29weS5fbWVtby5fc3dpdGNoLm5hbWUgIT09ICdtZW1vTm9uZScpIHtcbiAgICBjb3B5Lm1lbW8gPSB7fVxuICAgIGNvcHkubWVtby50eXBlID0gY29weS5fbWVtby5fYXJtXG4gICAgaWYgKGNvcHkubWVtby50eXBlID09PSAnaGFzaCcgfHwgY29weS5tZW1vLnR5cGUgPT09ICdyZXRIYXNoJykge1xuICAgICAgY29weS5tZW1vLnZhbHVlID0gdHJhbnNhY3Rpb24uX21lbW8uX3ZhbHVlLnRvU3RyaW5nKCdoZXgnKVxuICAgICAgaWYgKGNvcHkubWVtby50eXBlID09PSAncmV0SGFzaCcpIGNvcHkubWVtby50eXBlID0gJ3JldHVybidcbiAgICB9IGVsc2Uge1xuICAgICAgY29weS5tZW1vLnZhbHVlID0gdHJhbnNhY3Rpb24uX21lbW8uX3ZhbHVlLnRvU3RyaW5nKClcbiAgICB9XG4gIH1cbiAgZGVsZXRlIGNvcHkuX21lbW9cblxuICBpZiAoY29weS50aW1lQm91bmRzKSB7XG4gICAgaWYgKGNvcHkudGltZUJvdW5kcy5taW5UaW1lICYmIGNvcHkudGltZUJvdW5kcy5taW5UaW1lICE9PSAnMCcpIHtcbiAgICAgIGNvcHkubWluVGltZSA9IGNvcHkudGltZUJvdW5kcy5taW5UaW1lXG4gICAgfVxuICAgIGlmIChjb3B5LnRpbWVCb3VuZHMubWF4VGltZSAmJiBjb3B5LnRpbWVCb3VuZHMubWF4VGltZSAhPT0gJzAnKSB7XG4gICAgICBjb3B5Lm1heFRpbWUgPSBjb3B5LnRpbWVCb3VuZHMubWF4VGltZVxuICAgIH1cbiAgICBkZWxldGUgY29weS50aW1lQm91bmRzXG4gIH1cblxuICBmb3IgKGxldCBpbmRleCBpbiBjb3B5Lm9wZXJhdGlvbnMpIHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBjb3B5Lm9wZXJhdGlvbnNbaW5kZXhdXG4gICAgaWYgKG9wZXJhdGlvbi5saW1pdCA9PT0gJzkyMjMzNzIwMzY4NS40Nzc1ODA3JykgZGVsZXRlIG9wZXJhdGlvbi5saW1pdFxuICAgIGlmIChvcGVyYXRpb24udmFsdWUpIHtcbiAgICAgIG9wZXJhdGlvbi52YWx1ZSA9IHRyYW5zYWN0aW9uLm9wZXJhdGlvbnNbMF0udmFsdWUudG9TdHJpbmcoKVxuICAgIH1cbiAgICBpZiAob3BlcmF0aW9uLm9mZmVySWQgPT09ICcwJykgZGVsZXRlIG9wZXJhdGlvbi5vZmZlcklkXG4gICAgaWYgKG9wZXJhdGlvbi5wYXRoICYmIG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9wZXJhdGlvbi5wYXRoXG4gICAgaWYgKG9wZXJhdGlvbi5saW5lKSB7XG4gICAgICBvcGVyYXRpb24uYXNzZXQgPSBvcGVyYXRpb24ubGluZVxuICAgICAgZGVsZXRlIG9wZXJhdGlvbi5saW5lXG4gICAgfVxuICAgIGlmIChvcGVyYXRpb24uc2lnbmVyKSB7XG4gICAgICBpZiAob3BlcmF0aW9uLnNpZ25lci5lZDI1NTE5UHVibGljS2V5KSB7XG4gICAgICAgIG9wZXJhdGlvbi5zaWduZXIudHlwZSA9ICdrZXknXG4gICAgICAgIG9wZXJhdGlvbi5zaWduZXIudmFsdWUgPSBvcGVyYXRpb24uc2lnbmVyLmVkMjU1MTlQdWJsaWNLZXlcbiAgICAgICAgZGVsZXRlIG9wZXJhdGlvbi5zaWduZXIuZWQyNTUxOVB1YmxpY0tleVxuICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24uc2lnbmVyLnNoYTI1Nkhhc2gpIHtcbiAgICAgICAgb3BlcmF0aW9uLnNpZ25lci50eXBlID0gJ2hhc2gnXG4gICAgICAgIG9wZXJhdGlvbi5zaWduZXIudmFsdWUgPSB0cmFuc2FjdGlvbi5vcGVyYXRpb25zWzBdLnNpZ25lci5zaGEyNTZIYXNoLnRvU3RyaW5nKCdoZXgnKVxuICAgICAgICBkZWxldGUgb3BlcmF0aW9uLnNpZ25lci5zaGEyNTZIYXNoXG4gICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbi5zaWduZXIucHJlQXV0aFR4KSB7XG4gICAgICAgIG9wZXJhdGlvbi5zaWduZXIudHlwZSA9ICd0eCdcbiAgICAgICAgb3BlcmF0aW9uLnNpZ25lci52YWx1ZSA9IHRyYW5zYWN0aW9uLm9wZXJhdGlvbnNbMF0uc2lnbmVyLnByZUF1dGhUeC50b1N0cmluZygnaGV4JylcbiAgICAgICAgZGVsZXRlIG9wZXJhdGlvbi5zaWduZXIucHJlQXV0aFR4XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdGlvbnMubmV0d29yayAhPT0gdW5kZWZpbmVkKSBjb3B5Lm5ldHdvcmsgPSBvcHRpb25zLm5ldHdvcmtcblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY29weSwgbnVsbCwgMilcbn1cblxuLyoqXG4gKiBQYXJzZSBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAgZnJvbSBgSlNPTmAuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7SlNPTn0gSlNPTiB0cmFuc2FjdGlvbiBkZXNjcmlwdGlvclxuICogQHJldHVybiB7T2JqZWN0fSB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4gKi9cbmNvbnZlcnQuanNvblRvVGRlc2MgPSBmdW5jdGlvbiAoY29zbWljTGluaywganNvbikge1xuICByZXR1cm4gSlNPTi5wYXJzZShqc29uKVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgY29zbWljIGxpbmsgcXVlcnkgZXF1aXZhbGVudCB0byBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZGVzYyBUcmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHF1ZXJ5XG4gKi9cbmNvbnZlcnQuanNvblRvUXVlcnkgPSBmdW5jdGlvbiAoY29zbWljTGluaywganNvbikge1xuICBjb25zdCB0ZGVzYyA9IGNvbnZlcnQuanNvblRvVGRlc2MoY29zbWljTGluaywganNvbilcblxuICBsZXQgcXVlcnkgPSAnPydcbiAgaWYgKHRkZXNjLm9wZXJhdGlvbnMubGVuZ3RoID09PSAxKSBxdWVyeSArPSB0ZGVzYy5vcGVyYXRpb25zWzBdLnR5cGVcbiAgZWxzZSBxdWVyeSArPSAndHJhbnNhY3Rpb24nXG5cbiAgc3BlY3MudHJhbnNhY3Rpb25PcHRpb25hbEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICBpZiAodGRlc2NbZmllbGRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHF1ZXJ5ICs9IGVuY29kZS5maWVsZChjb3NtaWNMaW5rLCBmaWVsZCwgdGRlc2NbZmllbGRdKVxuICAgIH1cbiAgfSlcblxuICBmb3IgKGxldCBpbmRleCBpbiB0ZGVzYy5vcGVyYXRpb25zKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gdGRlc2Mub3BlcmF0aW9uc1tpbmRleF1cbiAgICBjb25zdCBmaWVsZHMgPSBzcGVjcy5vcGVyYXRpb25NYW5kYXRvcnlGaWVsZHNbb3BlcmF0aW9uLnR5cGVdXG4gICAgICAuY29uY2F0KHNwZWNzLm9wZXJhdGlvbk9wdGlvbmFsRmllbGRzW29wZXJhdGlvbi50eXBlXSlcblxuICAgIGlmICh0ZGVzYy5vcGVyYXRpb25zLmxlbmd0aCA+IDEpIHF1ZXJ5ICs9ICcmb3BlcmF0aW9uPScgKyBvcGVyYXRpb24udHlwZVxuICAgIGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIHF1ZXJ5ICs9IGVuY29kZS5maWVsZChjb3NtaWNMaW5rLCBmaWVsZCwgb3BlcmF0aW9uW2ZpZWxkXSlcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY29tcGxldGUgY29zbWljIGxpbmsgVVJJIG1hZGUgb2YgYHF1ZXJ5YCBhbmQgYGNvc21pY0xpbmsucGFnZWAuXG4gKiBVc2UgYGh0dHBzOi8vY29zbWljLmxpbmsvYCBpZiBgY29zbWljTGluay5wYWdlYCBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gY29zbWljIGxpbmsgVVJJXG4gKi9cbmNvbnZlcnQucXVlcnlUb1VyaSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBxdWVyeSkge1xuICByZXR1cm4gY29zbWljTGluay5wYWdlICsgcXVlcnlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7OztBQXlQQTs7Ozs7Ozs7O0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFIQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFKQTtBQUFBO0FBQ0E7QUFEQTtBQUtBO0FBQ0E7QUFBQTtBQU5BO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7QUFZQTs7Ozs7Ozs7Ozs7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUE7QUFDQTtBQURBO0FBVUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQXBCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFxQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQkE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7OztBQW9DQTs7Ozs7Ozs7O0FBbFRBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTs7Ozs7OztBQVJBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRFQTtBQXdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1R0E7QUFDQTtBQXNFQTtBQUFBO0FBc0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBRUE7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBS0E7QUFMQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQVBBO0FBQUE7QUFDQTtBQURBO0FBUUE7QUFDQTtBQUFBO0FBVEE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFZQTtBQUNBO0FBZEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWFBO0FBZEE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBMkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQVlBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/convert.js\n");

/***/ }),

/***/ "./src/cosmic-lib/cosmic-lib.css":
/*!***************************************!*\
  !*** ./src/cosmic-lib/cosmic-lib.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../node_modules/postcss-loader/lib!./cosmic-lib.css */ \"./node_modules/postcss-loader/lib/index.js!./src/cosmic-lib/cosmic-lib.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9jb3NtaWMtbGliLmNzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvLi9zcmMvY29zbWljLWxpYi9jb3NtaWMtbGliLmNzcz9jN2UyIl0sInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzIS4vY29zbWljLWxpYi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9jb3NtaWMtbGliLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9jb3NtaWMtbGliLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/cosmic-lib.css\n");

/***/ }),

/***/ "./src/cosmic-lib/decode.js":
/*!**********************************!*\
  !*** ./src/cosmic-lib/decode.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Decode fields values from URI to cosmic link JSON format. This format differs\n * from Stellar transaction format: it is simpler, allow for federated address\n * and can be stringified/parsed without loss of information.\n *\n * For each of those functions, any error is recorded in the `cosmicLink` object\n * and HTML nodes are updated accordingly.\n *\n * @exports decode\n */\n\nvar decode = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\nvar check = __webpack_require__(/*! ./check */ \"./src/cosmic-lib/check.js\");\nvar specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\n\n/**\n * Decode `value` accordingly to `field` type.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} field\n * @param {string} value\n */\ndecode.field = function (cosmicLink, field, value) {\n  var type = specs.fieldType[field];\n  value = decodeURIComponent(value);\n  if (type) return decode.type(cosmicLink, type, value);\n  /// This error will be handled latter in convert.queryToTdesc()\n  else throw '';\n};\n\n/**\n * Decode `value` using the decoding function for `type`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} type\n * @param {string} value\n */\ndecode.type = function (cosmicLink, type, value) {\n  check.type(cosmicLink, type);\n  var decoder = decode[type];\n  if (decoder) value = decoder(cosmicLink, value);\n  check.type(cosmicLink, type, value);\n  return value;\n};\n\n/******************************************************************************/\n\ndecode.asset = function (cosmicLink, asset) {\n  var assetLower = asset.toLowerCase();\n  if (assetLower === 'xlm' || assetLower === 'native') {\n    return { code: 'XLM' };\n  } else {\n    var temp = asset.split(':');\n    var object = { code: temp[0], issuer: temp[1] };\n    return object;\n  }\n};\n\ndecode.assetsArray = function (cosmicLink, assetsList) {\n  var strArray = assetsList.split(',');\n  return strArray.map(function (entry) {\n    return decode.asset(cosmicLink, entry);\n  });\n};\n\ndecode.boolean = function (cosmicLink, string) {\n  switch (string) {\n    case 'true':\n      return true;\n    case 'false':\n      return false;\n  }\n};\n\ndecode.date = function (cosmicLink, string) {\n  var timeStamp = Date.parse(string);\n  if (isNaN(timeStamp)) {\n    status.error(cosmicLink, 'Invalid date (expecting ISO format): ' + string, 'throw');\n  }\n  return timeStamp / 1000;\n};\n\ndecode.memo = function (cosmicLink, memo) {\n  var type = memo.replace(/:.*/, '');\n  var value = memo.replace(/^[^:]*:/, '');\n  if (type === value) {\n    return { type: 'text', value: value };\n  } else {\n    return { type: type, value: value };\n  }\n};\n\ndecode.price = function (cosmicLink, price) {\n  var numerator = price.replace(/:.*/, '');\n  var denominator = price.replace(/^[^:]*:/, '');\n  if (numerator === denominator) return price;else return { n: +numerator, d: +denominator };\n};\n\ndecode.signer = function (cosmicLink, signer) {\n  var temp = signer.split(':');\n  if (temp.length > 3) {\n    status.error(cosmicLink, 'Invalid signer: ' + helpers.shorter(signer), 'throw');\n  }\n  var object = { weight: temp[0], type: temp[1], value: temp[2] };\n  return object;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9kZWNvZGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9jb3NtaWMtbGliL2RlY29kZS5qcz9hZGNhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuLyoqXG4gKiBEZWNvZGUgZmllbGRzIHZhbHVlcyBmcm9tIFVSSSB0byBjb3NtaWMgbGluayBKU09OIGZvcm1hdC4gVGhpcyBmb3JtYXQgZGlmZmVyc1xuICogZnJvbSBTdGVsbGFyIHRyYW5zYWN0aW9uIGZvcm1hdDogaXQgaXMgc2ltcGxlciwgYWxsb3cgZm9yIGZlZGVyYXRlZCBhZGRyZXNzXG4gKiBhbmQgY2FuIGJlIHN0cmluZ2lmaWVkL3BhcnNlZCB3aXRob3V0IGxvc3Mgb2YgaW5mb3JtYXRpb24uXG4gKlxuICogRm9yIGVhY2ggb2YgdGhvc2UgZnVuY3Rpb25zLCBhbnkgZXJyb3IgaXMgcmVjb3JkZWQgaW4gdGhlIGBjb3NtaWNMaW5rYCBvYmplY3RcbiAqIGFuZCBIVE1MIG5vZGVzIGFyZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICpcbiAqIEBleHBvcnRzIGRlY29kZVxuICovXG5jb25zdCBkZWNvZGUgPSBleHBvcnRzXG5cbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKVxuY29uc3Qgc3RhdHVzID0gcmVxdWlyZSgnLi9zdGF0dXMnKVxuY29uc3QgY2hlY2sgPSByZXF1aXJlKCcuL2NoZWNrJylcbmNvbnN0IHNwZWNzID0gcmVxdWlyZSgnLi9zcGVjcycpXG5cblxuLyoqXG4gKiBEZWNvZGUgYHZhbHVlYCBhY2NvcmRpbmdseSB0byBgZmllbGRgIHR5cGUuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5kZWNvZGUuZmllbGQgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZmllbGQsIHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSBzcGVjcy5maWVsZFR5cGVbZmllbGRdXG4gIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxuICBpZiAodHlwZSkgcmV0dXJuIGRlY29kZS50eXBlKGNvc21pY0xpbmssIHR5cGUsIHZhbHVlKVxuICAvLy8gVGhpcyBlcnJvciB3aWxsIGJlIGhhbmRsZWQgbGF0dGVyIGluIGNvbnZlcnQucXVlcnlUb1RkZXNjKClcbiAgZWxzZSB0aHJvdyAnJ1xufVxuXG4vKipcbiAqIERlY29kZSBgdmFsdWVgIHVzaW5nIHRoZSBkZWNvZGluZyBmdW5jdGlvbiBmb3IgYHR5cGVgLlxuICpcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5kZWNvZGUudHlwZSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB0eXBlLCB2YWx1ZSkge1xuICBjaGVjay50eXBlKGNvc21pY0xpbmssIHR5cGUpXG4gIGNvbnN0IGRlY29kZXIgPSBkZWNvZGVbdHlwZV1cbiAgaWYgKGRlY29kZXIpIHZhbHVlID0gZGVjb2Rlcihjb3NtaWNMaW5rLCB2YWx1ZSlcbiAgY2hlY2sudHlwZShjb3NtaWNMaW5rLCB0eXBlLCB2YWx1ZSlcbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmRlY29kZS5hc3NldCA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhc3NldCkge1xuICBjb25zdCBhc3NldExvd2VyID0gYXNzZXQudG9Mb3dlckNhc2UoKVxuICBpZiAoYXNzZXRMb3dlciA9PT0gJ3hsbScgfHwgYXNzZXRMb3dlciA9PT0gJ25hdGl2ZScpIHtcbiAgICByZXR1cm4geyBjb2RlOiAnWExNJyB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGVtcCA9IGFzc2V0LnNwbGl0KCc6JylcbiAgICBjb25zdCBvYmplY3QgPSB7IGNvZGU6IHRlbXBbMF0sIGlzc3VlcjogdGVtcFsxXSB9XG4gICAgcmV0dXJuIG9iamVjdFxuICB9XG59XG5cbmRlY29kZS5hc3NldHNBcnJheSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhc3NldHNMaXN0KSB7XG4gIGNvbnN0IHN0ckFycmF5ID0gYXNzZXRzTGlzdC5zcGxpdCgnLCcpXG4gIHJldHVybiBzdHJBcnJheS5tYXAoZW50cnkgPT4gZGVjb2RlLmFzc2V0KGNvc21pY0xpbmssIGVudHJ5KSlcbn1cblxuZGVjb2RlLmJvb2xlYW4gPSBmdW5jdGlvbiAoY29zbWljTGluaywgc3RyaW5nKSB7XG4gIHN3aXRjaCAoc3RyaW5nKSB7XG4gICAgY2FzZSAndHJ1ZSc6IHJldHVybiB0cnVlXG4gICAgY2FzZSAnZmFsc2UnOiByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5kZWNvZGUuZGF0ZSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzdHJpbmcpIHtcbiAgY29uc3QgdGltZVN0YW1wID0gRGF0ZS5wYXJzZShzdHJpbmcpXG4gIGlmIChpc05hTih0aW1lU3RhbXApKSB7XG4gICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdJbnZhbGlkIGRhdGUgKGV4cGVjdGluZyBJU08gZm9ybWF0KTogJyArIHN0cmluZywgJ3Rocm93JylcbiAgfVxuICByZXR1cm4gdGltZVN0YW1wIC8gMTAwMFxufVxuXG5kZWNvZGUubWVtbyA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBtZW1vKSB7XG4gIGNvbnN0IHR5cGUgPSBtZW1vLnJlcGxhY2UoLzouKi8sICcnKVxuICBjb25zdCB2YWx1ZSA9IG1lbW8ucmVwbGFjZSgvXlteOl0qOi8sICcnKVxuICBpZiAodHlwZSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiAndGV4dCcsIHZhbHVlOiB2YWx1ZSB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgdmFsdWU6IHZhbHVlIH1cbiAgfVxufVxuXG5kZWNvZGUucHJpY2UgPSBmdW5jdGlvbiAoY29zbWljTGluaywgcHJpY2UpIHtcbiAgY29uc3QgbnVtZXJhdG9yID0gcHJpY2UucmVwbGFjZSgvOi4qLywgJycpXG4gIGNvbnN0IGRlbm9taW5hdG9yID0gcHJpY2UucmVwbGFjZSgvXlteOl0qOi8sICcnKVxuICBpZiAobnVtZXJhdG9yID09PSBkZW5vbWluYXRvcikgcmV0dXJuIHByaWNlXG4gIGVsc2UgcmV0dXJuIHsgbjogK251bWVyYXRvciwgZDogK2Rlbm9taW5hdG9yIH1cbn1cblxuZGVjb2RlLnNpZ25lciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzaWduZXIpIHtcbiAgY29uc3QgdGVtcCA9IHNpZ25lci5zcGxpdCgnOicpXG4gIGlmICh0ZW1wLmxlbmd0aCA+IDMpIHtcbiAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluayxcbiAgICAgICdJbnZhbGlkIHNpZ25lcjogJyArIGhlbHBlcnMuc2hvcnRlcihzaWduZXIpLFxuICAgICAgJ3Rocm93J1xuICAgIClcbiAgfVxuICBjb25zdCBvYmplY3QgPSB7IHdlaWdodDogdGVtcFswXSwgdHlwZTogdGVtcFsxXSwgdmFsdWU6IHRlbXBbMl0gfVxuICByZXR1cm4gb2JqZWN0XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/decode.js\n");

/***/ }),

/***/ "./src/cosmic-lib/encode.js":
/*!**********************************!*\
  !*** ./src/cosmic-lib/encode.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the methods to encode values formatted in `transaction descriptor`\n * format into URI format.\n *\n * @exports encode\n */\n\nvar encode = exports;\n\nvar check = __webpack_require__(/*! ./check */ \"./src/cosmic-lib/check.js\");\nvar specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\n\n/**\n * Encode `value` into cosmic link query format and return\n * `&${field}=${encodedValue}`\n *\n * @param {CL}\n * @param {string} field\n * @param {*} value `value` should use cosmic link JSON format\n * @return {string}\n */\nencode.field = function (cosmicLink, field, value) {\n  var type = specs.fieldType[field];\n  if (!type) status.error(cosmicLink, 'Unknow field: ' + field, 'throw');\n  var encodedValue = encode.type(cosmicLink, type, value);\n  if (encodedValue) return '&' + field + '=' + encodedValue;else return '';\n};\n\n/**\n * Encode `value` into cosmic link query format according to `type`.\n *\n * @param {CL}\n * @param {string} field\n * @param {*} value `value` should use cosmic link JSON format\n * @return {string}\n */\nencode.type = function (cosmicLink, type, value) {\n  check.type(cosmicLink, type);\n  if (value === undefined) return '';\n  var encoder = encode[type];\n  value = encodeURIComponent(value);\n  if (encoder) value = encoder(cosmicLink, value);\n  return value ? value : '';\n};\n\n/******************************************************************************/\n\nencode.asset = function (cosmicLink, asset) {\n  if (asset.issuer) return asset.code + ':' + asset.issuer;\n};\n\nencode.assetsArray = function (cosmicLink, assetsArray) {\n  return assetsArray.map(function (asset) {\n    return encode.asset(cosmicLink, asset);\n  }).toString();\n};\n\nencode.boolean = function (cosmicLink, boolean) {\n  if (!boolean) return 'false';\n};\n\nencode.date = function (cosmicLink, timestamp) {\n  var date = new Date(timestamp * 1000);\n  var isoString = date.toISOString().replace(/\\.00.000/, '').replace(/\\.000/, '').replace(/T00:00:00Z/, '');\n  return isoString;\n};\n\nencode.memo = function (cosmicLink, memo) {\n  if (memo.type === 'text') return memo.value;else return memo.type + ':' + memo.value;\n};\n\nencode.signer = function (cosmicLink, signer) {\n  return signer.weight + ':' + signer.type + ':' + signer.value;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9lbmNvZGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9jb3NtaWMtbGliL2VuY29kZS5qcz84MmI4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuLyoqXG4gKiBDb250YWlucyB0aGUgbWV0aG9kcyB0byBlbmNvZGUgdmFsdWVzIGZvcm1hdHRlZCBpbiBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmBcbiAqIGZvcm1hdCBpbnRvIFVSSSBmb3JtYXQuXG4gKlxuICogQGV4cG9ydHMgZW5jb2RlXG4gKi9cbmNvbnN0IGVuY29kZSA9IGV4cG9ydHNcblxuY29uc3QgY2hlY2sgPSByZXF1aXJlKCcuL2NoZWNrJylcbmNvbnN0IHNwZWNzID0gcmVxdWlyZSgnLi9zcGVjcycpXG5cblxuLyoqXG4gKiBFbmNvZGUgYHZhbHVlYCBpbnRvIGNvc21pYyBsaW5rIHF1ZXJ5IGZvcm1hdCBhbmQgcmV0dXJuXG4gKiBgJiR7ZmllbGR9PSR7ZW5jb2RlZFZhbHVlfWBcbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkXG4gKiBAcGFyYW0geyp9IHZhbHVlIGB2YWx1ZWAgc2hvdWxkIHVzZSBjb3NtaWMgbGluayBKU09OIGZvcm1hdFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5lbmNvZGUuZmllbGQgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZmllbGQsIHZhbHVlKSB7XG4gIGNvbnN0IHR5cGUgPSBzcGVjcy5maWVsZFR5cGVbZmllbGRdXG4gIGlmICghdHlwZSkgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdVbmtub3cgZmllbGQ6ICcgKyBmaWVsZCwgJ3Rocm93JylcbiAgY29uc3QgZW5jb2RlZFZhbHVlID0gZW5jb2RlLnR5cGUoY29zbWljTGluaywgdHlwZSwgdmFsdWUpXG4gIGlmIChlbmNvZGVkVmFsdWUpIHJldHVybiBgJiR7ZmllbGR9PSR7ZW5jb2RlZFZhbHVlfWBcbiAgZWxzZSByZXR1cm4gJydcbn1cblxuLyoqXG4gKiBFbmNvZGUgYHZhbHVlYCBpbnRvIGNvc21pYyBsaW5rIHF1ZXJ5IGZvcm1hdCBhY2NvcmRpbmcgdG8gYHR5cGVgLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgYHZhbHVlYCBzaG91bGQgdXNlIGNvc21pYyBsaW5rIEpTT04gZm9ybWF0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmVuY29kZS50eXBlID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHR5cGUsIHZhbHVlKSB7XG4gIGNoZWNrLnR5cGUoY29zbWljTGluaywgdHlwZSlcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiAnJ1xuICBjb25zdCBlbmNvZGVyID0gZW5jb2RlW3R5cGVdXG4gIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxuICBpZiAoZW5jb2RlcikgdmFsdWUgPSBlbmNvZGVyIChjb3NtaWNMaW5rLCB2YWx1ZSlcbiAgcmV0dXJuIHZhbHVlID8gdmFsdWUgOiAnJ1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5lbmNvZGUuYXNzZXQgPSBmdW5jdGlvbiAoY29zbWljTGluaywgYXNzZXQpIHtcbiAgaWYgKGFzc2V0Lmlzc3VlcikgcmV0dXJuIGFzc2V0LmNvZGUgKyAnOicgKyBhc3NldC5pc3N1ZXJcbn1cblxuZW5jb2RlLmFzc2V0c0FycmF5ID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIGFzc2V0c0FycmF5KSB7XG4gIHJldHVybiBhc3NldHNBcnJheS5tYXAoYXNzZXQgPT4gZW5jb2RlLmFzc2V0KGNvc21pY0xpbmssIGFzc2V0KSkudG9TdHJpbmcoKVxufVxuXG5lbmNvZGUuYm9vbGVhbiA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBib29sZWFuKSB7XG4gIGlmICghYm9vbGVhbikgcmV0dXJuICdmYWxzZSdcbn1cblxuZW5jb2RlLmRhdGUgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdGltZXN0YW1wKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKiAxMDAwKVxuICBjb25zdCBpc29TdHJpbmcgPSBkYXRlLnRvSVNPU3RyaW5nKClcbiAgICAucmVwbGFjZSgvXFwuMDAuMDAwLywgJycpXG4gICAgLnJlcGxhY2UoL1xcLjAwMC8sICcnKVxuICAgIC5yZXBsYWNlKC9UMDA6MDA6MDBaLywgJycpXG4gIHJldHVybiBpc29TdHJpbmdcbn1cblxuZW5jb2RlLm1lbW8gPSBmdW5jdGlvbiAoY29zbWljTGluaywgbWVtbykge1xuICBpZiAobWVtby50eXBlID09PSAndGV4dCcpIHJldHVybiBtZW1vLnZhbHVlXG4gIGVsc2UgcmV0dXJuIG1lbW8udHlwZSArICc6JyArIG1lbW8udmFsdWVcbn1cblxuZW5jb2RlLnNpZ25lciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzaWduZXIpIHtcbiAgcmV0dXJuIHNpZ25lci53ZWlnaHQgKyAnOicgKyBzaWduZXIudHlwZSArICc6JyArIHNpZ25lci52YWx1ZVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cosmic-lib/encode.js\n");

/***/ }),

/***/ "./src/cosmic-lib/event.js":
/*!*********************************!*\
  !*** ./src/cosmic-lib/event.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the methods to trigger and handle events.\n *\n * @exports event\n */\n\nvar event = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar node = __webpack_require__(/*! ./node */ \"./src/cosmic-lib/node.js\");\n\n/**\n * Call handler (in any) defined for `type` in `cosmicLink`. Call it with\n * arguments `cosmicLink`, `value`, `element`; Where `element` is the clicked\n * HTML element and `value` the field value it represents.\n *\n * @param {CL}\n * @param {string} Type The type of `object` as defined in specs.js\n * @param {*}  value Field value in `transaction descriptor` format\n * @param {HTMLElement} element HTML element displaying `value`\n * @return *\n */\nevent.handle = function (cosmicLink, type, value, element) {\n  if (!cosmicLink || !cosmicLink.onClick) return;\n  var handler = cosmicLink.onClick[type];\n  if (handler) return handler(cosmicLink, value, element);\n};\n\nevent.trigger = function (cosmicLink, type, value, element) {\n  return function () {\n    return event.handle(cosmicLink, type, value, element);\n  };\n};\n\n/**\n * Default handlers for address and asset onclick events.\n *\n * @namespace\n */\nevent.defaultHandler = {};\n\nevent.defaultHandler.address = function address(cosmicLink, account) {\n  var message = '';\n  for (var field in account) {\n    message += field + ':\\n' + account[field] + '\\n\\n';\n  }\n  window.alert(message);\n};\n\nevent.defaultHandler.asset = function (cosmicLink, asset, element) {\n  var issuerNode = node.grab('.CL_assetIssuer', element);\n  if (issuerNode.style.display === 'inline') issuerNode.style.display = 'none';else issuerNode.style.display = 'inline';\n};\n\n// TODO: implement a complete event handling interface.\n// Possible structure for an event object.\n// ~ {\n// ~ type: 'onClick'\n// ~ node: HTMLElement,\n// ~ operation: 0|undefined,\n// ~ field: 'address',\n// ~ value: 'GAWO...',\n// ~ }\n//\n// event.trigger(cosmicLink, eventType, [operation], [field], [value], [node], [add])\n// event.listen(cosmicLink, eventType, handler))\n\nvar allFormats = ['uri', 'query', 'tdesc', 'json', 'transaction', 'xdr'];\n\nevent.addFormatHandler = function (cosmicLink, format, callback) {\n  var handlers = cosmicLink.formatHandlers;\n  if (!handlers[format]) handlers[format] = [];\n  handlers[format].push(callback);\n\n  handleFormat(cosmicLink, format, [callback]);\n};\n\nevent.removeFormatHandler = function (cosmicLink, format, callback) {\n  var handlers = cosmicLink.formatHandlers;\n  if (!handlers[format]) return;\n\n  handlers[format] = handlers[format].filter(function (entry) {\n    return entry !== callback;\n  });\n};\n\nevent.callFormatHandlers = function (cosmicLink) {\n  for (var _len = arguments.length, formats = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    formats[_key - 1] = arguments[_key];\n  }\n\n  if (!formats.length) formats = allFormats;\n  var handlers = cosmicLink.formatHandlers;\n\n  formats.forEach(function (entry) {\n    if (handlers[entry]) handleFormat(cosmicLink, entry, handlers[entry]);\n  });\n};\n\nfunction handleFormat(cosmicLink, format, handlers) {\n  var getter = cosmicLink['get' + helpers.capitalize(format)];\n  if (!getter) return;\n\n  getter().then(function (value) {\n    var event = { cosmicLink: cosmicLink, value: value };\n    handlers.forEach(function (callback) {\n      return callback(event);\n    });\n  }).catch(function (error) {\n    var event = { cosmicLink: cosmicLink, error: error };\n    handlers.forEach(function (callback) {\n      return callback(event);\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9ldmVudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvZXZlbnQuanM/OGU4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbi8qKlxuICogQ29udGFpbnMgdGhlIG1ldGhvZHMgdG8gdHJpZ2dlciBhbmQgaGFuZGxlIGV2ZW50cy5cbiAqXG4gKiBAZXhwb3J0cyBldmVudFxuICovXG5jb25zdCBldmVudCA9IGV4cG9ydHNcblxuY29uc3QgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpXG5jb25zdCBub2RlID0gcmVxdWlyZSgnLi9ub2RlJylcblxuLyoqXG4gKiBDYWxsIGhhbmRsZXIgKGluIGFueSkgZGVmaW5lZCBmb3IgYHR5cGVgIGluIGBjb3NtaWNMaW5rYC4gQ2FsbCBpdCB3aXRoXG4gKiBhcmd1bWVudHMgYGNvc21pY0xpbmtgLCBgdmFsdWVgLCBgZWxlbWVudGA7IFdoZXJlIGBlbGVtZW50YCBpcyB0aGUgY2xpY2tlZFxuICogSFRNTCBlbGVtZW50IGFuZCBgdmFsdWVgIHRoZSBmaWVsZCB2YWx1ZSBpdCByZXByZXNlbnRzLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gVHlwZSBUaGUgdHlwZSBvZiBgb2JqZWN0YCBhcyBkZWZpbmVkIGluIHNwZWNzLmpzXG4gKiBAcGFyYW0geyp9ICB2YWx1ZSBGaWVsZCB2YWx1ZSBpbiBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAgZm9ybWF0XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEhUTUwgZWxlbWVudCBkaXNwbGF5aW5nIGB2YWx1ZWBcbiAqIEByZXR1cm4gKlxuICovXG5ldmVudC5oYW5kbGUgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdHlwZSwgdmFsdWUsIGVsZW1lbnQpIHtcbiAgaWYgKCFjb3NtaWNMaW5rIHx8ICFjb3NtaWNMaW5rLm9uQ2xpY2spIHJldHVyblxuICBjb25zdCBoYW5kbGVyID0gY29zbWljTGluay5vbkNsaWNrW3R5cGVdXG4gIGlmIChoYW5kbGVyKSByZXR1cm4gaGFuZGxlcihjb3NtaWNMaW5rLCB2YWx1ZSwgZWxlbWVudClcbn1cblxuZXZlbnQudHJpZ2dlciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB0eXBlLCB2YWx1ZSwgZWxlbWVudCkge1xuICByZXR1cm4gKCkgPT4gZXZlbnQuaGFuZGxlKGNvc21pY0xpbmssIHR5cGUsIHZhbHVlLCBlbGVtZW50KVxufVxuXG4vKipcbiAqIERlZmF1bHQgaGFuZGxlcnMgZm9yIGFkZHJlc3MgYW5kIGFzc2V0IG9uY2xpY2sgZXZlbnRzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqL1xuZXZlbnQuZGVmYXVsdEhhbmRsZXIgPSB7fVxuXG5ldmVudC5kZWZhdWx0SGFuZGxlci5hZGRyZXNzID0gZnVuY3Rpb24gYWRkcmVzcyAoY29zbWljTGluaywgYWNjb3VudCkge1xuICBsZXQgbWVzc2FnZSA9ICcnXG4gIGZvciAobGV0IGZpZWxkIGluIGFjY291bnQpIHtcbiAgICBtZXNzYWdlICs9IGZpZWxkICsgJzpcXG4nICsgYWNjb3VudFtmaWVsZF0gKyAnXFxuXFxuJ1xuICB9XG4gIHdpbmRvdy5hbGVydChtZXNzYWdlKVxufVxuXG5ldmVudC5kZWZhdWx0SGFuZGxlci5hc3NldCA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhc3NldCwgZWxlbWVudCkge1xuICBjb25zdCBpc3N1ZXJOb2RlID0gbm9kZS5ncmFiKCcuQ0xfYXNzZXRJc3N1ZXInLCBlbGVtZW50KVxuICBpZiAoaXNzdWVyTm9kZS5zdHlsZS5kaXNwbGF5ID09PSAnaW5saW5lJykgaXNzdWVyTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIGVsc2UgaXNzdWVyTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSdcbn1cblxuLy8gVE9ETzogaW1wbGVtZW50IGEgY29tcGxldGUgZXZlbnQgaGFuZGxpbmcgaW50ZXJmYWNlLlxuLy8gUG9zc2libGUgc3RydWN0dXJlIGZvciBhbiBldmVudCBvYmplY3QuXG4vLyB+IHtcbi8vIH4gdHlwZTogJ29uQ2xpY2snXG4vLyB+IG5vZGU6IEhUTUxFbGVtZW50LFxuLy8gfiBvcGVyYXRpb246IDB8dW5kZWZpbmVkLFxuLy8gfiBmaWVsZDogJ2FkZHJlc3MnLFxuLy8gfiB2YWx1ZTogJ0dBV08uLi4nLFxuLy8gfiB9XG4vL1xuLy8gZXZlbnQudHJpZ2dlcihjb3NtaWNMaW5rLCBldmVudFR5cGUsIFtvcGVyYXRpb25dLCBbZmllbGRdLCBbdmFsdWVdLCBbbm9kZV0sIFthZGRdKVxuLy8gZXZlbnQubGlzdGVuKGNvc21pY0xpbmssIGV2ZW50VHlwZSwgaGFuZGxlcikpXG5cbmNvbnN0IGFsbEZvcm1hdHMgPSBbJ3VyaScsICdxdWVyeScsICd0ZGVzYycsICdqc29uJywgJ3RyYW5zYWN0aW9uJywgJ3hkciddXG5cbmV2ZW50LmFkZEZvcm1hdEhhbmRsZXIgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZm9ybWF0LCBjYWxsYmFjaykge1xuICBjb25zdCBoYW5kbGVycyA9IGNvc21pY0xpbmsuZm9ybWF0SGFuZGxlcnNcbiAgaWYgKCFoYW5kbGVyc1tmb3JtYXRdKSBoYW5kbGVyc1tmb3JtYXRdID0gW11cbiAgaGFuZGxlcnNbZm9ybWF0XS5wdXNoKGNhbGxiYWNrKVxuXG4gIGhhbmRsZUZvcm1hdChjb3NtaWNMaW5rLCBmb3JtYXQsIFtjYWxsYmFja10pXG59XG5cbmV2ZW50LnJlbW92ZUZvcm1hdEhhbmRsZXIgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZm9ybWF0LCBjYWxsYmFjaykge1xuICBjb25zdCBoYW5kbGVycyA9IGNvc21pY0xpbmsuZm9ybWF0SGFuZGxlcnNcbiAgaWYgKCFoYW5kbGVyc1tmb3JtYXRdKSByZXR1cm5cblxuICBoYW5kbGVyc1tmb3JtYXRdID0gaGFuZGxlcnNbZm9ybWF0XS5maWx0ZXIoZW50cnkgPT4gZW50cnkgIT09IGNhbGxiYWNrKVxufVxuXG5ldmVudC5jYWxsRm9ybWF0SGFuZGxlcnMgPSBmdW5jdGlvbiAoY29zbWljTGluaywgLi4uZm9ybWF0cykge1xuICBpZiAoIWZvcm1hdHMubGVuZ3RoKSBmb3JtYXRzID0gYWxsRm9ybWF0c1xuICBjb25zdCBoYW5kbGVycyA9IGNvc21pY0xpbmsuZm9ybWF0SGFuZGxlcnNcblxuICBmb3JtYXRzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGlmIChoYW5kbGVyc1tlbnRyeV0pIGhhbmRsZUZvcm1hdChjb3NtaWNMaW5rLCBlbnRyeSwgaGFuZGxlcnNbZW50cnldKVxuICB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JtYXQgKGNvc21pY0xpbmssIGZvcm1hdCwgaGFuZGxlcnMpIHtcbiAgY29uc3QgZ2V0dGVyID0gY29zbWljTGlua1snZ2V0JyArIGhlbHBlcnMuY2FwaXRhbGl6ZShmb3JtYXQpXVxuICBpZiAoIWdldHRlcikgcmV0dXJuXG5cbiAgZ2V0dGVyKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgY29uc3QgZXZlbnQgPSB7IGNvc21pY0xpbms6IGNvc21pY0xpbmssIHZhbHVlOiB2YWx1ZSB9XG4gICAgaGFuZGxlcnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhldmVudCkpXG4gIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICBjb25zdCBldmVudCA9IHsgY29zbWljTGluazogY29zbWljTGluaywgZXJyb3I6IGVycm9yIH1cbiAgICBoYW5kbGVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGV2ZW50KSlcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/event.js\n");

/***/ }),

/***/ "./src/cosmic-lib/format.js":
/*!**********************************!*\
  !*** ./src/cosmic-lib/format.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains methods to format a `transaction descriptor` into CSS/HTML for\n * display in browser.\n *\n * @exports format\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar resolveAddressAndUpdate = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cosmicLink, address, addressNode) {\n    var account, parent, animation, grandpa;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return resolve.address(cosmicLink, address);\n\n          case 3:\n            account = _context3.sent;\n\n\n            addressNode.title = account.account_id;\n            if (account.memo) {\n              addressNode.title += '\\nMemo (' + account.memoexports + '): ' + account.memo;\n            }\n\n            if (account.address) addressNode.textContent = account.address;else if (account.alias) addressNode.textContent = account.alias;\n\n            addressNode.onclick = event.trigger(cosmicLink, 'address', account, addressNode);\n            _context3.next = 17;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3['catch'](0);\n\n            console.log(_context3.t0);\n            addressNode.title = \"Can't resolve address\";\n            node.appendClass(addressNode, 'CL_error');\n\n            parent = addressNode.parentNode;\n\n            if (parent.className === 'CL_assetIssuer') {\n              parent.style.display = 'inline';\n            }\n\n          case 17:\n            animation = node.grab('.CL_loadingAnim', addressNode);\n\n            if (animation) node.destroy(animation);\n            grandpa = addressNode.parentNode.parentNode;\n\n            if (grandpa && grandpa.className === 'CL_asset') {\n              node.destroy(node.grab('.CL_loadingAnim', grandpa));\n            }\n\n          case 21:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[0, 10]]);\n  }));\n\n  return function resolveAddressAndUpdate(_x3, _x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar format = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar node = __webpack_require__(/*! ./node */ \"./src/cosmic-lib/node.js\");\nvar check = __webpack_require__(/*! ./check */ \"./src/cosmic-lib/check.js\");\nvar specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\nvar resolve = __webpack_require__(/*! ./resolve */ \"./src/cosmic-lib/resolve.js\");\nvar event = __webpack_require__(/*! ./event */ \"./src/cosmic-lib/event.js\");\n\n/**\n * Populate `cosmicLink.transactionNode` with a description of `transaction\n * descriptor`.\n *\n * @param {CL}\n * @param {Object} tdesc Transaction descriptor\n */\nformat.tdesc = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(cosmicLink) {\n    var trNode, tdesc, infoNode, operations, index, operation, opNode;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            trNode = cosmicLink.transactionNode;\n            _context.next = 3;\n            return cosmicLink.getTdesc();\n\n          case 3:\n            tdesc = _context.sent;\n\n            node.clear(trNode);\n\n            infoNode = void 0;\n\n            specs.transactionOptionalFields.forEach(function (entry) {\n              if (tdesc[entry]) {\n                if (!infoNode) infoNode = node.create('ul', '.CL_sideInfo');\n                var lineNode = node.create('li', {}, specs.fieldDesc[entry] + ': ', format.field(cosmicLink, entry, tdesc[entry]));\n                node.append(infoNode, lineNode);\n              }\n            });\n            if (infoNode) node.append(trNode, infoNode);\n\n            /// Sort operations so that the ones with declared sources are at the end.\n            /// (makes data presentation better)\n            operations = tdesc.operations.sort(function (entry) {\n              return entry.source ? 1 : 0;\n            });\n\n\n            try {\n              for (index in operations) {\n                operation = tdesc.operations[index];\n                opNode = format.operation(cosmicLink, operation);\n\n                node.append(trNode, opNode);\n              }\n              format.signatures(cosmicLink);\n            } catch (error) {\n              console.log(error);\n              status.error(cosmicLink, 'Unhandled formatting error');\n            }\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Return an HTMLElement with `operation` in human language.\n *\n * @param {CL}\n * @param {Object} odesc Operation in cosmic link JSON format\n */\nformat.operation = function (cosmicLink, odesc) {\n  var opNode = node.create('div', '.CL_operation');\n\n  if (odesc.source) {\n    node.appendClass(opNode, 'CL_sourcedOperation');\n    var sourceNode = node.create('div', '.CL_source', 'Source: ');\n    var addressNode = format.field(cosmicLink, 'source', odesc.source);\n    node.append(sourceNode, addressNode);\n    node.append(opNode, sourceNode);\n  }\n\n  var meaning = operationMeaning(odesc);\n  while (meaning) {\n    if (meaning.substr(0, 1) === '{') {\n      var query = meaning.substr(1).replace(/}.*/, '');\n      meaning = meaning.replace(/^[^}]*}/, '');\n      if (query === 'newline') {\n        if (meaning === '') break;\n        node.append(opNode, node.create('br'));\n      } else {\n        var fieldNode = format.field(cosmicLink, query, odesc[query]);\n        node.append(opNode, fieldNode);\n      }\n    } else {\n      var txt = meaning.replace(/{.*/, '');\n      meaning = meaning.replace(/^[^{]*/, '');\n      node.append(opNode, txt);\n    }\n  }\n  return opNode;\n};\n\n/**\n * Return a string that describe the meaning of `operation descriptor`.\n *\n * @private\n * @param {Object} odesc Operation descriptor\n * @return {string} Meaning of `operation descriptor`\n */\nfunction operationMeaning(odesc) {\n  var msg = void 0;\n  switch (odesc.type) {\n    case 'accountMerge':\n      return 'Merge account inside {destination}';\n    case 'allowTrust':\n      if (odesc.authorize) {\n        return 'Allow usage of your asset {assetCode} to {trustor}';\n      } else {\n        return 'Deny usage of your asset {assetCode} to {trustor}';\n      }\n    case 'changeTrust':\n      if (odesc.limit === '0') {\n        return 'Refuse asset {asset}';\n      } else if (odesc.limit) {\n        return 'Set holding limit as {limit} for asset {asset}';\n      } else {\n        return 'Accept asset {asset}';\n      }\n    case 'createAccount':\n      return 'Create account {destination} and send it {startingBalance} XLM';\n    case 'createPassiveOffer':\n      return 'Passive offer of {amount}{selling} at {price}{buying} / unit';\n    case 'inflation':\n      return 'Run inflation';\n    case 'manageData':\n      if (odesc.value) {\n        return \"Set data entry '{name}' as '{value}'\";\n      } else {\n        return \"Delete data entry '{name}'\";\n      }\n    case 'manageOffer':\n      if (!odesc.offerId || odesc.offerId === '0') {\n        return 'Offer {amount}{selling} at {price}{buying} / unit';\n      } else if (odesc.amount !== '0') {\n        return \"Change offer '{offerId}' to: offer {amount}{selling} at \" + '{price}{buying}/unit';\n      } else {\n        return \"Delete offer '{offerId}'\";\n      }\n    case 'pathPayment':\n      msg = 'Send {destAmount}{destAsset} to {destination} for a maximum ' + 'of {sendMax}{sendAsset}';\n      if (odesc.path) msg += ' using conversion path: {path}';\n      return msg;\n    case 'payment':\n      return 'Send {amount}{asset} to {destination}';\n    case 'setOptions':\n      msg = '';\n      if (odesc.inflationDest) {\n        msg += 'Set inflation destination to: {inflationDest}{newline}';\n      }\n      if (odesc.clearFlags) msg += 'Clear flag(s): {clearFlags}{newline}';\n      if (odesc.setFlags) msg += 'Set flag(s): {setFlags}{newline}';\n      if (odesc.masterWeight) {\n        if (odesc.masterWeight === '0') {\n          msg += 'Delete master key{newline}';\n        } else {\n          msg += 'Set master key weight at: {masterWeight}{newline}';\n        }\n      }\n      ['lowThreshold', 'medThreshold', 'highThreshold'].forEach(function (field) {\n        if (odesc[field]) msg += 'Set ' + field + ' at: {' + field + '}{newline}';\n      });\n      if (odesc.signer) {\n        if (odesc.signer.weight === '0') msg += 'Remove signer: {signer}{newline}';else msg += 'Set signer: {signer}{newline}';\n      }\n      if (odesc.homeDomain) msg += 'Set home domain: {homeDomain}{newline}';\n      if (odesc.homeDomain === '') msg += 'Unset home domain';\n      if (!msg) msg = 'Do nothing';\n      return msg;\n    default:\n      throw new Error('Unknow operation: ' + odesc.type);\n  }\n}\n\n/**\n * Return an HTML element exposing `value`.\n *\n * @param {CL}\n * @param {string} field The field name of `value` as defined in `spec.js`\n * @return {HTLMElement} `value` formatted in HTML/CSS\n */\nformat.field = function (cosmicLink, field, value) {\n  var type = specs.fieldType[field];\n  if (!type) throw new Error('Unknow field: ' + field);\n\n  check.type(cosmicLink, type);\n  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.error) type = 'error';\n  var formatter = format[type] || format.string;\n  var fieldNode = formatter(cosmicLink, value);\n\n  fieldNode.className = 'CL_' + type;\n  fieldNode.onClick = event.trigger(cosmicLink, type, value, fieldNode);\n  return fieldNode;\n};\n\n/**\n * Returns an HTML node that displays signers for the transaction represented by\n * `cosmicLink`.\n *\n * @param {CL}\n * @return {HTMLElement} - A `div` element containing the signers\n */\nformat.signatures = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cosmicLink) {\n    var signers, tdesc, signersNode, titleNode, listNode;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return cosmicLink.getSigners();\n\n          case 2:\n            signers = _context2.sent;\n            _context2.next = 5;\n            return cosmicLink.getTdesc();\n\n          case 5:\n            tdesc = _context2.sent;\n\n            if (!(signers.length === 1 && !tdesc.signatures)) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt('return');\n\n          case 8:\n            signersNode = cosmicLink.signersNode;\n\n            node.clear(signersNode);\n\n            titleNode = node.create('span', '.CL_threshold', 'Signatures');\n            listNode = node.create('ul', '.CL_signers');\n\n            node.append(cosmicLink.signersNode, titleNode, listNode);\n\n            signers.forEach(function (entry) {\n              var signerNode = format.signer(cosmicLink, entry);\n              var animation = node.create('span', '.CL_loadingAnim');\n              var lineNode = node.create('li', null, signerNode, animation);\n              entry.node = lineNode;\n              entry.getSignature().then(function (signature) {\n                signature && node.appendClass(lineNode, 'CL_signed');\n                node.destroy(animation);\n              });\n              node.append(listNode, lineNode);\n            });\n\n          case 14:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/******************************************************************************/\n\nformat.string = function (cosmicLink, string) {\n  return document.createTextNode(string);\n};\n\nformat.error = function (cosmicLink, error) {\n  var errorNode = node.create('span', '.CL_error', error.value);\n  errorNode.title = 'Invalid value';\n  return errorNode;\n};\n\nformat.address = function (cosmicLink, address) {\n  var addressNode = node.create('span', { title: 'Resolving...', className: 'CL_address' }, helpers.shorter(address), node.create('span', '.CL_loadingAnim'));\n\n  resolveAddressAndUpdate(cosmicLink, address, addressNode);\n  return addressNode;\n};\n\nformat.asset = function (cosmicLink, asset) {\n  var codeNode = node.create('span', '.CL_assetCode', asset.code);\n  var issuerNode = node.create('span', '.CL_assetIssuer');\n  var assetNode = node.create('span', '.CL_asset', codeNode, issuerNode);\n\n  codeNode.onclick = event.trigger(cosmicLink, 'asset', asset, assetNode);\n\n  if (asset.issuer) {\n    codeNode.title = 'Issued by ' + asset.issuer;\n    node.append(issuerNode, ' issued by ');\n    node.append(issuerNode, format.address(cosmicLink, asset.issuer));\n    node.append(codeNode, node.create('span', '.CL_loadingAnim'));\n  } else {\n    codeNode.title = 'Native asset';\n    node.append(issuerNode, ' native asset');\n  }\n\n  return assetNode;\n};\n\nformat.assetsArray = function (cosmicLink, assetsArray) {\n  var assetsArrayNode = node.create('span');\n  for (var i = 0; i < assetsArray.length; i++) {\n    if (i !== 0) node.append(assetsArrayNode, ', ');\n    node.append(assetsArrayNode, format.asset(cosmicLink, assetsArray[i]));\n  }\n\n  return assetsArrayNode;\n};\n\nformat.date = function (cosmicLink, timestamp) {\n  var date = new Date(timestamp * 1000);\n  return node.create('span', {}, date.toLocaleString());\n};\n\nformat.flags = function (cosmicLink, flags) {\n  var string = '';\n  if (flags >= 4) {\n    string = 'immutable';\n    flags = flags - 4;\n  }\n  if (flags >= 2) {\n    if (string) string = ', ' + string;\n    string = 'revocable' + string;\n    flags = flags - 2;\n  }\n  if (+flags === 1) {\n    if (string) string = ', ' + string;\n    string = 'required' + string;\n  }\n\n  return node.create('span', {}, string);\n};\n\nformat.memo = function (cosmicLink, memo) {\n  var typeNode = node.create('span', '.CL_memoType', memo.type);\n  var valueNode = void 0;\n  if (memo.value.length > 30) {\n    valueNode = makeHashNode(memo.value);\n    node.appendClass(valueNode, '.CL_memoValue');\n  } else {\n    valueNode = node.create('span', '.CL_memoValue', memo.value);\n  }\n  return node.create('span', {}, '(', typeNode, ') ', valueNode);\n};\n\nformat.price = function (cosmicLink, price) {\n  if (typeof price === 'string') {\n    return node.create('span', {}, price);\n  } else {\n    return node.create('span', {}, price.n / price.d + '');\n  }\n};\n\nformat.signer = function (cosmicLink, signer) {\n  var signerNode = node.create('span');\n  switch (signer.type) {\n    case 'key':\n      node.append(signerNode, 'Account ');\n      node.append(signerNode, format.address(cosmicLink, signer.value));\n      break;\n    case 'hash':\n      node.append(signerNode, 'Key whose hash is ', makeHashNode(signer.value));\n      break;\n    case 'tx':\n      node.append(signerNode, 'Transaction ', makeHashNode(signer.value));\n  }\n  if (signer.weight > 1) {\n    node.append(signerNode, ' (weight: ' + signer.weight + ')');\n  }\n  return signerNode;\n};\n\nfunction makeHashNode(hash) {\n  return node.create('span', { className: 'CL_hash', title: hash, onclick: copier(hash) }, helpers.shorter(hash));\n}\n\n/**\n * Return a function that copy `string` into user clipboard.\n *\n * @private\n * @param {string} string\n * @return {function}\n */\nfunction copier(string) {\n  return function () {\n    var textBox = node.create('textarea', {}, string);\n    node.append(node.grab('body'), textBox);\n    node.copyContent(textBox);\n    node.destroy(textBox);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9mb3JtYXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9jb3NtaWMtbGliL2Zvcm1hdC5qcz9hZmM1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuLyoqXG4gKiBDb250YWlucyBtZXRob2RzIHRvIGZvcm1hdCBhIGB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yYCBpbnRvIENTUy9IVE1MIGZvclxuICogZGlzcGxheSBpbiBicm93c2VyLlxuICpcbiAqIEBleHBvcnRzIGZvcm1hdFxuICovXG5jb25zdCBmb3JtYXQgPSBleHBvcnRzXG5cbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKVxuY29uc3Qgbm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG5jb25zdCBjaGVjayA9IHJlcXVpcmUoJy4vY2hlY2snKVxuY29uc3Qgc3BlY3MgPSByZXF1aXJlKCcuL3NwZWNzJylcbmNvbnN0IHN0YXR1cyA9IHJlcXVpcmUoJy4vc3RhdHVzJylcbmNvbnN0IHJlc29sdmUgPSByZXF1aXJlKCcuL3Jlc29sdmUnKVxuY29uc3QgZXZlbnQgPSByZXF1aXJlKCcuL2V2ZW50JylcblxuXG4vKipcbiAqIFBvcHVsYXRlIGBjb3NtaWNMaW5rLnRyYW5zYWN0aW9uTm9kZWAgd2l0aCBhIGRlc2NyaXB0aW9uIG9mIGB0cmFuc2FjdGlvblxuICogZGVzY3JpcHRvcmAuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZGVzYyBUcmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4gKi9cbmZvcm1hdC50ZGVzYyA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rKSB7XG4gIGNvbnN0IHRyTm9kZSA9IGNvc21pY0xpbmsudHJhbnNhY3Rpb25Ob2RlXG4gIGNvbnN0IHRkZXNjID0gYXdhaXQgY29zbWljTGluay5nZXRUZGVzYygpXG4gIG5vZGUuY2xlYXIodHJOb2RlKVxuXG4gIGxldCBpbmZvTm9kZVxuICBzcGVjcy50cmFuc2FjdGlvbk9wdGlvbmFsRmllbGRzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGlmICh0ZGVzY1tlbnRyeV0pIHtcbiAgICAgIGlmICghaW5mb05vZGUpIGluZm9Ob2RlID0gbm9kZS5jcmVhdGUoJ3VsJywgJy5DTF9zaWRlSW5mbycpXG4gICAgICBjb25zdCBsaW5lTm9kZSA9IG5vZGUuY3JlYXRlKCdsaScsIHt9LFxuICAgICAgICBzcGVjcy5maWVsZERlc2NbZW50cnldICsgJzogJyxcbiAgICAgICAgZm9ybWF0LmZpZWxkKGNvc21pY0xpbmssIGVudHJ5LCB0ZGVzY1tlbnRyeV0pXG4gICAgICApXG4gICAgICBub2RlLmFwcGVuZChpbmZvTm9kZSwgbGluZU5vZGUpXG4gICAgfVxuICB9KVxuICBpZiAoaW5mb05vZGUpIG5vZGUuYXBwZW5kKHRyTm9kZSwgaW5mb05vZGUpXG5cbiAgLy8vIFNvcnQgb3BlcmF0aW9ucyBzbyB0aGF0IHRoZSBvbmVzIHdpdGggZGVjbGFyZWQgc291cmNlcyBhcmUgYXQgdGhlIGVuZC5cbiAgLy8vIChtYWtlcyBkYXRhIHByZXNlbnRhdGlvbiBiZXR0ZXIpXG4gIGxldCBvcGVyYXRpb25zID0gdGRlc2Mub3BlcmF0aW9ucy5zb3J0KGVudHJ5ID0+IGVudHJ5LnNvdXJjZSA/IDEgOiAwKVxuXG4gIHRyeSB7XG4gICAgZm9yIChsZXQgaW5kZXggaW4gb3BlcmF0aW9ucykge1xuICAgICAgY29uc3Qgb3BlcmF0aW9uID0gdGRlc2Mub3BlcmF0aW9uc1tpbmRleF1cbiAgICAgIGNvbnN0IG9wTm9kZSA9IGZvcm1hdC5vcGVyYXRpb24oY29zbWljTGluaywgb3BlcmF0aW9uKVxuICAgICAgbm9kZS5hcHBlbmQodHJOb2RlLCBvcE5vZGUpXG4gICAgfVxuICAgIGZvcm1hdC5zaWduYXR1cmVzKGNvc21pY0xpbmspXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdVbmhhbmRsZWQgZm9ybWF0dGluZyBlcnJvcicpXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gSFRNTEVsZW1lbnQgd2l0aCBgb3BlcmF0aW9uYCBpbiBodW1hbiBsYW5ndWFnZS5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtPYmplY3R9IG9kZXNjIE9wZXJhdGlvbiBpbiBjb3NtaWMgbGluayBKU09OIGZvcm1hdFxuICovXG5mb3JtYXQub3BlcmF0aW9uID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIG9kZXNjKSB7XG4gIGNvbnN0IG9wTm9kZSA9IG5vZGUuY3JlYXRlKCdkaXYnLCAnLkNMX29wZXJhdGlvbicpXG5cbiAgaWYgKG9kZXNjLnNvdXJjZSkge1xuICAgIG5vZGUuYXBwZW5kQ2xhc3Mob3BOb2RlLCAnQ0xfc291cmNlZE9wZXJhdGlvbicpXG4gICAgY29uc3Qgc291cmNlTm9kZSA9IG5vZGUuY3JlYXRlKCdkaXYnLCAnLkNMX3NvdXJjZScsICdTb3VyY2U6ICcpXG4gICAgY29uc3QgYWRkcmVzc05vZGUgPSBmb3JtYXQuZmllbGQoY29zbWljTGluaywgJ3NvdXJjZScsIG9kZXNjLnNvdXJjZSlcbiAgICBub2RlLmFwcGVuZChzb3VyY2VOb2RlLCBhZGRyZXNzTm9kZSlcbiAgICBub2RlLmFwcGVuZChvcE5vZGUsIHNvdXJjZU5vZGUpXG4gIH1cblxuICBsZXQgbWVhbmluZyA9IG9wZXJhdGlvbk1lYW5pbmcob2Rlc2MpXG4gIHdoaWxlIChtZWFuaW5nKSB7XG4gICAgaWYgKG1lYW5pbmcuc3Vic3RyKDAsIDEpID09PSAneycpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbWVhbmluZy5zdWJzdHIoMSkucmVwbGFjZSgvfS4qLywgJycpXG4gICAgICBtZWFuaW5nID0gbWVhbmluZy5yZXBsYWNlKC9eW159XSp9LywgJycpXG4gICAgICBpZiAocXVlcnkgPT09ICduZXdsaW5lJykge1xuICAgICAgICBpZiAobWVhbmluZyA9PT0gJycpIGJyZWFrXG4gICAgICAgIG5vZGUuYXBwZW5kKG9wTm9kZSwgbm9kZS5jcmVhdGUoJ2JyJykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmaWVsZE5vZGUgPSBmb3JtYXQuZmllbGQoY29zbWljTGluaywgcXVlcnksIG9kZXNjW3F1ZXJ5XSlcbiAgICAgICAgbm9kZS5hcHBlbmQob3BOb2RlLCBmaWVsZE5vZGUpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHR4dCA9IG1lYW5pbmcucmVwbGFjZSgvey4qLywgJycpXG4gICAgICBtZWFuaW5nID0gbWVhbmluZy5yZXBsYWNlKC9eW157XSovLCAnJylcbiAgICAgIG5vZGUuYXBwZW5kKG9wTm9kZSwgdHh0KVxuICAgIH1cbiAgfVxuICByZXR1cm4gb3BOb2RlXG59XG5cbi8qKlxuICogUmV0dXJuIGEgc3RyaW5nIHRoYXQgZGVzY3JpYmUgdGhlIG1lYW5pbmcgb2YgYG9wZXJhdGlvbiBkZXNjcmlwdG9yYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9kZXNjIE9wZXJhdGlvbiBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE1lYW5pbmcgb2YgYG9wZXJhdGlvbiBkZXNjcmlwdG9yYFxuICovXG5mdW5jdGlvbiBvcGVyYXRpb25NZWFuaW5nIChvZGVzYykge1xuICBsZXQgbXNnXG4gIHN3aXRjaCAob2Rlc2MudHlwZSkge1xuICAgIGNhc2UgJ2FjY291bnRNZXJnZSc6XG4gICAgICByZXR1cm4gJ01lcmdlIGFjY291bnQgaW5zaWRlIHtkZXN0aW5hdGlvbn0nXG4gICAgY2FzZSAnYWxsb3dUcnVzdCc6XG4gICAgICBpZiAob2Rlc2MuYXV0aG9yaXplKSB7XG4gICAgICAgIHJldHVybiAnQWxsb3cgdXNhZ2Ugb2YgeW91ciBhc3NldCB7YXNzZXRDb2RlfSB0byB7dHJ1c3Rvcn0nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ0RlbnkgdXNhZ2Ugb2YgeW91ciBhc3NldCB7YXNzZXRDb2RlfSB0byB7dHJ1c3Rvcn0nXG4gICAgICB9XG4gICAgY2FzZSAnY2hhbmdlVHJ1c3QnOlxuICAgICAgaWYgKG9kZXNjLmxpbWl0ID09PSAnMCcpIHtcbiAgICAgICAgcmV0dXJuICdSZWZ1c2UgYXNzZXQge2Fzc2V0fSdcbiAgICAgIH0gZWxzZSBpZiAob2Rlc2MubGltaXQpIHtcbiAgICAgICAgcmV0dXJuICdTZXQgaG9sZGluZyBsaW1pdCBhcyB7bGltaXR9IGZvciBhc3NldCB7YXNzZXR9J1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdBY2NlcHQgYXNzZXQge2Fzc2V0fSdcbiAgICAgIH1cbiAgICBjYXNlICdjcmVhdGVBY2NvdW50JzpcbiAgICAgIHJldHVybiAnQ3JlYXRlIGFjY291bnQge2Rlc3RpbmF0aW9ufSBhbmQgc2VuZCBpdCB7c3RhcnRpbmdCYWxhbmNlfSBYTE0nXG4gICAgY2FzZSAnY3JlYXRlUGFzc2l2ZU9mZmVyJzpcbiAgICAgIHJldHVybiAnUGFzc2l2ZSBvZmZlciBvZiB7YW1vdW50fcKge3NlbGxpbmd9IGF0IHtwcmljZX3CoHtidXlpbmd9IC8gdW5pdCdcbiAgICBjYXNlICdpbmZsYXRpb24nOlxuICAgICAgcmV0dXJuICdSdW4gaW5mbGF0aW9uJ1xuICAgIGNhc2UgJ21hbmFnZURhdGEnOlxuICAgICAgaWYgKG9kZXNjLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBcIlNldCBkYXRhIGVudHJ5ICd7bmFtZX0nIGFzICd7dmFsdWV9J1wiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJEZWxldGUgZGF0YSBlbnRyeSAne25hbWV9J1wiXG4gICAgICB9XG4gICAgY2FzZSAnbWFuYWdlT2ZmZXInOlxuICAgICAgaWYgKCFvZGVzYy5vZmZlcklkIHx8IG9kZXNjLm9mZmVySWQgPT09ICcwJykge1xuICAgICAgICByZXR1cm4gJ09mZmVyIHthbW91bnR9wqB7c2VsbGluZ30gYXQge3ByaWNlfcKge2J1eWluZ30gLyB1bml0J1xuICAgICAgfSBlbHNlIGlmIChvZGVzYy5hbW91bnQgIT09ICcwJykge1xuICAgICAgICByZXR1cm4gXCJDaGFuZ2Ugb2ZmZXIgJ3tvZmZlcklkfScgdG86IG9mZmVyIHthbW91bnR9wqB7c2VsbGluZ30gYXQgXCIgK1xuICAgICAgICAgICd7cHJpY2V9wqB7YnV5aW5nfcKgL8KgdW5pdCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIkRlbGV0ZSBvZmZlciAne29mZmVySWR9J1wiXG4gICAgICB9XG4gICAgY2FzZSAncGF0aFBheW1lbnQnOlxuICAgICAgbXNnID0gJ1NlbmQge2Rlc3RBbW91bnR9wqB7ZGVzdEFzc2V0fSB0byB7ZGVzdGluYXRpb259IGZvciBhIG1heGltdW0gJyArXG4gICAgICAgICdvZiB7c2VuZE1heH3CoHtzZW5kQXNzZXR9J1xuICAgICAgaWYgKG9kZXNjLnBhdGgpIG1zZyArPSAnIHVzaW5nIGNvbnZlcnNpb24gcGF0aDoge3BhdGh9J1xuICAgICAgcmV0dXJuIG1zZ1xuICAgIGNhc2UgJ3BheW1lbnQnOlxuICAgICAgcmV0dXJuICdTZW5kIHthbW91bnR9wqB7YXNzZXR9IHRvIHtkZXN0aW5hdGlvbn0nXG4gICAgY2FzZSAnc2V0T3B0aW9ucyc6XG4gICAgICBtc2cgPSAnJ1xuICAgICAgaWYgKG9kZXNjLmluZmxhdGlvbkRlc3QpIHtcbiAgICAgICAgbXNnICs9ICdTZXQgaW5mbGF0aW9uIGRlc3RpbmF0aW9uIHRvOiB7aW5mbGF0aW9uRGVzdH17bmV3bGluZX0nXG4gICAgICB9XG4gICAgICBpZiAob2Rlc2MuY2xlYXJGbGFncykgbXNnICs9ICdDbGVhciBmbGFnKHMpOiB7Y2xlYXJGbGFnc317bmV3bGluZX0nXG4gICAgICBpZiAob2Rlc2Muc2V0RmxhZ3MpIG1zZyArPSAnU2V0IGZsYWcocyk6IHtzZXRGbGFnc317bmV3bGluZX0nXG4gICAgICBpZiAob2Rlc2MubWFzdGVyV2VpZ2h0KSB7XG4gICAgICAgIGlmIChvZGVzYy5tYXN0ZXJXZWlnaHQgPT09ICcwJykge1xuICAgICAgICAgIG1zZyArPSAnRGVsZXRlIG1hc3RlciBrZXl7bmV3bGluZX0nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnICs9ICdTZXQgbWFzdGVyIGtleSB3ZWlnaHQgYXQ6IHttYXN0ZXJXZWlnaHR9e25ld2xpbmV9J1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBbJ2xvd1RocmVzaG9sZCcsICdtZWRUaHJlc2hvbGQnLCAnaGlnaFRocmVzaG9sZCddLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBpZiAob2Rlc2NbZmllbGRdKSBtc2cgKz0gJ1NldCAnICsgZmllbGQgKyAnIGF0OiB7JyArIGZpZWxkICsgJ317bmV3bGluZX0nXG4gICAgICB9KVxuICAgICAgaWYgKG9kZXNjLnNpZ25lcikge1xuICAgICAgICBpZiAob2Rlc2Muc2lnbmVyLndlaWdodCA9PT0gJzAnKSBtc2cgKz0gJ1JlbW92ZSBzaWduZXI6IHtzaWduZXJ9e25ld2xpbmV9J1xuICAgICAgICBlbHNlIG1zZyArPSAnU2V0IHNpZ25lcjoge3NpZ25lcn17bmV3bGluZX0nXG4gICAgICB9XG4gICAgICBpZiAob2Rlc2MuaG9tZURvbWFpbikgbXNnICs9ICdTZXQgaG9tZSBkb21haW46IHtob21lRG9tYWlufXtuZXdsaW5lfSdcbiAgICAgIGlmIChvZGVzYy5ob21lRG9tYWluID09PSAnJykgbXNnICs9ICdVbnNldCBob21lIGRvbWFpbidcbiAgICAgIGlmICghbXNnKSBtc2cgPSAnRG8gbm90aGluZydcbiAgICAgIHJldHVybiBtc2dcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3cgb3BlcmF0aW9uOiAnICsgb2Rlc2MudHlwZSlcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBhbiBIVE1MIGVsZW1lbnQgZXhwb3NpbmcgYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBmaWVsZCBuYW1lIG9mIGB2YWx1ZWAgYXMgZGVmaW5lZCBpbiBgc3BlYy5qc2BcbiAqIEByZXR1cm4ge0hUTE1FbGVtZW50fSBgdmFsdWVgIGZvcm1hdHRlZCBpbiBIVE1ML0NTU1xuICovXG5mb3JtYXQuZmllbGQgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZmllbGQsIHZhbHVlKSB7XG4gIGxldCB0eXBlID0gc3BlY3MuZmllbGRUeXBlW2ZpZWxkXVxuICBpZiAoIXR5cGUpIHRocm93IG5ldyBFcnJvcignVW5rbm93IGZpZWxkOiAnICsgZmllbGQpXG5cbiAgY2hlY2sudHlwZShjb3NtaWNMaW5rLCB0eXBlKVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5lcnJvcikgdHlwZSA9ICdlcnJvcidcbiAgY29uc3QgZm9ybWF0dGVyID0gZm9ybWF0W3R5cGVdIHx8IGZvcm1hdC5zdHJpbmdcbiAgY29uc3QgZmllbGROb2RlID0gZm9ybWF0dGVyKGNvc21pY0xpbmssIHZhbHVlKVxuXG4gIGZpZWxkTm9kZS5jbGFzc05hbWUgPSAnQ0xfJyArIHR5cGVcbiAgZmllbGROb2RlLm9uQ2xpY2sgPSBldmVudC50cmlnZ2VyKGNvc21pY0xpbmssIHR5cGUsIHZhbHVlLCBmaWVsZE5vZGUpXG4gIHJldHVybiBmaWVsZE5vZGVcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgbm9kZSB0aGF0IGRpc3BsYXlzIHNpZ25lcnMgZm9yIHRoZSB0cmFuc2FjdGlvbiByZXByZXNlbnRlZCBieVxuICogYGNvc21pY0xpbmtgLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gLSBBIGBkaXZgIGVsZW1lbnQgY29udGFpbmluZyB0aGUgc2lnbmVyc1xuICovXG5mb3JtYXQuc2lnbmF0dXJlcyA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rKSB7XG4gIGNvbnN0IHNpZ25lcnMgPSBhd2FpdCBjb3NtaWNMaW5rLmdldFNpZ25lcnMoKVxuICBjb25zdCB0ZGVzYyA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0VGRlc2MoKVxuICBpZiAoc2lnbmVycy5sZW5ndGggPT09IDEgJiYgIXRkZXNjLnNpZ25hdHVyZXMpIHJldHVyblxuXG4gIGNvbnN0IHNpZ25lcnNOb2RlID0gY29zbWljTGluay5zaWduZXJzTm9kZVxuICBub2RlLmNsZWFyKHNpZ25lcnNOb2RlKVxuXG4gIGNvbnN0IHRpdGxlTm9kZSA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF90aHJlc2hvbGQnLCAnU2lnbmF0dXJlcycpXG4gIGNvbnN0IGxpc3ROb2RlID0gbm9kZS5jcmVhdGUoJ3VsJywgJy5DTF9zaWduZXJzJylcbiAgbm9kZS5hcHBlbmQoY29zbWljTGluay5zaWduZXJzTm9kZSwgdGl0bGVOb2RlLCBsaXN0Tm9kZSlcblxuICBzaWduZXJzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGNvbnN0IHNpZ25lck5vZGUgPSBmb3JtYXQuc2lnbmVyKGNvc21pY0xpbmssIGVudHJ5KVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9sb2FkaW5nQW5pbScpXG4gICAgY29uc3QgbGluZU5vZGUgPSBub2RlLmNyZWF0ZSgnbGknLCBudWxsLCBzaWduZXJOb2RlLCBhbmltYXRpb24pXG4gICAgZW50cnkubm9kZSA9IGxpbmVOb2RlXG4gICAgZW50cnkuZ2V0U2lnbmF0dXJlKCkudGhlbihzaWduYXR1cmUgPT4ge1xuICAgICAgc2lnbmF0dXJlICYmIG5vZGUuYXBwZW5kQ2xhc3MobGluZU5vZGUsICdDTF9zaWduZWQnKVxuICAgICAgbm9kZS5kZXN0cm95KGFuaW1hdGlvbilcbiAgICB9KVxuICAgIG5vZGUuYXBwZW5kKGxpc3ROb2RlLCBsaW5lTm9kZSlcbiAgfSlcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZm9ybWF0LnN0cmluZyA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZylcbn1cblxuZm9ybWF0LmVycm9yID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIGVycm9yKSB7XG4gIGNvbnN0IGVycm9yTm9kZSA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9lcnJvcicsIGVycm9yLnZhbHVlKVxuICBlcnJvck5vZGUudGl0bGUgPSAnSW52YWxpZCB2YWx1ZSdcbiAgcmV0dXJuIGVycm9yTm9kZVxufVxuXG5mb3JtYXQuYWRkcmVzcyA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhZGRyZXNzKSB7XG4gIGNvbnN0IGFkZHJlc3NOb2RlID0gbm9kZS5jcmVhdGUoJ3NwYW4nLFxuICAgIHsgdGl0bGU6ICdSZXNvbHZpbmcuLi4nLCBjbGFzc05hbWU6ICdDTF9hZGRyZXNzJyB9LFxuICAgIGhlbHBlcnMuc2hvcnRlcihhZGRyZXNzKSxcbiAgICBub2RlLmNyZWF0ZSgnc3BhbicsICcuQ0xfbG9hZGluZ0FuaW0nKVxuICApXG5cbiAgcmVzb2x2ZUFkZHJlc3NBbmRVcGRhdGUoY29zbWljTGluaywgYWRkcmVzcywgYWRkcmVzc05vZGUpXG4gIHJldHVybiBhZGRyZXNzTm9kZVxufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlQWRkcmVzc0FuZFVwZGF0ZSAoY29zbWljTGluaywgYWRkcmVzcywgYWRkcmVzc05vZGUpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgcmVzb2x2ZS5hZGRyZXNzKGNvc21pY0xpbmssIGFkZHJlc3MpXG5cbiAgICBhZGRyZXNzTm9kZS50aXRsZSA9IGFjY291bnQuYWNjb3VudF9pZFxuICAgIGlmIChhY2NvdW50Lm1lbW8pIHtcbiAgICAgIGFkZHJlc3NOb2RlLnRpdGxlICs9IGBcXG5NZW1vICgke2FjY291bnQubWVtb2V4cG9ydHN9KTogJHthY2NvdW50Lm1lbW99YFxuICAgIH1cblxuICAgIGlmIChhY2NvdW50LmFkZHJlc3MpIGFkZHJlc3NOb2RlLnRleHRDb250ZW50ID0gYWNjb3VudC5hZGRyZXNzXG4gICAgZWxzZSBpZiAoYWNjb3VudC5hbGlhcykgYWRkcmVzc05vZGUudGV4dENvbnRlbnQgPSBhY2NvdW50LmFsaWFzXG5cbiAgICBhZGRyZXNzTm9kZS5vbmNsaWNrID0gZXZlbnQudHJpZ2dlcihjb3NtaWNMaW5rLCAnYWRkcmVzcycsIGFjY291bnQsXG4gICAgICBhZGRyZXNzTm9kZSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICBhZGRyZXNzTm9kZS50aXRsZSA9IFwiQ2FuJ3QgcmVzb2x2ZSBhZGRyZXNzXCJcbiAgICBub2RlLmFwcGVuZENsYXNzKGFkZHJlc3NOb2RlLCAnQ0xfZXJyb3InKVxuXG4gICAgY29uc3QgcGFyZW50ID0gYWRkcmVzc05vZGUucGFyZW50Tm9kZVxuICAgIGlmIChwYXJlbnQuY2xhc3NOYW1lID09PSAnQ0xfYXNzZXRJc3N1ZXInKSB7XG4gICAgICBwYXJlbnQuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5ncmFiKCcuQ0xfbG9hZGluZ0FuaW0nLCBhZGRyZXNzTm9kZSlcbiAgaWYgKGFuaW1hdGlvbikgbm9kZS5kZXN0cm95KGFuaW1hdGlvbilcbiAgY29uc3QgZ3JhbmRwYSA9IGFkZHJlc3NOb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZVxuICBpZiAoZ3JhbmRwYSAmJiBncmFuZHBhLmNsYXNzTmFtZSA9PT0gJ0NMX2Fzc2V0Jykge1xuICAgIG5vZGUuZGVzdHJveShub2RlLmdyYWIoJy5DTF9sb2FkaW5nQW5pbScsIGdyYW5kcGEpKVxuICB9XG59XG5cbmZvcm1hdC5hc3NldCA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhc3NldCkge1xuICBjb25zdCBjb2RlTm9kZSA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9hc3NldENvZGUnLCBhc3NldC5jb2RlKVxuICBjb25zdCBpc3N1ZXJOb2RlID0gbm9kZS5jcmVhdGUoJ3NwYW4nLCAnLkNMX2Fzc2V0SXNzdWVyJylcbiAgY29uc3QgYXNzZXROb2RlID0gbm9kZS5jcmVhdGUoJ3NwYW4nLCAnLkNMX2Fzc2V0JywgY29kZU5vZGUsIGlzc3Vlck5vZGUpXG5cbiAgY29kZU5vZGUub25jbGljayA9IGV2ZW50LnRyaWdnZXIoY29zbWljTGluaywgJ2Fzc2V0JywgYXNzZXQsIGFzc2V0Tm9kZSlcblxuICBpZiAoYXNzZXQuaXNzdWVyKSB7XG4gICAgY29kZU5vZGUudGl0bGUgPSAnSXNzdWVkIGJ5ICcgKyBhc3NldC5pc3N1ZXJcbiAgICBub2RlLmFwcGVuZChpc3N1ZXJOb2RlLCAnIGlzc3VlZCBieSAnKVxuICAgIG5vZGUuYXBwZW5kKGlzc3Vlck5vZGUsIGZvcm1hdC5hZGRyZXNzKGNvc21pY0xpbmssIGFzc2V0Lmlzc3VlcikpXG4gICAgbm9kZS5hcHBlbmQoY29kZU5vZGUsIG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9sb2FkaW5nQW5pbScpKVxuICB9IGVsc2Uge1xuICAgIGNvZGVOb2RlLnRpdGxlID0gJ05hdGl2ZSBhc3NldCdcbiAgICBub2RlLmFwcGVuZChpc3N1ZXJOb2RlLCAnIG5hdGl2ZSBhc3NldCcpXG4gIH1cblxuICByZXR1cm4gYXNzZXROb2RlXG59XG5cbmZvcm1hdC5hc3NldHNBcnJheSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhc3NldHNBcnJheSkge1xuICBjb25zdCBhc3NldHNBcnJheU5vZGUgPSBub2RlLmNyZWF0ZSgnc3BhbicpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXNzZXRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSAhPT0gMCkgbm9kZS5hcHBlbmQoYXNzZXRzQXJyYXlOb2RlLCAnLCAnKVxuICAgIG5vZGUuYXBwZW5kKGFzc2V0c0FycmF5Tm9kZSwgZm9ybWF0LmFzc2V0KGNvc21pY0xpbmssIGFzc2V0c0FycmF5W2ldKSlcbiAgfVxuXG4gIHJldHVybiBhc3NldHNBcnJheU5vZGVcbn1cblxuZm9ybWF0LmRhdGUgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdGltZXN0YW1wKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKiAxMDAwKVxuICByZXR1cm4gbm9kZS5jcmVhdGUoJ3NwYW4nLCB7fSwgZGF0ZS50b0xvY2FsZVN0cmluZygpKVxufVxuXG5mb3JtYXQuZmxhZ3MgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZmxhZ3MpIHtcbiAgbGV0IHN0cmluZyA9ICcnXG4gIGlmIChmbGFncyA+PSA0KSB7XG4gICAgc3RyaW5nID0gJ2ltbXV0YWJsZSdcbiAgICBmbGFncyA9IGZsYWdzIC0gNFxuICB9XG4gIGlmIChmbGFncyA+PSAyKSB7XG4gICAgaWYgKHN0cmluZykgc3RyaW5nID0gJywgJyArIHN0cmluZ1xuICAgIHN0cmluZyA9ICdyZXZvY2FibGUnICsgc3RyaW5nXG4gICAgZmxhZ3MgPSBmbGFncyAtIDJcbiAgfVxuICBpZiAoK2ZsYWdzID09PSAxKSB7XG4gICAgaWYgKHN0cmluZykgc3RyaW5nID0gJywgJyArIHN0cmluZ1xuICAgIHN0cmluZyA9ICdyZXF1aXJlZCcgKyBzdHJpbmdcbiAgfVxuXG4gIHJldHVybiBub2RlLmNyZWF0ZSgnc3BhbicsIHt9LCBzdHJpbmcpXG59XG5cbmZvcm1hdC5tZW1vID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIG1lbW8pIHtcbiAgY29uc3QgdHlwZU5vZGUgPSBub2RlLmNyZWF0ZSgnc3BhbicsICcuQ0xfbWVtb1R5cGUnLCBtZW1vLnR5cGUpXG4gIGxldCB2YWx1ZU5vZGVcbiAgaWYgKG1lbW8udmFsdWUubGVuZ3RoID4gMzApIHtcbiAgICB2YWx1ZU5vZGUgPSBtYWtlSGFzaE5vZGUobWVtby52YWx1ZSlcbiAgICBub2RlLmFwcGVuZENsYXNzKHZhbHVlTm9kZSwgJy5DTF9tZW1vVmFsdWUnKVxuICB9IGVsc2Uge1xuICAgIHZhbHVlTm9kZSA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9tZW1vVmFsdWUnLCBtZW1vLnZhbHVlKVxuICB9XG4gIHJldHVybiBub2RlLmNyZWF0ZSgnc3BhbicsIHt9LCAnKCcsIHR5cGVOb2RlLCAnKSAnLCB2YWx1ZU5vZGUpXG59XG5cbmZvcm1hdC5wcmljZSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBwcmljZSkge1xuICBpZiAodHlwZW9mIHByaWNlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBub2RlLmNyZWF0ZSgnc3BhbicsIHt9LCBwcmljZSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZS5jcmVhdGUoJ3NwYW4nLCB7fSwgcHJpY2UubiAvIHByaWNlLmQgKyAnJylcbiAgfVxufVxuXG5mb3JtYXQuc2lnbmVyID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHNpZ25lcikge1xuICBjb25zdCBzaWduZXJOb2RlID0gbm9kZS5jcmVhdGUoJ3NwYW4nKVxuICBzd2l0Y2ggKHNpZ25lci50eXBlKSB7XG4gICAgY2FzZSAna2V5JzpcbiAgICAgIG5vZGUuYXBwZW5kKHNpZ25lck5vZGUsICdBY2NvdW50ICcpXG4gICAgICBub2RlLmFwcGVuZChzaWduZXJOb2RlLCBmb3JtYXQuYWRkcmVzcyhjb3NtaWNMaW5rLCBzaWduZXIudmFsdWUpKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdoYXNoJzpcbiAgICAgIG5vZGUuYXBwZW5kKHNpZ25lck5vZGUsXG4gICAgICAgICdLZXkgd2hvc2UgaGFzaCBpcyAnLFxuICAgICAgICBtYWtlSGFzaE5vZGUoc2lnbmVyLnZhbHVlKVxuICAgICAgKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd0eCc6XG4gICAgICBub2RlLmFwcGVuZChzaWduZXJOb2RlLFxuICAgICAgICAnVHJhbnNhY3Rpb24gJyxcbiAgICAgICAgbWFrZUhhc2hOb2RlKHNpZ25lci52YWx1ZSlcbiAgICAgIClcbiAgfVxuICBpZiAoc2lnbmVyLndlaWdodCA+IDEpIHtcbiAgICBub2RlLmFwcGVuZChzaWduZXJOb2RlLCAnICh3ZWlnaHQ6ICcgKyBzaWduZXIud2VpZ2h0ICsgJyknKVxuICB9XG4gIHJldHVybiBzaWduZXJOb2RlXG59XG5cbmZ1bmN0aW9uIG1ha2VIYXNoTm9kZSAoaGFzaCkge1xuICByZXR1cm4gbm9kZS5jcmVhdGUoJ3NwYW4nLFxuICAgIHsgY2xhc3NOYW1lOiAnQ0xfaGFzaCcsIHRpdGxlOiBoYXNoLCBvbmNsaWNrOiBjb3BpZXIoaGFzaCkgfSxcbiAgICBoZWxwZXJzLnNob3J0ZXIoaGFzaClcbiAgKVxufVxuXG4vKipcbiAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY29weSBgc3RyaW5nYCBpbnRvIHVzZXIgY2xpcGJvYXJkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY29waWVyIChzdHJpbmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0ZXh0Qm94ID0gbm9kZS5jcmVhdGUoJ3RleHRhcmVhJywge30sIHN0cmluZylcbiAgICBub2RlLmFwcGVuZChub2RlLmdyYWIoJ2JvZHknKSwgdGV4dEJveClcbiAgICBub2RlLmNvcHlDb250ZW50KHRleHRCb3gpXG4gICAgbm9kZS5kZXN0cm95KHRleHRCb3gpXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFpUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFaQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBeUJBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQS9CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7Ozs7OztBQTNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWtDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZFQTtBQXlFQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFaQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/format.js\n");

/***/ }),

/***/ "./src/cosmic-lib/helpers.js":
/*!***********************************!*\
  !*** ./src/cosmic-lib/helpers.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Various independent helpers.\n *\n * @exports helpers\n */\n\nvar helpers = exports;\n\n/**\n * Return a function that will execute `thunk` when called, and return the\n * result of its execution as a Promise. Handle async and regular functions\n * equally. Any error will be carried to .catch.\n *\n * @param {function} thunk A parameterless function\n * @return {function}\n */\nhelpers.delay = function (thunk) {\n  var firstCall = true;\n  var memoized = void 0;\n  return function () {\n    if (firstCall) {\n      firstCall = false;\n      memoized = new Promise(function (resolve) {\n        return resolve(thunk());\n      });\n    }\n    return memoized;\n  };\n};\n\n/**\n * Return a promise that takes `x` seconds to resolve\n *\n * @param {number} x Time to wait\n * @return {Promise}\n */\nhelpers.timeout = function (x) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, x);\n  });\n};\n\n/**\n * Return `string` with first letter capitalized.\n *\n * @param {string} string\n * @return {string}\n */\nhelpers.capitalize = function (string) {\n  return string.substr(0, 1).toUpperCase() + string.slice(1);\n};\n\n/**\n * Return shortified `string` if longer than 30 characters; else return\n * `string`.\n *\n * @param {string}\n * @return {string}\n */\nhelpers.shorter = function (string) {\n  if (string.length > 50) {\n    return string.substr(0, 5) + '...' + string.substr(-5);\n  } else {\n    return string;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9oZWxwZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9oZWxwZXJzLmpzPzQ0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG4vKipcbiAqIFZhcmlvdXMgaW5kZXBlbmRlbnQgaGVscGVycy5cbiAqXG4gKiBAZXhwb3J0cyBoZWxwZXJzXG4gKi9cbmNvbnN0IGhlbHBlcnMgPSBleHBvcnRzXG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGV4ZWN1dGUgYHRodW5rYCB3aGVuIGNhbGxlZCwgYW5kIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiBpdHMgZXhlY3V0aW9uIGFzIGEgUHJvbWlzZS4gSGFuZGxlIGFzeW5jIGFuZCByZWd1bGFyIGZ1bmN0aW9uc1xuICogZXF1YWxseS4gQW55IGVycm9yIHdpbGwgYmUgY2FycmllZCB0byAuY2F0Y2guXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gdGh1bmsgQSBwYXJhbWV0ZXJsZXNzIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAqL1xuaGVscGVycy5kZWxheSA9IGZ1bmN0aW9uICh0aHVuaykge1xuICBsZXQgZmlyc3RDYWxsID0gdHJ1ZVxuICBsZXQgbWVtb2l6ZWRcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZmlyc3RDYWxsKSB7XG4gICAgICBmaXJzdENhbGwgPSBmYWxzZVxuICAgICAgbWVtb2l6ZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVzb2x2ZSh0aHVuaygpKSlcbiAgICB9XG4gICAgcmV0dXJuIG1lbW9pemVkXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgdGFrZXMgYHhgIHNlY29uZHMgdG8gcmVzb2x2ZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbWUgdG8gd2FpdFxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuaGVscGVycy50aW1lb3V0ID0gZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHNldFRpbWVvdXQocmVzb2x2ZSwgeCkgfSlcbn1cblxuLyoqXG4gKiBSZXR1cm4gYHN0cmluZ2Agd2l0aCBmaXJzdCBsZXR0ZXIgY2FwaXRhbGl6ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5oZWxwZXJzLmNhcGl0YWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSlcbn1cblxuLyoqXG4gKiBSZXR1cm4gc2hvcnRpZmllZCBgc3RyaW5nYCBpZiBsb25nZXIgdGhhbiAzMCBjaGFyYWN0ZXJzOyBlbHNlIHJldHVyblxuICogYHN0cmluZ2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmhlbHBlcnMuc2hvcnRlciA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgaWYgKHN0cmluZy5sZW5ndGggPiA1MCkge1xuICAgIHJldHVybiBzdHJpbmcuc3Vic3RyKDAsIDUpICsgJy4uLicgKyBzdHJpbmcuc3Vic3RyKC01KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHJpbmdcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7QUFLQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/helpers.js\n");

/***/ }),

/***/ "./src/cosmic-lib/index.js":
/*!*********************************!*\
  !*** ./src/cosmic-lib/index.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CosmicLink = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _polyfill = __webpack_require__(/*! ./polyfill */ \"./src/cosmic-lib/polyfill.js\");\n\nvar _polyfill2 = _interopRequireDefault(_polyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar action = __webpack_require__(/*! ./action */ \"./src/cosmic-lib/action.js\");\nvar event = __webpack_require__(/*! ./event */ \"./src/cosmic-lib/event.js\");\nvar _parse = __webpack_require__(/*! ./parse */ \"./src/cosmic-lib/parse.js\");\nvar resolve = __webpack_require__(/*! ./resolve */ \"./src/cosmic-lib/resolve.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\nvar aliases = __webpack_require__(/*! ./aliases */ \"./src/cosmic-lib/aliases.js\");\n\nvar node = void 0,\n    format = void 0;\nif (typeof document !== 'undefined') {\n  node = __webpack_require__(/*! ./node */ \"./src/cosmic-lib/node.js\");\n  format = __webpack_require__(/*! ./format */ \"./src/cosmic-lib/format.js\");\n  __webpack_require__(/*! ./cosmic-lib.css */ \"./src/cosmic-lib/cosmic-lib.css\");\n} else if (typeof StellarSdk === 'undefined') {\n  global.StellarSdk = __webpack_require__(/*! stellar-sdk */ \"stellar-sdk\");\n}\n\n/**\n * A `CosmicLink` object represents a Stellar transaction. It can be created\n * from an actual cosmic link or any link build with a cosmic link query, but\n * also from a Stellar Transaction object or its XDR representation.\n *\n * Additionally, it can be parsed from a `transaction descriptor`, which the\n * simplified format `CosmicLink`s are using to represent Stellar transaction.\n * This `transaction descriptor` can be written in its objectified form\n * (referred as `tdesc`) or stringified form (referred as `json`).\n *\n * To make a `CosmicLink` object, you'll need to provide the network on wich\n * it is valid, and may want to provide a default user, which could be your\n * accountID or the accountID of anybody using your service.\n *\n * Cheat sheet:\n *```\n// --- Constructor ---\n// new CosmicLink(uri, \"[userNetwork]\", \"[userAddress]\")\n// new CosmicLink(query, \"[userNetwork]\", \"[userAddress]\")\n// new CosmicLink(transaction, \"[userNetwork]\", \"[userAddress]\", {...options})\n// new CosmicLink(xdr, \"[userNetwork]\", \"[userAddress]\", {...options})\n//\n// --- Options for transaction & xdr ---\n// stripSource = true      < Strip out source account\n// stripSequence = true    < Strip out sequence number\n// stripSignatures = true  < Strip out signatures\n// network = ...           < Specify a network for this transaction (kept in URI after conversion)\n//\n// --- Edit ---\n// CosmicLink.parse(any-format, {...options})\n// *CosmicLink.setField(field, value)\n// *CosmicLink.addOperation({...params})\n// *CosmicLink.changeOperation(index, {...params})\n// *CosmicLink.removeOperation(index)\n//\n// --- Formats (get) ---\n// CosmicLink.getUri()          < Return a promise of the URI string\n// CosmicLink.getQuery()        < Return a promise of the query string\n// CosmicLink.getJson()         < Return stringified JSON of the object\n// CosmicLink.getTdesc()        < Return a promise of the transaction descriptor\n// CosmicLink.getTransaction()  < Return a promise of the transaction\n// CosmicLink.getXdr()          < Return a promise of the transaction's XDR\n//\n// --- Handlers ---\n// CosmicLink.addFormatHandler(format, callback)\n// CosmicLink.removeFormatHandler(format, callback)\n// callback will receive event = { cosmicLink: ..., value: ..., error: ... }\n//\n// --- Datas ---           <<< Update everything on the go >>>\n// CosmicLink.user         < User address\n// CosmicLink.network      < Test/Public network\n// CosmicLink.server       < The horizon server to use\n// CosmicLink.page         < The base URI, without the query\n// CosmicLink.status       < Status of the CosmicLink (valid or specific error)\n// CosmicLink.errors       < An array of errors (or undefined if no error)\n//\n// --- Datas (asynchronous) ---\n// CosmicLink.getSource()         < Transaction source\n// CosmicLink.getSourceAccount()  < Transaction source account object\n// CosmicLink.getSigners()        < Array of legit signers\n//\n// --- Aliases ---\n// CosmicLink.aliases                     < Local aliases for public keys\n// CosmicLink.addAliases({id: name,...})  < Append new aliases\n// CosmicLink.removeAliases([id...])      < Remove aliases\n//\n// --- Tests ---\n// CosmicLink.hasSigner(publicKey)   < Test if `publicKey` is a signer for CosmicLink\n// CosmicLink.hasSigned(publicKey)   < Test if `publicKey` signature is available\n//\n// --- Actions ---\n// CosmicLink.selectNetwork()  < Select CosmicLink network for Stellar SDK\n// CosmicLink.sign(seed)       < Sign the transaction\n// CosmicLink.send([server])   < Send the transaction to the network\n//\n// --- Events ---\n// CosmicLink.onClick.type      < For onClick events on the HTML description\n//\n// --- HTML Nodes ---\n// CosmicLink.htmlNode         < HTML element for CosmicLink\n// CosmicLink.transactionNode  < HTML description of the transaction\n// CosmicLink.signersNode      < HTML element for the signers list\n// CosmicLink.statusNode       < HTML element for the transaction status & errors\n * ```\n *\n * @constructor\n * @param {*} transaction\n * @param {test|public} [userNetwork] The Stellar network to use, will be public\n *     by default.\n * @param {string} [userAddress] This is the fallback source address when none\n *     is specified from the transaction.\n * @param {Object} options Additional options\n */\n\nvar CosmicLink = exports.CosmicLink = function () {\n  function CosmicLink(transaction, network, user, options) {\n    var _this = this;\n\n    _classCallCheck(this, CosmicLink);\n\n    if (user) this.user = user;\n    if (network) this.network = network;\n\n    this.onClick = event.defaultHandler;\n    if (!this._page) this._page = CosmicLink.page;\n    this.aliases = CosmicLink.aliases;\n\n    this.formatHandlers = {};\n    for (var _format in CosmicLink.formatHandlers) {\n      var handlers = CosmicLink.formatHandlers[_format];\n      this.formatHandlers[_format] = handlers.slice(0);\n    }\n\n    if (typeof document !== 'undefined') {\n      var htmlNode = node.grab('#CL_htmlNode');\n      /// Backward compatibility\n      if (!htmlNode) htmlNode = node.grab('#CL_transactionNode');\n      if (htmlNode) makeHtmlNodes(this, htmlNode);\n    }\n\n    _parse.dispatch(this, transaction, options);\n\n    /// Fallback only when network is not set from the URI.\n    if (!this.network) this.network = CosmicLink.network;\n\n    this.getSourceAccount = helpers.delay(function () {\n      return resolve.getSourceAccount(_this);\n    });\n    this.getSigners = helpers.delay(function () {\n      return resolve.signers(_this);\n    });\n  }\n\n  _createClass(CosmicLink, [{\n    key: 'parse',\n    value: function parse(transaction, options) {\n      _parse.dispatch(this, transaction, options);\n    }\n  }, {\n    key: 'getSource',\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var tdesc;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getTdesc();\n\n              case 2:\n                tdesc = _context.sent;\n\n                if (!tdesc.source) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt('return', tdesc.source);\n\n              case 7:\n                if (!this.user) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return', this.user);\n\n              case 11:\n                throw new Error('No source defined for this transaction');\n\n              case 12:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSource() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getSource;\n    }()\n  }, {\n    key: 'hasSigner',\n    value: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(value) {\n        var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key';\n        var signers;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getSigners();\n\n              case 2:\n                signers = _context2.sent;\n                return _context2.abrupt('return', signers.find(function (entry) {\n                  return entry.value === value && entry.type === type;\n                }));\n\n              case 4:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function hasSigner(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return hasSigner;\n    }()\n  }, {\n    key: 'hasSigned',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(value) {\n        var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key';\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return resolve.hasSigned(this, type, value);\n\n              case 2:\n                return _context3.abrupt('return', _context3.sent);\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function hasSigned(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return hasSigned;\n    }()\n\n    /// Actions\n\n  }, {\n    key: 'selectNetwork',\n    value: function selectNetwork() {\n      resolve.network(this, this.network);\n    }\n  }, {\n    key: 'sign',\n    value: function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(seed) {\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return action.sign(this, seed);\n\n              case 2:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function sign(_x5) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return sign;\n    }()\n  }, {\n    key: 'send',\n    value: function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(server) {\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return action.send(this, server);\n\n              case 2:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function send(_x6) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return send;\n    }()\n\n    /// Aliases\n\n  }, {\n    key: 'addAliases',\n    value: function addAliases(aliasesArg) {\n      aliases.add(this, aliasesArg);\n    }\n  }, {\n    key: 'removeAliases',\n    value: function removeAliases(array) {\n      aliases.remove(this, aliases);\n    }\n\n    /// Datas\n\n  }, {\n    key: 'page',\n    get: function get() {\n      return this._page;\n    },\n    set: function set(uri) {\n      _parse.page(this, uri);\n    }\n  }, {\n    key: 'network',\n    get: function get() {\n      return this._network;\n    },\n    set: function set(network) {\n      _parse.network(this, network);\n    }\n\n    /// HTML\n\n  }, {\n    key: 'htmlNode',\n    get: function get() {\n      if (!this._htmlNode) makeHtmlNodes(this);\n      return this._htmlNode;\n    },\n    set: function set(value) {\n      this._htmlNode = value;\n    }\n  }, {\n    key: 'transactionNode',\n    get: function get() {\n      this.htmlNode;\n      return this._transactionNode;\n    },\n    set: function set(value) {\n      this._transactionNode = value;\n    }\n  }, {\n    key: 'statusNode',\n    get: function get() {\n      this.htmlNode;\n      return this._statusNode;\n    },\n    set: function set(value) {\n      this._statusNode = value;\n    }\n  }, {\n    key: 'signersNode',\n    get: function get() {\n      this.htmlNode;\n      return this._signersNode;\n    },\n    set: function set(value) {\n      this._signersNode = value;\n    }\n  }]);\n\n  return CosmicLink;\n}();\n\n/// Class-wide configuration\n\n\nCosmicLink.page = 'https://cosmic.link/';\nCosmicLink.network = 'public';\n\nCosmicLink.aliases = aliases.all;\nCosmicLink.addAliases = function (aliases) {\n  aliases.add(CosmicLink, aliases);\n};\nCosmicLink.removeAliases = function (array) {\n  aliases.remove(CosmicLink, array);\n};\n\nCosmicLink.formatHandlers = {};\nCosmicLink.addFormatHandler = function (format, callback) {\n  event.addFormatHandler(CosmicLink, format, callback);\n};\nCosmicLink.removeFormatHandler = function (format, callback) {\n  event.removeFormatHandler(CosmicLink, format, callback);\n};\n\nfunction makeHtmlNodes(cosmicLink, htmlNode) {\n  if (htmlNode) {\n    node.clear(htmlNode);\n    htmlNode.className = 'CL_htmlNode';\n  } else htmlNode = node.create('div', '.CL_htmlNode');\n  cosmicLink._htmlNode = htmlNode;\n\n  var nodes = ['_transactionNode', '_statusNode', '_signersNode'];\n  for (var index in nodes) {\n    var name = nodes[index];\n    cosmicLink[name] = node.create('div', '.CL' + name);\n    node.append(htmlNode, cosmicLink[name]);\n  }\n\n  node.append(cosmicLink._statusNode, node.create('span', '.CL_status'), node.create('ul', '.CL_events'));\n\n  if (cosmicLink.getTdesc) format.tdesc(cosmicLink);\n  status.populateHtmlNode(cosmicLink);\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvaW5kZXguanM/OTk0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IG5vdGhpbmcgZnJvbSAnLi9wb2x5ZmlsbCdcblxuY29uc3QgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpXG5jb25zdCBhY3Rpb24gPSByZXF1aXJlKCcuL2FjdGlvbicpXG5jb25zdCBldmVudCA9IHJlcXVpcmUoJy4vZXZlbnQnKVxuY29uc3QgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJylcbmNvbnN0IHJlc29sdmUgPSByZXF1aXJlKCcuL3Jlc29sdmUnKVxuY29uc3Qgc3RhdHVzID0gcmVxdWlyZSgnLi9zdGF0dXMnKVxuY29uc3QgYWxpYXNlcyA9IHJlcXVpcmUoJy4vYWxpYXNlcycpXG5cbmxldCBub2RlLCBmb3JtYXRcbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gIG5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICBmb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdCcpXG4gIHJlcXVpcmUoJy4vY29zbWljLWxpYi5jc3MnKVxufSBlbHNlIGlmICh0eXBlb2YgU3RlbGxhclNkayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgZ2xvYmFsLlN0ZWxsYXJTZGsgPSByZXF1aXJlKCdzdGVsbGFyLXNkaycpXG59XG5cbi8qKlxuICogQSBgQ29zbWljTGlua2Agb2JqZWN0IHJlcHJlc2VudHMgYSBTdGVsbGFyIHRyYW5zYWN0aW9uLiBJdCBjYW4gYmUgY3JlYXRlZFxuICogZnJvbSBhbiBhY3R1YWwgY29zbWljIGxpbmsgb3IgYW55IGxpbmsgYnVpbGQgd2l0aCBhIGNvc21pYyBsaW5rIHF1ZXJ5LCBidXRcbiAqIGFsc28gZnJvbSBhIFN0ZWxsYXIgVHJhbnNhY3Rpb24gb2JqZWN0IG9yIGl0cyBYRFIgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQWRkaXRpb25hbGx5LCBpdCBjYW4gYmUgcGFyc2VkIGZyb20gYSBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAsIHdoaWNoIHRoZVxuICogc2ltcGxpZmllZCBmb3JtYXQgYENvc21pY0xpbmtgcyBhcmUgdXNpbmcgdG8gcmVwcmVzZW50IFN0ZWxsYXIgdHJhbnNhY3Rpb24uXG4gKiBUaGlzIGB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yYCBjYW4gYmUgd3JpdHRlbiBpbiBpdHMgb2JqZWN0aWZpZWQgZm9ybVxuICogKHJlZmVycmVkIGFzIGB0ZGVzY2ApIG9yIHN0cmluZ2lmaWVkIGZvcm0gKHJlZmVycmVkIGFzIGBqc29uYCkuXG4gKlxuICogVG8gbWFrZSBhIGBDb3NtaWNMaW5rYCBvYmplY3QsIHlvdSdsbCBuZWVkIHRvIHByb3ZpZGUgdGhlIG5ldHdvcmsgb24gd2ljaFxuICogaXQgaXMgdmFsaWQsIGFuZCBtYXkgd2FudCB0byBwcm92aWRlIGEgZGVmYXVsdCB1c2VyLCB3aGljaCBjb3VsZCBiZSB5b3VyXG4gKiBhY2NvdW50SUQgb3IgdGhlIGFjY291bnRJRCBvZiBhbnlib2R5IHVzaW5nIHlvdXIgc2VydmljZS5cbiAqXG4gKiBDaGVhdCBzaGVldDpcbiAqYGBgXG4vLyAtLS0gQ29uc3RydWN0b3IgLS0tXG4vLyBuZXcgQ29zbWljTGluayh1cmksIFwiW3VzZXJOZXR3b3JrXVwiLCBcIlt1c2VyQWRkcmVzc11cIilcbi8vIG5ldyBDb3NtaWNMaW5rKHF1ZXJ5LCBcIlt1c2VyTmV0d29ya11cIiwgXCJbdXNlckFkZHJlc3NdXCIpXG4vLyBuZXcgQ29zbWljTGluayh0cmFuc2FjdGlvbiwgXCJbdXNlck5ldHdvcmtdXCIsIFwiW3VzZXJBZGRyZXNzXVwiLCB7Li4ub3B0aW9uc30pXG4vLyBuZXcgQ29zbWljTGluayh4ZHIsIFwiW3VzZXJOZXR3b3JrXVwiLCBcIlt1c2VyQWRkcmVzc11cIiwgey4uLm9wdGlvbnN9KVxuLy9cbi8vIC0tLSBPcHRpb25zIGZvciB0cmFuc2FjdGlvbiAmIHhkciAtLS1cbi8vIHN0cmlwU291cmNlID0gdHJ1ZSAgICAgIDwgU3RyaXAgb3V0IHNvdXJjZSBhY2NvdW50XG4vLyBzdHJpcFNlcXVlbmNlID0gdHJ1ZSAgICA8IFN0cmlwIG91dCBzZXF1ZW5jZSBudW1iZXJcbi8vIHN0cmlwU2lnbmF0dXJlcyA9IHRydWUgIDwgU3RyaXAgb3V0IHNpZ25hdHVyZXNcbi8vIG5ldHdvcmsgPSAuLi4gICAgICAgICAgIDwgU3BlY2lmeSBhIG5ldHdvcmsgZm9yIHRoaXMgdHJhbnNhY3Rpb24gKGtlcHQgaW4gVVJJIGFmdGVyIGNvbnZlcnNpb24pXG4vL1xuLy8gLS0tIEVkaXQgLS0tXG4vLyBDb3NtaWNMaW5rLnBhcnNlKGFueS1mb3JtYXQsIHsuLi5vcHRpb25zfSlcbi8vICpDb3NtaWNMaW5rLnNldEZpZWxkKGZpZWxkLCB2YWx1ZSlcbi8vICpDb3NtaWNMaW5rLmFkZE9wZXJhdGlvbih7Li4ucGFyYW1zfSlcbi8vICpDb3NtaWNMaW5rLmNoYW5nZU9wZXJhdGlvbihpbmRleCwgey4uLnBhcmFtc30pXG4vLyAqQ29zbWljTGluay5yZW1vdmVPcGVyYXRpb24oaW5kZXgpXG4vL1xuLy8gLS0tIEZvcm1hdHMgKGdldCkgLS0tXG4vLyBDb3NtaWNMaW5rLmdldFVyaSgpICAgICAgICAgIDwgUmV0dXJuIGEgcHJvbWlzZSBvZiB0aGUgVVJJIHN0cmluZ1xuLy8gQ29zbWljTGluay5nZXRRdWVyeSgpICAgICAgICA8IFJldHVybiBhIHByb21pc2Ugb2YgdGhlIHF1ZXJ5IHN0cmluZ1xuLy8gQ29zbWljTGluay5nZXRKc29uKCkgICAgICAgICA8IFJldHVybiBzdHJpbmdpZmllZCBKU09OIG9mIHRoZSBvYmplY3Rcbi8vIENvc21pY0xpbmsuZ2V0VGRlc2MoKSAgICAgICAgPCBSZXR1cm4gYSBwcm9taXNlIG9mIHRoZSB0cmFuc2FjdGlvbiBkZXNjcmlwdG9yXG4vLyBDb3NtaWNMaW5rLmdldFRyYW5zYWN0aW9uKCkgIDwgUmV0dXJuIGEgcHJvbWlzZSBvZiB0aGUgdHJhbnNhY3Rpb25cbi8vIENvc21pY0xpbmsuZ2V0WGRyKCkgICAgICAgICAgPCBSZXR1cm4gYSBwcm9taXNlIG9mIHRoZSB0cmFuc2FjdGlvbidzIFhEUlxuLy9cbi8vIC0tLSBIYW5kbGVycyAtLS1cbi8vIENvc21pY0xpbmsuYWRkRm9ybWF0SGFuZGxlcihmb3JtYXQsIGNhbGxiYWNrKVxuLy8gQ29zbWljTGluay5yZW1vdmVGb3JtYXRIYW5kbGVyKGZvcm1hdCwgY2FsbGJhY2spXG4vLyBjYWxsYmFjayB3aWxsIHJlY2VpdmUgZXZlbnQgPSB7IGNvc21pY0xpbms6IC4uLiwgdmFsdWU6IC4uLiwgZXJyb3I6IC4uLiB9XG4vL1xuLy8gLS0tIERhdGFzIC0tLSAgICAgICAgICAgPDw8IFVwZGF0ZSBldmVyeXRoaW5nIG9uIHRoZSBnbyA+Pj5cbi8vIENvc21pY0xpbmsudXNlciAgICAgICAgIDwgVXNlciBhZGRyZXNzXG4vLyBDb3NtaWNMaW5rLm5ldHdvcmsgICAgICA8IFRlc3QvUHVibGljIG5ldHdvcmtcbi8vIENvc21pY0xpbmsuc2VydmVyICAgICAgIDwgVGhlIGhvcml6b24gc2VydmVyIHRvIHVzZVxuLy8gQ29zbWljTGluay5wYWdlICAgICAgICAgPCBUaGUgYmFzZSBVUkksIHdpdGhvdXQgdGhlIHF1ZXJ5XG4vLyBDb3NtaWNMaW5rLnN0YXR1cyAgICAgICA8IFN0YXR1cyBvZiB0aGUgQ29zbWljTGluayAodmFsaWQgb3Igc3BlY2lmaWMgZXJyb3IpXG4vLyBDb3NtaWNMaW5rLmVycm9ycyAgICAgICA8IEFuIGFycmF5IG9mIGVycm9ycyAob3IgdW5kZWZpbmVkIGlmIG5vIGVycm9yKVxuLy9cbi8vIC0tLSBEYXRhcyAoYXN5bmNocm9ub3VzKSAtLS1cbi8vIENvc21pY0xpbmsuZ2V0U291cmNlKCkgICAgICAgICA8IFRyYW5zYWN0aW9uIHNvdXJjZVxuLy8gQ29zbWljTGluay5nZXRTb3VyY2VBY2NvdW50KCkgIDwgVHJhbnNhY3Rpb24gc291cmNlIGFjY291bnQgb2JqZWN0XG4vLyBDb3NtaWNMaW5rLmdldFNpZ25lcnMoKSAgICAgICAgPCBBcnJheSBvZiBsZWdpdCBzaWduZXJzXG4vL1xuLy8gLS0tIEFsaWFzZXMgLS0tXG4vLyBDb3NtaWNMaW5rLmFsaWFzZXMgICAgICAgICAgICAgICAgICAgICA8IExvY2FsIGFsaWFzZXMgZm9yIHB1YmxpYyBrZXlzXG4vLyBDb3NtaWNMaW5rLmFkZEFsaWFzZXMoe2lkOiBuYW1lLC4uLn0pICA8IEFwcGVuZCBuZXcgYWxpYXNlc1xuLy8gQ29zbWljTGluay5yZW1vdmVBbGlhc2VzKFtpZC4uLl0pICAgICAgPCBSZW1vdmUgYWxpYXNlc1xuLy9cbi8vIC0tLSBUZXN0cyAtLS1cbi8vIENvc21pY0xpbmsuaGFzU2lnbmVyKHB1YmxpY0tleSkgICA8IFRlc3QgaWYgYHB1YmxpY0tleWAgaXMgYSBzaWduZXIgZm9yIENvc21pY0xpbmtcbi8vIENvc21pY0xpbmsuaGFzU2lnbmVkKHB1YmxpY0tleSkgICA8IFRlc3QgaWYgYHB1YmxpY0tleWAgc2lnbmF0dXJlIGlzIGF2YWlsYWJsZVxuLy9cbi8vIC0tLSBBY3Rpb25zIC0tLVxuLy8gQ29zbWljTGluay5zZWxlY3ROZXR3b3JrKCkgIDwgU2VsZWN0IENvc21pY0xpbmsgbmV0d29yayBmb3IgU3RlbGxhciBTREtcbi8vIENvc21pY0xpbmsuc2lnbihzZWVkKSAgICAgICA8IFNpZ24gdGhlIHRyYW5zYWN0aW9uXG4vLyBDb3NtaWNMaW5rLnNlbmQoW3NlcnZlcl0pICAgPCBTZW5kIHRoZSB0cmFuc2FjdGlvbiB0byB0aGUgbmV0d29ya1xuLy9cbi8vIC0tLSBFdmVudHMgLS0tXG4vLyBDb3NtaWNMaW5rLm9uQ2xpY2sudHlwZSAgICAgIDwgRm9yIG9uQ2xpY2sgZXZlbnRzIG9uIHRoZSBIVE1MIGRlc2NyaXB0aW9uXG4vL1xuLy8gLS0tIEhUTUwgTm9kZXMgLS0tXG4vLyBDb3NtaWNMaW5rLmh0bWxOb2RlICAgICAgICAgPCBIVE1MIGVsZW1lbnQgZm9yIENvc21pY0xpbmtcbi8vIENvc21pY0xpbmsudHJhbnNhY3Rpb25Ob2RlICA8IEhUTUwgZGVzY3JpcHRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4vLyBDb3NtaWNMaW5rLnNpZ25lcnNOb2RlICAgICAgPCBIVE1MIGVsZW1lbnQgZm9yIHRoZSBzaWduZXJzIGxpc3Rcbi8vIENvc21pY0xpbmsuc3RhdHVzTm9kZSAgICAgICA8IEhUTUwgZWxlbWVudCBmb3IgdGhlIHRyYW5zYWN0aW9uIHN0YXR1cyAmIGVycm9yc1xuICogYGBgXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0geyp9IHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0ge3Rlc3R8cHVibGljfSBbdXNlck5ldHdvcmtdIFRoZSBTdGVsbGFyIG5ldHdvcmsgdG8gdXNlLCB3aWxsIGJlIHB1YmxpY1xuICogICAgIGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZGRyZXNzXSBUaGlzIGlzIHRoZSBmYWxsYmFjayBzb3VyY2UgYWRkcmVzcyB3aGVuIG5vbmVcbiAqICAgICBpcyBzcGVjaWZpZWQgZnJvbSB0aGUgdHJhbnNhY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvc21pY0xpbmsge1xuICBjb25zdHJ1Y3RvciAodHJhbnNhY3Rpb24sIG5ldHdvcmssIHVzZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAodXNlcikgdGhpcy51c2VyID0gdXNlclxuICAgIGlmIChuZXR3b3JrKSB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrXG5cbiAgICB0aGlzLm9uQ2xpY2sgPSBldmVudC5kZWZhdWx0SGFuZGxlclxuICAgIGlmICghdGhpcy5fcGFnZSkgdGhpcy5fcGFnZSA9IENvc21pY0xpbmsucGFnZVxuICAgIHRoaXMuYWxpYXNlcyA9IENvc21pY0xpbmsuYWxpYXNlc1xuXG4gICAgdGhpcy5mb3JtYXRIYW5kbGVycyA9IHt9XG4gICAgZm9yIChsZXQgZm9ybWF0IGluIENvc21pY0xpbmsuZm9ybWF0SGFuZGxlcnMpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXJzID0gQ29zbWljTGluay5mb3JtYXRIYW5kbGVyc1tmb3JtYXRdXG4gICAgICB0aGlzLmZvcm1hdEhhbmRsZXJzW2Zvcm1hdF0gPSBoYW5kbGVycy5zbGljZSgwKVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsZXQgaHRtbE5vZGUgPSBub2RlLmdyYWIoJyNDTF9odG1sTm9kZScpXG4gICAgICAvLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgaWYgKCFodG1sTm9kZSkgaHRtbE5vZGUgPSBub2RlLmdyYWIoJyNDTF90cmFuc2FjdGlvbk5vZGUnKVxuICAgICAgaWYgKGh0bWxOb2RlKSBtYWtlSHRtbE5vZGVzKHRoaXMsIGh0bWxOb2RlKVxuICAgIH1cblxuICAgIHBhcnNlLmRpc3BhdGNoKHRoaXMsIHRyYW5zYWN0aW9uLCBvcHRpb25zKVxuXG4gICAgLy8vIEZhbGxiYWNrIG9ubHkgd2hlbiBuZXR3b3JrIGlzIG5vdCBzZXQgZnJvbSB0aGUgVVJJLlxuICAgIGlmICghdGhpcy5uZXR3b3JrKSB0aGlzLm5ldHdvcmsgPSBDb3NtaWNMaW5rLm5ldHdvcmtcblxuICAgIHRoaXMuZ2V0U291cmNlQWNjb3VudCA9IGhlbHBlcnMuZGVsYXkoKCkgPT4gcmVzb2x2ZS5nZXRTb3VyY2VBY2NvdW50KHRoaXMpKVxuICAgIHRoaXMuZ2V0U2lnbmVycyA9IGhlbHBlcnMuZGVsYXkoKCkgPT4gcmVzb2x2ZS5zaWduZXJzKHRoaXMpKVxuICB9XG5cbiAgcGFyc2UgKHRyYW5zYWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcGFyc2UuZGlzcGF0Y2godGhpcywgdHJhbnNhY3Rpb24sIG9wdGlvbnMpXG4gIH1cblxuICBhc3luYyBnZXRTb3VyY2UgKCkge1xuICAgIGNvbnN0IHRkZXNjID0gYXdhaXQgdGhpcy5nZXRUZGVzYygpXG4gICAgaWYgKHRkZXNjLnNvdXJjZSkgcmV0dXJuIHRkZXNjLnNvdXJjZVxuICAgIGVsc2UgaWYgKHRoaXMudXNlcikgcmV0dXJuIHRoaXMudXNlclxuICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdObyBzb3VyY2UgZGVmaW5lZCBmb3IgdGhpcyB0cmFuc2FjdGlvbicpXG4gIH1cblxuICBhc3luYyBoYXNTaWduZXIgKHZhbHVlLCB0eXBlID0gJ2tleScpIHtcbiAgICBjb25zdCBzaWduZXJzID0gYXdhaXQgdGhpcy5nZXRTaWduZXJzKClcbiAgICByZXR1cm4gc2lnbmVycy5maW5kKGVudHJ5ID0+IGVudHJ5LnZhbHVlID09PSB2YWx1ZSAmJiBlbnRyeS50eXBlID09PSB0eXBlKVxuICB9XG5cbiAgYXN5bmMgaGFzU2lnbmVkICh2YWx1ZSwgdHlwZSA9ICdrZXknKSB7XG4gICAgcmV0dXJuIGF3YWl0IHJlc29sdmUuaGFzU2lnbmVkKHRoaXMsIHR5cGUsIHZhbHVlKVxuICB9XG5cbiAgLy8vIEFjdGlvbnNcbiAgc2VsZWN0TmV0d29yayAoKSB7IHJlc29sdmUubmV0d29yayh0aGlzLCB0aGlzLm5ldHdvcmspIH1cbiAgYXN5bmMgc2lnbiAoc2VlZCkgeyBhd2FpdCBhY3Rpb24uc2lnbih0aGlzLCBzZWVkKSB9XG4gIGFzeW5jIHNlbmQgKHNlcnZlcikgeyBhd2FpdCBhY3Rpb24uc2VuZCh0aGlzLCBzZXJ2ZXIpIH1cblxuICAvLy8gQWxpYXNlc1xuICBhZGRBbGlhc2VzIChhbGlhc2VzQXJnKSB7IGFsaWFzZXMuYWRkKHRoaXMsIGFsaWFzZXNBcmcpIH1cbiAgcmVtb3ZlQWxpYXNlcyAoYXJyYXkpIHsgYWxpYXNlcy5yZW1vdmUodGhpcywgYWxpYXNlcykgfVxuXG4gIC8vLyBEYXRhc1xuICBnZXQgcGFnZSAoKSB7IHJldHVybiB0aGlzLl9wYWdlIH1cbiAgc2V0IHBhZ2UgKHVyaSkgeyBwYXJzZS5wYWdlKHRoaXMsIHVyaSkgfVxuXG4gIGdldCBuZXR3b3JrICgpIHsgcmV0dXJuIHRoaXMuX25ldHdvcmsgfVxuICBzZXQgbmV0d29yayAobmV0d29yaykgeyBwYXJzZS5uZXR3b3JrKHRoaXMsIG5ldHdvcmspIH1cblxuICAvLy8gSFRNTFxuICBnZXQgaHRtbE5vZGUgKCkge1xuICAgIGlmICghdGhpcy5faHRtbE5vZGUpIG1ha2VIdG1sTm9kZXModGhpcylcbiAgICByZXR1cm4gdGhpcy5faHRtbE5vZGVcbiAgfVxuICBzZXQgaHRtbE5vZGUgKHZhbHVlKSB7IHRoaXMuX2h0bWxOb2RlID0gdmFsdWUgfVxuXG4gIGdldCB0cmFuc2FjdGlvbk5vZGUgKCkge1xuICAgIHRoaXMuaHRtbE5vZGVcbiAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb25Ob2RlXG4gIH1cbiAgc2V0IHRyYW5zYWN0aW9uTm9kZSAodmFsdWUpIHsgdGhpcy5fdHJhbnNhY3Rpb25Ob2RlID0gdmFsdWUgfVxuXG4gIGdldCBzdGF0dXNOb2RlICgpIHtcbiAgICB0aGlzLmh0bWxOb2RlXG4gICAgcmV0dXJuIHRoaXMuX3N0YXR1c05vZGVcbiAgfVxuICBzZXQgc3RhdHVzTm9kZSAodmFsdWUpIHsgdGhpcy5fc3RhdHVzTm9kZSA9IHZhbHVlIH1cblxuICBnZXQgc2lnbmVyc05vZGUgKCkge1xuICAgIHRoaXMuaHRtbE5vZGVcbiAgICByZXR1cm4gdGhpcy5fc2lnbmVyc05vZGVcbiAgfVxuICBzZXQgc2lnbmVyc05vZGUgKHZhbHVlKSB7IHRoaXMuX3NpZ25lcnNOb2RlID0gdmFsdWUgfVxufVxuXG4vLy8gQ2xhc3Mtd2lkZSBjb25maWd1cmF0aW9uXG5Db3NtaWNMaW5rLnBhZ2UgPSAnaHR0cHM6Ly9jb3NtaWMubGluay8nXG5Db3NtaWNMaW5rLm5ldHdvcmsgPSAncHVibGljJ1xuXG5Db3NtaWNMaW5rLmFsaWFzZXMgPSBhbGlhc2VzLmFsbFxuQ29zbWljTGluay5hZGRBbGlhc2VzID0gZnVuY3Rpb24gKGFsaWFzZXMpIHsgYWxpYXNlcy5hZGQoQ29zbWljTGluaywgYWxpYXNlcykgfVxuQ29zbWljTGluay5yZW1vdmVBbGlhc2VzID0gZnVuY3Rpb24gKGFycmF5KSB7IGFsaWFzZXMucmVtb3ZlKENvc21pY0xpbmssIGFycmF5KSB9XG5cbkNvc21pY0xpbmsuZm9ybWF0SGFuZGxlcnMgPSB7fVxuQ29zbWljTGluay5hZGRGb3JtYXRIYW5kbGVyID0gZnVuY3Rpb24gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgZXZlbnQuYWRkRm9ybWF0SGFuZGxlcihDb3NtaWNMaW5rLCBmb3JtYXQsIGNhbGxiYWNrKVxufVxuQ29zbWljTGluay5yZW1vdmVGb3JtYXRIYW5kbGVyID0gZnVuY3Rpb24gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgZXZlbnQucmVtb3ZlRm9ybWF0SGFuZGxlcihDb3NtaWNMaW5rLCBmb3JtYXQsIGNhbGxiYWNrKVxufVxuXG5mdW5jdGlvbiBtYWtlSHRtbE5vZGVzIChjb3NtaWNMaW5rLCBodG1sTm9kZSkge1xuICBpZiAoaHRtbE5vZGUpIHtcbiAgICBub2RlLmNsZWFyKGh0bWxOb2RlKVxuICAgIGh0bWxOb2RlLmNsYXNzTmFtZSA9ICdDTF9odG1sTm9kZSdcbiAgfSBlbHNlIGh0bWxOb2RlID0gbm9kZS5jcmVhdGUoJ2RpdicsICcuQ0xfaHRtbE5vZGUnKVxuICBjb3NtaWNMaW5rLl9odG1sTm9kZSA9IGh0bWxOb2RlXG5cbiAgY29uc3Qgbm9kZXMgPSBbJ190cmFuc2FjdGlvbk5vZGUnLCAnX3N0YXR1c05vZGUnLCAnX3NpZ25lcnNOb2RlJ11cbiAgZm9yIChsZXQgaW5kZXggaW4gbm9kZXMpIHtcbiAgICBjb25zdCBuYW1lID0gbm9kZXNbaW5kZXhdXG4gICAgY29zbWljTGlua1tuYW1lXSA9IG5vZGUuY3JlYXRlKCdkaXYnLCAnLkNMJyArIG5hbWUpXG4gICAgbm9kZS5hcHBlbmQoaHRtbE5vZGUsIGNvc21pY0xpbmtbbmFtZV0pXG4gIH1cblxuICBub2RlLmFwcGVuZChjb3NtaWNMaW5rLl9zdGF0dXNOb2RlLFxuICAgIG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9zdGF0dXMnKSxcbiAgICBub2RlLmNyZWF0ZSgndWwnLCAnLkNMX2V2ZW50cycpXG4gIClcblxuICBpZiAoY29zbWljTGluay5nZXRUZGVzYykgZm9ybWF0LnRkZXNjKGNvc21pY0xpbmspXG4gIHN0YXR1cy5wb3B1bGF0ZUh0bWxOb2RlKGNvc21pY0xpbmspXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNkZBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQUdBO0FBQ0E7O0FBREE7QUFDQTtBQUFBOzs7OztBQUFBO0FBQ0E7O0FBQUE7Ozs7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBOzs7Ozs7O0FBQ0E7QUFDQTs7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBOzs7Ozs7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTs7O0FBQUE7QUFBQTtBQUFBOzs7O0FBQ0E7Ozs7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUFBOzs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/index.js\n");

/***/ }),

/***/ "./src/cosmic-lib/node.js":
/*!********************************!*\
  !*** ./src/cosmic-lib/node.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n'use_strict';\n/**\n * Utilities to manipulate HTML element from javascript.\n *\n * Those may not be feature complete, as this library purpose is to ease\n * cosmic-lib and Stellar Authenticator development, rather than provide a\n * generic-case toolbox.\n *\n * @exports node\n */\n\nvar node = exports;\n\n/**\n * Append `childs` as the end of `element`.\n *\n * @param {HTMLElement} element\n * @param {...(HTMLElement|String|Error)} childs\n */\nnode.append = function (element) {\n  for (var _len = arguments.length, childs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    childs[_key - 1] = arguments[_key];\n  }\n\n  childs.forEach(function (child) {\n    if (typeof child === 'string' || child instanceof Error) {\n      element.appendChild(document.createTextNode(child));\n    } else {\n      element.appendChild(child);\n    }\n  });\n};\n\n/**\n * Add `newClass` as an additionnal class for `element`.\n *\n * @param {HTMLElement} element\n * @param {string} newClass\n * */\nnode.appendClass = function (element, newClass) {\n  element.className += ' ' + newClass;\n};\n\n/**\n * Remove everything inside `element`.\n *\n * @param {HTMLElement} element\n * */\nnode.clear = function (element) {\n  element.innerHTML = '';\n};\n\n/**\n * Copy text inside `element`. `element` should be a textbox like textarea or\n * text input.\n *\n * @param {HTMLElement} element\n * @param\n * */\nnode.copyContent = function (element) {\n  element.select();\n  return document.execCommand('copy');\n};\n\n/**\n * Return a newly created HTML element whose tag is `name`, attributes\n * `attributes` and childs `childs`.\n *\n * @param {string} name\n * @param {object|string} [attributes|className|ID]\n * @param {...HTMLElement} [childs]\n */\nnode.create = function (name, attributes) {\n  if (!name) throw new Error('Missing tag name');\n\n  var element = document.createElement(name);\n\n  if (typeof attributes === 'string') {\n    switch (attributes.substr(0, 1)) {\n      case '#':\n        element.id = attributes.substr(1);break;\n      case '.':\n        element.className = attributes.substr(1);break;\n      default:\n        throw new Error('Unhandled attribute');\n    }\n  } else {\n    var field = void 0;for (field in attributes) {\n      element[field] = attributes[field];\n    }\n  }\n\n  for (var _len2 = arguments.length, childs = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    childs[_key2 - 2] = arguments[_key2];\n  }\n\n  if (childs.length > 0) node.append.apply(node, [element].concat(childs));\n\n  return element;\n};\n\n/**\n * Destroy `element`.\n *\n * @param {HTMLElement} element\n * */\nnode.destroy = function (element) {\n  try {\n    element.innerHTML = '';\n    if (element.parentNode) element.parentNode.removeChild(element);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n/**\n * Return the first element matching `pattern`.\n * If `name` starts with `#`, it will match against IDs.\n * If `name` starts with `.`, it will match against classes.\n * If `name` is a plain word, it will match against tags.\n * If `parent` is given, it will look recursively in `parent` childs.\n *\n * @param {string} pattern\n * @param {HTMLElement} [parent=document]\n * */\nnode.grab = function (pattern) {\n  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n  return parent.querySelector(pattern);\n};\n\n/**\n * Set the `style.display` property of `...elements` to `block`.\n *\n * @param {...HTMLElement} elements\n */\nnode.show = function () {\n  for (var _len3 = arguments.length, elements = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    elements[_key3] = arguments[_key3];\n  }\n\n  elements.forEach(function (element) {\n    return element.style.display = 'block';\n  });\n};\n\n/** Set the `style.display` property of `...elements` to `none`.\n *\n * @param {...HTMLElement} elements\n */\nnode.hide = function () {\n  for (var _len4 = arguments.length, elements = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    elements[_key4] = arguments[_key4];\n  }\n\n  elements.forEach(function (element) {\n    return element.style.display = 'none';\n  });\n};\n\n/**\n * Set the content of element to ...childs. Any previous content will be erased.\n *\n * @param {HTMLElement} element\n * @param {...HTMLElement} childs\n */\nnode.rewrite = function (element) {\n  node.clear(element);\n\n  for (var _len5 = arguments.length, childs = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    childs[_key5 - 1] = arguments[_key5];\n  }\n\n  node.append.apply(node, [element].concat(childs));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9ub2RlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9ub2RlLmpzPzJiYzUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZV9zdHJpY3QnXG4vKipcbiAqIFV0aWxpdGllcyB0byBtYW5pcHVsYXRlIEhUTUwgZWxlbWVudCBmcm9tIGphdmFzY3JpcHQuXG4gKlxuICogVGhvc2UgbWF5IG5vdCBiZSBmZWF0dXJlIGNvbXBsZXRlLCBhcyB0aGlzIGxpYnJhcnkgcHVycG9zZSBpcyB0byBlYXNlXG4gKiBjb3NtaWMtbGliIGFuZCBTdGVsbGFyIEF1dGhlbnRpY2F0b3IgZGV2ZWxvcG1lbnQsIHJhdGhlciB0aGFuIHByb3ZpZGUgYVxuICogZ2VuZXJpYy1jYXNlIHRvb2xib3guXG4gKlxuICogQGV4cG9ydHMgbm9kZVxuICovXG5jb25zdCBub2RlID0gZXhwb3J0c1xuXG4vKipcbiAqIEFwcGVuZCBgY2hpbGRzYCBhcyB0aGUgZW5kIG9mIGBlbGVtZW50YC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gey4uLihIVE1MRWxlbWVudHxTdHJpbmd8RXJyb3IpfSBjaGlsZHNcbiAqL1xubm9kZS5hcHBlbmQgPSBmdW5jdGlvbiAoZWxlbWVudCwgLi4uY2hpbGRzKSB7XG4gIGNoaWxkcy5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJyB8fCBjaGlsZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkKSlcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZClcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogQWRkIGBuZXdDbGFzc2AgYXMgYW4gYWRkaXRpb25uYWwgY2xhc3MgZm9yIGBlbGVtZW50YC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NcbiAqICovXG5ub2RlLmFwcGVuZENsYXNzID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5ld0NsYXNzKSB7XG4gIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIG5ld0NsYXNzXG59XG5cbi8qKlxuICogUmVtb3ZlIGV2ZXJ5dGhpbmcgaW5zaWRlIGBlbGVtZW50YC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiAqL1xubm9kZS5jbGVhciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIGVsZW1lbnQuaW5uZXJIVE1MID0gJydcbn1cblxuLyoqXG4gKiBDb3B5IHRleHQgaW5zaWRlIGBlbGVtZW50YC4gYGVsZW1lbnRgIHNob3VsZCBiZSBhIHRleHRib3ggbGlrZSB0ZXh0YXJlYSBvclxuICogdGV4dCBpbnB1dC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW1cbiAqICovXG5ub2RlLmNvcHlDb250ZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5zZWxlY3QoKVxuICByZXR1cm4gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKVxufVxuXG4vKipcbiAqIFJldHVybiBhIG5ld2x5IGNyZWF0ZWQgSFRNTCBlbGVtZW50IHdob3NlIHRhZyBpcyBgbmFtZWAsIGF0dHJpYnV0ZXNcbiAqIGBhdHRyaWJ1dGVzYCBhbmQgY2hpbGRzIGBjaGlsZHNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IFthdHRyaWJ1dGVzfGNsYXNzTmFtZXxJRF1cbiAqIEBwYXJhbSB7Li4uSFRNTEVsZW1lbnR9IFtjaGlsZHNdXG4gKi9cbm5vZGUuY3JlYXRlID0gZnVuY3Rpb24gKG5hbWUsIGF0dHJpYnV0ZXMsIC4uLmNoaWxkcykge1xuICBpZiAoIW5hbWUpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0YWcgbmFtZScpXG5cbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgc3dpdGNoIChhdHRyaWJ1dGVzLnN1YnN0cigwLCAxKSkge1xuICAgICAgY2FzZSAnIyc6IGVsZW1lbnQuaWQgPSBhdHRyaWJ1dGVzLnN1YnN0cigxKTsgYnJlYWtcbiAgICAgIGNhc2UgJy4nOiBlbGVtZW50LmNsYXNzTmFtZSA9IGF0dHJpYnV0ZXMuc3Vic3RyKDEpOyBicmVha1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmhhbmRsZWQgYXR0cmlidXRlJylcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGZpZWxkOyBmb3IgKGZpZWxkIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGVsZW1lbnRbZmllbGRdID0gYXR0cmlidXRlc1tmaWVsZF1cbiAgICB9XG4gIH1cblxuICBpZiAoY2hpbGRzLmxlbmd0aCA+IDApIG5vZGUuYXBwZW5kKGVsZW1lbnQsIC4uLmNoaWxkcylcblxuICByZXR1cm4gZWxlbWVudFxufVxuXG4vKipcbiAqIERlc3Ryb3kgYGVsZW1lbnRgLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqICovXG5ub2RlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICB0cnkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJydcbiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgfSBjYXRjaCAoZXJyb3IpIHsgY29uc29sZS5sb2coZXJyb3IpIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGZpcnN0IGVsZW1lbnQgbWF0Y2hpbmcgYHBhdHRlcm5gLlxuICogSWYgYG5hbWVgIHN0YXJ0cyB3aXRoIGAjYCwgaXQgd2lsbCBtYXRjaCBhZ2FpbnN0IElEcy5cbiAqIElmIGBuYW1lYCBzdGFydHMgd2l0aCBgLmAsIGl0IHdpbGwgbWF0Y2ggYWdhaW5zdCBjbGFzc2VzLlxuICogSWYgYG5hbWVgIGlzIGEgcGxhaW4gd29yZCwgaXQgd2lsbCBtYXRjaCBhZ2FpbnN0IHRhZ3MuXG4gKiBJZiBgcGFyZW50YCBpcyBnaXZlbiwgaXQgd2lsbCBsb29rIHJlY3Vyc2l2ZWx5IGluIGBwYXJlbnRgIGNoaWxkcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3BhcmVudD1kb2N1bWVudF1cbiAqICovXG5ub2RlLmdyYWIgPSBmdW5jdGlvbiAocGF0dGVybiwgcGFyZW50ID0gZG9jdW1lbnQpIHtcbiAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHBhdHRlcm4pXG59XG5cbi8qKlxuICogU2V0IHRoZSBgc3R5bGUuZGlzcGxheWAgcHJvcGVydHkgb2YgYC4uLmVsZW1lbnRzYCB0byBgYmxvY2tgLlxuICpcbiAqIEBwYXJhbSB7Li4uSFRNTEVsZW1lbnR9IGVsZW1lbnRzXG4gKi9cbm5vZGUuc2hvdyA9IGZ1bmN0aW9uICguLi5lbGVtZW50cykge1xuICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJylcbn1cblxuLyoqIFNldCB0aGUgYHN0eWxlLmRpc3BsYXlgIHByb3BlcnR5IG9mIGAuLi5lbGVtZW50c2AgdG8gYG5vbmVgLlxuICpcbiAqIEBwYXJhbSB7Li4uSFRNTEVsZW1lbnR9IGVsZW1lbnRzXG4gKi9cbm5vZGUuaGlkZSA9IGZ1bmN0aW9uICguLi5lbGVtZW50cykge1xuICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKVxufVxuXG4vKipcbiAqIFNldCB0aGUgY29udGVudCBvZiBlbGVtZW50IHRvIC4uLmNoaWxkcy4gQW55IHByZXZpb3VzIGNvbnRlbnQgd2lsbCBiZSBlcmFzZWQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHsuLi5IVE1MRWxlbWVudH0gY2hpbGRzXG4gKi9cbm5vZGUucmV3cml0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCAuLi5jaGlsZHMpIHtcbiAgbm9kZS5jbGVhcihlbGVtZW50KVxuICBub2RlLmFwcGVuZChlbGVtZW50LCAuLi5jaGlsZHMpXG59XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOzs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBQUE7QUFBQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQVVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cosmic-lib/node.js\n");

/***/ }),

/***/ "./src/cosmic-lib/parse.js":
/*!*********************************!*\
  !*** ./src/cosmic-lib/parse.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the methods to parse transactions in various format and create a\n * `CosmicLink` object out of them.\n *\n * Also contains methods to update some of the `CosmicLink` datas when it\n * require update/re-parse of part or totallity of the object.\n *\n * @exports parse\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar parse = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar convert = __webpack_require__(/*! ./convert */ \"./src/cosmic-lib/convert.js\");\nvar format = __webpack_require__(/*! ./format */ \"./src/cosmic-lib/format.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\nvar event = __webpack_require__(/*! ./event */ \"./src/cosmic-lib/event.js\");\n\n/**\n * Set `page` as the base URI for `cosmicLink`. Update the URI getter\n * accordingly.\n *\n * @param {CL}\n * @param {string} page URI basename\n */\nparse.page = function (cosmicLink, page) {\n  cosmicLink._page = encodeURI(page);\n  makeConverter(cosmicLink, 'query', 'uri');\n};\n\n/**\n * Set `cosmicLink` `network`. Throw an error if `network` is not valid.\n *\n * @param {CL}\n * @param {string} network Either `public` or `test`\n */\nparse.network = function (cosmicLink, network) {\n  cosmicLink._network = network;\n  if (network === 'test') {\n    cosmicLink.server = new StellarSdk.Server('https://horizon-testnet.stellar.org');\n  } else if (network === 'public') {\n    cosmicLink.server = new StellarSdk.Server('https://horizon.stellar.org');\n  } else {\n    cosmicLink.server = null;\n    status.error(cosmicLink, 'Invalid network: ' + network);\n    status.fail(cosmicLink, 'Invalid network', 'throw');\n  }\n};\n\n/**\n * Setup the getters for each format form `cosmicLink`, using `value` and\n * `...options` as input. The six getters are:\n * * CosmicLink.getUri()\n * * CosmicLink.getQuery()\n * * CosmicLink.getTdesc()\n * * CosmicLink.getJson()\n * * CosmicLink.getTransaction()\n * * CosmicLink.getXdr()\n * Each format offers a way to represent the same transaction. This function\n * only setup the getters, which returns a promise resolving to the transaction\n * in the corresponding format. The conversion only occurs if/when the getter\n * is called.\n *\n * @param {CL}\n * @param {string|Object} value A transaction in on of the supported format\n * @param {Object} options The options as specified for CosmicLink constructor\n * @return {void}\n */\nparse.dispatch = function (cosmicLink, value) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var type = guessType(value);\n  var parser = typeParser[type];\n\n  /// Get network parameter now.\n  if ((type === 'uri' || type === 'query' || type === 'xdrUri') && value.match('&network=')) {\n    var network = value.replace(/.*&network=/, '').replace(/&.*/, '');\n    try {\n      cosmicLink.network = network;\n    } catch (error) {}\n  }\n\n  if (parser) parser(cosmicLink, value, options);else parse.typeTowardAll(cosmicLink, type, value, options);\n\n  /// A transaction with sequence number uses xdrUri format.\n  if (type === 'xdr' || type === 'transaction') {\n    if (options.stripSource || options.stripSequence || options.stripSignatures) {\n      typeTowardXdr(cosmicLink, 'json');\n    }\n    if (!options.stripSource && !options.stripSequence) {\n      parse.makeConverter(cosmicLink, 'xdr', 'query', options);\n      parse.makeConverter(cosmicLink, 'query', 'uri');\n    }\n  }\n\n  event.callFormatHandlers(cosmicLink);\n\n  if (cosmicLink._htmlNode) {\n    cosmicLink.getTdesc().then(function (tdesc) {\n      try {\n        format.tdesc(cosmicLink);\n      } catch (error) {\n        console.log(error);\n      }\n    }).catch(function () {});\n  }\n};\n\n/**\n * Returns `type` which is the format of transaction represented by `value`.\n *\n * @private\n * @param {string|Object} value Either a cosmic link, a query, a `transaction\n *     descriptor` formatted as object or JSON, a Stellar Transaction object or\n *     a Stellar transaction XDR.\n * @return {string} type Type of `value`\n */\nfunction guessType(value) {\n  var type = void 0;\n  if (typeof value === 'string') {\n    var query = convert.uriToQuery('', value);\n    if (query && query.substr(0, 5) === '?xdr=') type = 'xdrUri';else if (value.substr(0, 1) === '?') type = 'query';else if (value.substr(0, 1) === '{') type = 'json';else if (value.match(/^[a-zA-Z0-9+-=/]+$/)) type = 'xdr';else type = 'uri';\n  } else {\n    if (value.tx) type = 'transaction';else type = 'tdesc';\n  }\n  return type;\n}\n\n/**\n * Per-type customization of the generic parsing process.\n *\n * @private\n * @namespace\n */\nvar typeParser = {};\n\ntypeParser.uri = function (cosmicLink, uri) {\n  var page = uri.split('?')[0];\n  var query = convert.uriToQuery(cosmicLink, uri);\n  cosmicLink._page = encodeURI(page);\n  parse.typeTowardAll(cosmicLink, 'query', query);\n};\n\ntypeParser.xdrUri = function (cosmicLink, xdrUri) {\n  var page = xdrUri.split('?')[0];\n  if (page) cosmicLink._page = encodeURI(page);\n\n  var query = convert.uriToQuery(cosmicLink, xdrUri);\n  var temp = query.split('&');\n  var xdr = temp[0].substr(5);\n\n  var options = {};\n  temp.slice(1).forEach(function (entry) {\n    var field = entry.replace(/=.*$/, '');\n    var value = entry.substr(field.length + 1);\n\n    switch (field) {\n      case 'stripSignatures':\n        options.stripSignatures = true;\n        break;\n      case 'stripSequence':\n        options.stripSequence = true;\n        break;\n      case 'stripSource':\n        options.stripSource = true;\n        break;\n      case 'network':\n        options.network = value;\n        break;\n      default:\n        status.fail(cosmicLink, 'Invalid query');\n        status.error(cosmicLink, 'Unknow option: ' + entry);\n    }\n  });\n\n  parse.dispatch(cosmicLink, xdr, options);\n};\n\n/**\n * Setup all formats getters for `cosmicLink` using entry point `value`, which\n * is a transaction formatted in `type`.\n *\n * @param {CL}\n * @param {string} type One of 'uri', 'query', 'json', 'tdesc', 'transaction' or\n *                      'xdr'\n * @param {*} value The value for `type`\n */\nparse.typeTowardAll = function (cosmicLink, type, value) {\n  for (var _len = arguments.length, options = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    options[_key - 3] = arguments[_key];\n  }\n\n  if (type === 'tdesc') {\n    type = 'json';\n    value = convert.tdescToJson.apply(convert, [cosmicLink, value].concat(options));\n  }\n\n  parse.typeTowardAllUsingDelayed.apply(parse, [cosmicLink, type, helpers.delay(function () {\n    return value;\n  })].concat(options));\n};\n\n/**\n * Setup all formats getters for `cosmicLink` using entry point `delayed`. Here\n * we name `delayed` a function that returns a promise of the transaction\n * formatted in `type`.\n *\n * @param {CL}\n * @param {string} type One of 'uri', 'query', 'json', 'tdesc', 'transaction' or\n *                      'xdr'\n * @param {function} delayed A function that return a promise for `type`\n */\nparse.typeTowardAllUsingDelayed = function (cosmicLink, type, delayed) {\n  var _this = this;\n\n  var getter = 'get' + helpers.capitalize(type);\n  cosmicLink[getter] = delayed;\n\n  for (var _len2 = arguments.length, options = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n    options[_key2 - 3] = arguments[_key2];\n  }\n\n  if (type !== 'xdr') typeTowardXdr.apply(undefined, [cosmicLink, type].concat(options));\n  if (type !== 'uri') typeTowardUri.apply(undefined, [cosmicLink, type].concat(options));\n  cosmicLink.getTdesc = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n    var json;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return cosmicLink.getJson();\n\n          case 2:\n            json = _context.sent;\n            return _context.abrupt('return', convert.jsonToTdesc(cosmicLink, json));\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n};\n\n/**\n * Setup format getters for `cosmicLink` starting from the one following `type`\n * until xdr. For example, if `type` is 'query', it will setup\n * `cosmicLink.getJson`, `cosmicLink.getTransaction` and `cosmicLink.getXdr`.\n *\n * @private\n * @param {CL}\n * @param {string} type One of 'uri', 'query', 'json', 'transaction'\n * @param {*} value The value of `type`\n */\nfunction typeTowardXdr(cosmicLink, type) {\n  for (var _len3 = arguments.length, options = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    options[_key3 - 2] = arguments[_key3];\n  }\n\n  switch (type) {\n    case 'uri':\n      parse.makeConverter.apply(parse, [cosmicLink, 'uri', 'query'].concat(options));\n    case 'query':\n      parse.makeConverter.apply(parse, [cosmicLink, 'query', 'json'].concat(options));\n    case 'json':\n      parse.makeConverter.apply(parse, [cosmicLink, 'json', 'transaction'].concat(options));\n    case 'transaction':\n      parse.makeConverter.apply(parse, [cosmicLink, 'transaction', 'xdr'].concat(options));\n      break;\n    default:\n      throw new Error('Invalid type: ' + type);\n  }\n}\n\n/**\n * Setup format getters for `cosmicLink` starting from the one following `type`\n * until xdr. For example, if `type` is 'json', it will setup\n * `cosmicLink.getQuery` and `cosmicLink.getUri`.\n *\n * @private\n * @param {CL}\n * @param {string} type One of 'xdr', 'transaction', 'json', 'query'\n */\nfunction typeTowardUri(cosmicLink, type) {\n  for (var _len4 = arguments.length, options = Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n    options[_key4 - 2] = arguments[_key4];\n  }\n\n  switch (type) {\n    case 'xdr':\n      parse.makeConverter.apply(parse, [cosmicLink, 'xdr', 'transaction'].concat(options));\n    case 'transaction':\n      parse.makeConverter.apply(parse, [cosmicLink, 'transaction', 'json'].concat(options));\n    case 'json':\n      parse.makeConverter.apply(parse, [cosmicLink, 'json', 'query'].concat(options));\n    case 'query':\n      parse.makeConverter.apply(parse, [cosmicLink, 'query', 'uri'].concat(options));\n      break;\n    default:\n      throw new Error('Invalid type: ' + type);\n  }\n}\n\n/**\n * Setup format getter get`to` for `cosmicLink` using `from`. In other words,\n * if `from` is 'uri' and `to` is 'query', it will setup `cosmicLink.getQuery`\n * to be computed from uri.\n *\n * This function uses existing conversion functions in 'convert' module.\n * i.e.: arbitrary conversion like from query to transaction won't do.\n *\n * @param {CL}\n * @param {string} from One of 'uri', 'query', 'json', 'tdesc', 'transaction' or\n *                      'xdr'\n * @param {string} to One of 'uri', 'query', 'json', 'tdesc', 'transaction' or\n *                    'xdr'\n */\nparse.makeConverter = function (cosmicLink, from, to) {\n  for (var _len5 = arguments.length, options = Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    options[_key5 - 3] = arguments[_key5];\n  }\n\n  var _this2 = this;\n\n  var getFrom = 'get' + helpers.capitalize(from);\n  var getTo = 'get' + helpers.capitalize(to);\n  var converter = from + 'To' + helpers.capitalize(to);\n\n  var getter = cosmicLink[getFrom];\n  cosmicLink[getTo] = helpers.delay(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n    var value;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getter();\n\n          case 2:\n            value = _context2.sent;\n            return _context2.abrupt('return', convert[converter].apply(convert, [cosmicLink, value].concat(options)));\n\n          case 4:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, _this2);\n  })));\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9wYXJzZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvcGFyc2UuanM/MThlMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcbi8qKlxuICogQ29udGFpbnMgdGhlIG1ldGhvZHMgdG8gcGFyc2UgdHJhbnNhY3Rpb25zIGluIHZhcmlvdXMgZm9ybWF0IGFuZCBjcmVhdGUgYVxuICogYENvc21pY0xpbmtgIG9iamVjdCBvdXQgb2YgdGhlbS5cbiAqXG4gKiBBbHNvIGNvbnRhaW5zIG1ldGhvZHMgdG8gdXBkYXRlIHNvbWUgb2YgdGhlIGBDb3NtaWNMaW5rYCBkYXRhcyB3aGVuIGl0XG4gKiByZXF1aXJlIHVwZGF0ZS9yZS1wYXJzZSBvZiBwYXJ0IG9yIHRvdGFsbGl0eSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBleHBvcnRzIHBhcnNlXG4gKi9cbmNvbnN0IHBhcnNlID0gZXhwb3J0c1xuXG5jb25zdCBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJylcbmNvbnN0IGNvbnZlcnQgPSByZXF1aXJlKCcuL2NvbnZlcnQnKVxuY29uc3QgZm9ybWF0ID0gcmVxdWlyZSgnLi9mb3JtYXQnKVxuY29uc3Qgc3RhdHVzID0gcmVxdWlyZSgnLi9zdGF0dXMnKVxuY29uc3QgZXZlbnQgPSByZXF1aXJlKCcuL2V2ZW50JylcblxuLyoqXG4gKiBTZXQgYHBhZ2VgIGFzIHRoZSBiYXNlIFVSSSBmb3IgYGNvc21pY0xpbmtgLiBVcGRhdGUgdGhlIFVSSSBnZXR0ZXJcbiAqIGFjY29yZGluZ2x5LlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFnZSBVUkkgYmFzZW5hbWVcbiAqL1xucGFyc2UucGFnZSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBwYWdlKSB7XG4gIGNvc21pY0xpbmsuX3BhZ2UgPSBlbmNvZGVVUkkocGFnZSlcbiAgbWFrZUNvbnZlcnRlcihjb3NtaWNMaW5rLCAncXVlcnknLCAndXJpJylcbn1cblxuLyoqXG4gKiBTZXQgYGNvc21pY0xpbmtgIGBuZXR3b3JrYC4gVGhyb3cgYW4gZXJyb3IgaWYgYG5ldHdvcmtgIGlzIG5vdCB2YWxpZC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IG5ldHdvcmsgRWl0aGVyIGBwdWJsaWNgIG9yIGB0ZXN0YFxuICovXG5wYXJzZS5uZXR3b3JrID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIG5ldHdvcmspIHtcbiAgY29zbWljTGluay5fbmV0d29yayA9IG5ldHdvcmtcbiAgaWYgKG5ldHdvcmsgPT09ICd0ZXN0Jykge1xuICAgIGNvc21pY0xpbmsuc2VydmVyID0gbmV3IFN0ZWxsYXJTZGsuU2VydmVyKCdodHRwczovL2hvcml6b24tdGVzdG5ldC5zdGVsbGFyLm9yZycpXG4gIH0gZWxzZSBpZiAobmV0d29yayA9PT0gJ3B1YmxpYycpIHtcbiAgICBjb3NtaWNMaW5rLnNlcnZlciA9IG5ldyBTdGVsbGFyU2RrLlNlcnZlcignaHR0cHM6Ly9ob3Jpem9uLnN0ZWxsYXIub3JnJylcbiAgfSBlbHNlIHtcbiAgICBjb3NtaWNMaW5rLnNlcnZlciA9IG51bGxcbiAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ0ludmFsaWQgbmV0d29yazogJyArIG5ldHdvcmspXG4gICAgc3RhdHVzLmZhaWwoY29zbWljTGluaywgJ0ludmFsaWQgbmV0d29yaycsICd0aHJvdycpXG4gIH1cbn1cblxuLyoqXG4gKiBTZXR1cCB0aGUgZ2V0dGVycyBmb3IgZWFjaCBmb3JtYXQgZm9ybSBgY29zbWljTGlua2AsIHVzaW5nIGB2YWx1ZWAgYW5kXG4gKiBgLi4ub3B0aW9uc2AgYXMgaW5wdXQuIFRoZSBzaXggZ2V0dGVycyBhcmU6XG4gKiAqIENvc21pY0xpbmsuZ2V0VXJpKClcbiAqICogQ29zbWljTGluay5nZXRRdWVyeSgpXG4gKiAqIENvc21pY0xpbmsuZ2V0VGRlc2MoKVxuICogKiBDb3NtaWNMaW5rLmdldEpzb24oKVxuICogKiBDb3NtaWNMaW5rLmdldFRyYW5zYWN0aW9uKClcbiAqICogQ29zbWljTGluay5nZXRYZHIoKVxuICogRWFjaCBmb3JtYXQgb2ZmZXJzIGEgd2F5IHRvIHJlcHJlc2VudCB0aGUgc2FtZSB0cmFuc2FjdGlvbi4gVGhpcyBmdW5jdGlvblxuICogb25seSBzZXR1cCB0aGUgZ2V0dGVycywgd2hpY2ggcmV0dXJucyBhIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSB0cmFuc2FjdGlvblxuICogaW4gdGhlIGNvcnJlc3BvbmRpbmcgZm9ybWF0LiBUaGUgY29udmVyc2lvbiBvbmx5IG9jY3VycyBpZi93aGVuIHRoZSBnZXR0ZXJcbiAqIGlzIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSB2YWx1ZSBBIHRyYW5zYWN0aW9uIGluIG9uIG9mIHRoZSBzdXBwb3J0ZWQgZm9ybWF0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBhcyBzcGVjaWZpZWQgZm9yIENvc21pY0xpbmsgY29uc3RydWN0b3JcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbnBhcnNlLmRpc3BhdGNoID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgdHlwZSA9IGd1ZXNzVHlwZSh2YWx1ZSlcbiAgY29uc3QgcGFyc2VyID0gdHlwZVBhcnNlclt0eXBlXVxuXG4gIC8vLyBHZXQgbmV0d29yayBwYXJhbWV0ZXIgbm93LlxuICBpZiAoXG4gICAgKHR5cGUgPT09ICd1cmknIHx8IHR5cGUgPT09ICdxdWVyeScgfHwgdHlwZSA9PT0gJ3hkclVyaScpICYmXG4gICAgdmFsdWUubWF0Y2goJyZuZXR3b3JrPScpXG4gICkge1xuICAgIGNvbnN0IG5ldHdvcmsgPSB2YWx1ZS5yZXBsYWNlKC8uKiZuZXR3b3JrPS8sICcnKS5yZXBsYWNlKC8mLiovLCAnJylcbiAgICB0cnkgeyBjb3NtaWNMaW5rLm5ldHdvcmsgPSBuZXR3b3JrIH0gY2F0Y2ggKGVycm9yKSB7fVxuICB9XG5cbiAgaWYgKHBhcnNlcikgcGFyc2VyKGNvc21pY0xpbmssIHZhbHVlLCBvcHRpb25zKVxuICBlbHNlIHBhcnNlLnR5cGVUb3dhcmRBbGwoY29zbWljTGluaywgdHlwZSwgdmFsdWUsIG9wdGlvbnMpXG5cbiAgLy8vIEEgdHJhbnNhY3Rpb24gd2l0aCBzZXF1ZW5jZSBudW1iZXIgdXNlcyB4ZHJVcmkgZm9ybWF0LlxuICBpZiAodHlwZSA9PT0gJ3hkcicgfHwgdHlwZSA9PT0gJ3RyYW5zYWN0aW9uJykge1xuICAgIGlmIChvcHRpb25zLnN0cmlwU291cmNlIHx8IG9wdGlvbnMuc3RyaXBTZXF1ZW5jZSB8fCBvcHRpb25zLnN0cmlwU2lnbmF0dXJlcykge1xuICAgICAgdHlwZVRvd2FyZFhkcihjb3NtaWNMaW5rLCAnanNvbicpXG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5zdHJpcFNvdXJjZSAmJiAhb3B0aW9ucy5zdHJpcFNlcXVlbmNlKSB7XG4gICAgICBwYXJzZS5tYWtlQ29udmVydGVyKGNvc21pY0xpbmssICd4ZHInLCAncXVlcnknLCBvcHRpb25zKVxuICAgICAgcGFyc2UubWFrZUNvbnZlcnRlcihjb3NtaWNMaW5rLCAncXVlcnknLCAndXJpJylcbiAgICB9XG4gIH1cblxuICBldmVudC5jYWxsRm9ybWF0SGFuZGxlcnMoY29zbWljTGluaylcblxuICBpZiAoY29zbWljTGluay5faHRtbE5vZGUpIHtcbiAgICBjb3NtaWNMaW5rLmdldFRkZXNjKClcbiAgICAgIC50aGVuKHRkZXNjID0+IHtcbiAgICAgICAgdHJ5IHsgZm9ybWF0LnRkZXNjKGNvc21pY0xpbmspIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7IGNvbnNvbGUubG9nKGVycm9yKSB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHt9KVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHlwZWAgd2hpY2ggaXMgdGhlIGZvcm1hdCBvZiB0cmFuc2FjdGlvbiByZXByZXNlbnRlZCBieSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHZhbHVlIEVpdGhlciBhIGNvc21pYyBsaW5rLCBhIHF1ZXJ5LCBhIGB0cmFuc2FjdGlvblxuICogICAgIGRlc2NyaXB0b3JgIGZvcm1hdHRlZCBhcyBvYmplY3Qgb3IgSlNPTiwgYSBTdGVsbGFyIFRyYW5zYWN0aW9uIG9iamVjdCBvclxuICogICAgIGEgU3RlbGxhciB0cmFuc2FjdGlvbiBYRFIuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBgdmFsdWVgXG4gKi9cbmZ1bmN0aW9uIGd1ZXNzVHlwZSAodmFsdWUpIHtcbiAgbGV0IHR5cGVcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBxdWVyeSA9IGNvbnZlcnQudXJpVG9RdWVyeSgnJywgdmFsdWUpXG4gICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5LnN1YnN0cigwLCA1KSA9PT0gJz94ZHI9JykgdHlwZSA9ICd4ZHJVcmknXG4gICAgZWxzZSBpZiAodmFsdWUuc3Vic3RyKDAsIDEpID09PSAnPycpIHR5cGUgPSAncXVlcnknXG4gICAgZWxzZSBpZiAodmFsdWUuc3Vic3RyKDAsIDEpID09PSAneycpIHR5cGUgPSAnanNvbidcbiAgICBlbHNlIGlmICh2YWx1ZS5tYXRjaCgvXlthLXpBLVowLTkrLT0vXSskLykpIHR5cGUgPSAneGRyJ1xuICAgIGVsc2UgdHlwZSA9ICd1cmknXG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlLnR4KSB0eXBlID0gJ3RyYW5zYWN0aW9uJ1xuICAgIGVsc2UgdHlwZSA9ICd0ZGVzYydcbiAgfVxuICByZXR1cm4gdHlwZVxufVxuXG4vKipcbiAqIFBlci10eXBlIGN1c3RvbWl6YXRpb24gb2YgdGhlIGdlbmVyaWMgcGFyc2luZyBwcm9jZXNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZXNwYWNlXG4gKi9cbmNvbnN0IHR5cGVQYXJzZXIgPSB7fVxuXG50eXBlUGFyc2VyLnVyaSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB1cmkpIHtcbiAgY29uc3QgcGFnZSA9IHVyaS5zcGxpdCgnPycpWzBdXG4gIGNvbnN0IHF1ZXJ5ID0gY29udmVydC51cmlUb1F1ZXJ5KGNvc21pY0xpbmssIHVyaSlcbiAgY29zbWljTGluay5fcGFnZSA9IGVuY29kZVVSSShwYWdlKVxuICBwYXJzZS50eXBlVG93YXJkQWxsKGNvc21pY0xpbmssICdxdWVyeScsIHF1ZXJ5KVxufVxuXG50eXBlUGFyc2VyLnhkclVyaSA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB4ZHJVcmkpIHtcbiAgY29uc3QgcGFnZSA9IHhkclVyaS5zcGxpdCgnPycpWzBdXG4gIGlmIChwYWdlKSBjb3NtaWNMaW5rLl9wYWdlID0gZW5jb2RlVVJJKHBhZ2UpXG5cbiAgY29uc3QgcXVlcnkgPSBjb252ZXJ0LnVyaVRvUXVlcnkoY29zbWljTGluaywgeGRyVXJpKVxuICBjb25zdCB0ZW1wID0gcXVlcnkuc3BsaXQoJyYnKVxuICBjb25zdCB4ZHIgPSB0ZW1wWzBdLnN1YnN0cig1KVxuXG4gIGxldCBvcHRpb25zID0ge31cbiAgdGVtcC5zbGljZSgxKS5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBsZXQgZmllbGQgPSBlbnRyeS5yZXBsYWNlKC89LiokLywgJycpXG4gICAgbGV0IHZhbHVlID0gZW50cnkuc3Vic3RyKGZpZWxkLmxlbmd0aCArIDEpXG5cbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlICdzdHJpcFNpZ25hdHVyZXMnOlxuICAgICAgICBvcHRpb25zLnN0cmlwU2lnbmF0dXJlcyA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N0cmlwU2VxdWVuY2UnOlxuICAgICAgICBvcHRpb25zLnN0cmlwU2VxdWVuY2UgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzdHJpcFNvdXJjZSc6XG4gICAgICAgIG9wdGlvbnMuc3RyaXBTb3VyY2UgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICduZXR3b3JrJzpcbiAgICAgICAgb3B0aW9ucy5uZXR3b3JrID0gdmFsdWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN0YXR1cy5mYWlsKGNvc21pY0xpbmssICdJbnZhbGlkIHF1ZXJ5JylcbiAgICAgICAgc3RhdHVzLmVycm9yKGNvc21pY0xpbmssICdVbmtub3cgb3B0aW9uOiAnICsgZW50cnkpXG4gICAgfVxuICB9KVxuXG4gIHBhcnNlLmRpc3BhdGNoKGNvc21pY0xpbmssIHhkciwgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBTZXR1cCBhbGwgZm9ybWF0cyBnZXR0ZXJzIGZvciBgY29zbWljTGlua2AgdXNpbmcgZW50cnkgcG9pbnQgYHZhbHVlYCwgd2hpY2hcbiAqIGlzIGEgdHJhbnNhY3Rpb24gZm9ybWF0dGVkIGluIGB0eXBlYC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgT25lIG9mICd1cmknLCAncXVlcnknLCAnanNvbicsICd0ZGVzYycsICd0cmFuc2FjdGlvbicgb3JcbiAqICAgICAgICAgICAgICAgICAgICAgICd4ZHInXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBmb3IgYHR5cGVgXG4gKi9cbnBhcnNlLnR5cGVUb3dhcmRBbGwgPSBmdW5jdGlvbiAoY29zbWljTGluaywgdHlwZSwgdmFsdWUsIC4uLm9wdGlvbnMpIHtcbiAgaWYgKHR5cGUgPT09ICd0ZGVzYycpIHtcbiAgICB0eXBlID0gJ2pzb24nXG4gICAgdmFsdWUgPSBjb252ZXJ0LnRkZXNjVG9Kc29uKGNvc21pY0xpbmssIHZhbHVlLCAuLi5vcHRpb25zKVxuICB9XG5cbiAgcGFyc2UudHlwZVRvd2FyZEFsbFVzaW5nRGVsYXllZChjb3NtaWNMaW5rLFxuICAgIHR5cGUsXG4gICAgaGVscGVycy5kZWxheSgoKSA9PiB2YWx1ZSksXG4gICAgLi4ub3B0aW9ucylcbn1cblxuLyoqXG4gKiBTZXR1cCBhbGwgZm9ybWF0cyBnZXR0ZXJzIGZvciBgY29zbWljTGlua2AgdXNpbmcgZW50cnkgcG9pbnQgYGRlbGF5ZWRgLiBIZXJlXG4gKiB3ZSBuYW1lIGBkZWxheWVkYCBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHRyYW5zYWN0aW9uXG4gKiBmb3JtYXR0ZWQgaW4gYHR5cGVgLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBPbmUgb2YgJ3VyaScsICdxdWVyeScsICdqc29uJywgJ3RkZXNjJywgJ3RyYW5zYWN0aW9uJyBvclxuICogICAgICAgICAgICAgICAgICAgICAgJ3hkcidcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlbGF5ZWQgQSBmdW5jdGlvbiB0aGF0IHJldHVybiBhIHByb21pc2UgZm9yIGB0eXBlYFxuICovXG5wYXJzZS50eXBlVG93YXJkQWxsVXNpbmdEZWxheWVkID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHR5cGUsIGRlbGF5ZWQsIC4uLm9wdGlvbnMpIHtcbiAgY29uc3QgZ2V0dGVyID0gJ2dldCcgKyBoZWxwZXJzLmNhcGl0YWxpemUodHlwZSlcbiAgY29zbWljTGlua1tnZXR0ZXJdID0gZGVsYXllZFxuXG4gIGlmICh0eXBlICE9PSAneGRyJykgdHlwZVRvd2FyZFhkcihjb3NtaWNMaW5rLCB0eXBlLCAuLi5vcHRpb25zKVxuICBpZiAodHlwZSAhPT0gJ3VyaScpIHR5cGVUb3dhcmRVcmkoY29zbWljTGluaywgdHlwZSwgLi4ub3B0aW9ucylcbiAgY29zbWljTGluay5nZXRUZGVzYyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgY29zbWljTGluay5nZXRKc29uKClcbiAgICByZXR1cm4gY29udmVydC5qc29uVG9UZGVzYyhjb3NtaWNMaW5rLCBqc29uKVxuICB9XG59XG5cbi8qKlxuICogU2V0dXAgZm9ybWF0IGdldHRlcnMgZm9yIGBjb3NtaWNMaW5rYCBzdGFydGluZyBmcm9tIHRoZSBvbmUgZm9sbG93aW5nIGB0eXBlYFxuICogdW50aWwgeGRyLiBGb3IgZXhhbXBsZSwgaWYgYHR5cGVgIGlzICdxdWVyeScsIGl0IHdpbGwgc2V0dXBcbiAqIGBjb3NtaWNMaW5rLmdldEpzb25gLCBgY29zbWljTGluay5nZXRUcmFuc2FjdGlvbmAgYW5kIGBjb3NtaWNMaW5rLmdldFhkcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBPbmUgb2YgJ3VyaScsICdxdWVyeScsICdqc29uJywgJ3RyYW5zYWN0aW9uJ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgYHR5cGVgXG4gKi9cbmZ1bmN0aW9uIHR5cGVUb3dhcmRYZHIgKGNvc21pY0xpbmssIHR5cGUsIC4uLm9wdGlvbnMpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAndXJpJzogcGFyc2UubWFrZUNvbnZlcnRlcihjb3NtaWNMaW5rLCAndXJpJywgJ3F1ZXJ5JywgLi4ub3B0aW9ucylcbiAgICBjYXNlICdxdWVyeSc6IHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3F1ZXJ5JywgJ2pzb24nLCAuLi5vcHRpb25zKVxuICAgIGNhc2UgJ2pzb24nOiBwYXJzZS5tYWtlQ29udmVydGVyKGNvc21pY0xpbmssICdqc29uJywgJ3RyYW5zYWN0aW9uJywgLi4ub3B0aW9ucylcbiAgICBjYXNlICd0cmFuc2FjdGlvbic6IHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3RyYW5zYWN0aW9uJywgJ3hkcicsIC4uLm9wdGlvbnMpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlOiAnICsgdHlwZSlcbiAgfVxufVxuXG4vKipcbiAqIFNldHVwIGZvcm1hdCBnZXR0ZXJzIGZvciBgY29zbWljTGlua2Agc3RhcnRpbmcgZnJvbSB0aGUgb25lIGZvbGxvd2luZyBgdHlwZWBcbiAqIHVudGlsIHhkci4gRm9yIGV4YW1wbGUsIGlmIGB0eXBlYCBpcyAnanNvbicsIGl0IHdpbGwgc2V0dXBcbiAqIGBjb3NtaWNMaW5rLmdldFF1ZXJ5YCBhbmQgYGNvc21pY0xpbmsuZ2V0VXJpYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDTH1cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIE9uZSBvZiAneGRyJywgJ3RyYW5zYWN0aW9uJywgJ2pzb24nLCAncXVlcnknXG4gKi9cbmZ1bmN0aW9uIHR5cGVUb3dhcmRVcmkgKGNvc21pY0xpbmssIHR5cGUsIC4uLm9wdGlvbnMpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneGRyJzogcGFyc2UubWFrZUNvbnZlcnRlcihjb3NtaWNMaW5rLCAneGRyJywgJ3RyYW5zYWN0aW9uJywgLi4ub3B0aW9ucylcbiAgICBjYXNlICd0cmFuc2FjdGlvbic6IHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3RyYW5zYWN0aW9uJywgJ2pzb24nLCAuLi5vcHRpb25zKVxuICAgIGNhc2UgJ2pzb24nOiBwYXJzZS5tYWtlQ29udmVydGVyKGNvc21pY0xpbmssICdqc29uJywgJ3F1ZXJ5JywgLi4ub3B0aW9ucylcbiAgICBjYXNlICdxdWVyeSc6IHBhcnNlLm1ha2VDb252ZXJ0ZXIoY29zbWljTGluaywgJ3F1ZXJ5JywgJ3VyaScsIC4uLm9wdGlvbnMpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlOiAnICsgdHlwZSlcbiAgfVxufVxuXG4vKipcbiAqIFNldHVwIGZvcm1hdCBnZXR0ZXIgZ2V0YHRvYCBmb3IgYGNvc21pY0xpbmtgIHVzaW5nIGBmcm9tYC4gSW4gb3RoZXIgd29yZHMsXG4gKiBpZiBgZnJvbWAgaXMgJ3VyaScgYW5kIGB0b2AgaXMgJ3F1ZXJ5JywgaXQgd2lsbCBzZXR1cCBgY29zbWljTGluay5nZXRRdWVyeWBcbiAqIHRvIGJlIGNvbXB1dGVkIGZyb20gdXJpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdXNlcyBleGlzdGluZyBjb252ZXJzaW9uIGZ1bmN0aW9ucyBpbiAnY29udmVydCcgbW9kdWxlLlxuICogaS5lLjogYXJiaXRyYXJ5IGNvbnZlcnNpb24gbGlrZSBmcm9tIHF1ZXJ5IHRvIHRyYW5zYWN0aW9uIHdvbid0IGRvLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gZnJvbSBPbmUgb2YgJ3VyaScsICdxdWVyeScsICdqc29uJywgJ3RkZXNjJywgJ3RyYW5zYWN0aW9uJyBvclxuICogICAgICAgICAgICAgICAgICAgICAgJ3hkcidcbiAqIEBwYXJhbSB7c3RyaW5nfSB0byBPbmUgb2YgJ3VyaScsICdxdWVyeScsICdqc29uJywgJ3RkZXNjJywgJ3RyYW5zYWN0aW9uJyBvclxuICogICAgICAgICAgICAgICAgICAgICd4ZHInXG4gKi9cbnBhcnNlLm1ha2VDb252ZXJ0ZXIgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZnJvbSwgdG8sIC4uLm9wdGlvbnMpIHtcbiAgY29uc3QgZ2V0RnJvbSA9ICdnZXQnICsgaGVscGVycy5jYXBpdGFsaXplKGZyb20pXG4gIGNvbnN0IGdldFRvID0gJ2dldCcgKyBoZWxwZXJzLmNhcGl0YWxpemUodG8pXG4gIGNvbnN0IGNvbnZlcnRlciA9IGZyb20gKyAnVG8nICsgaGVscGVycy5jYXBpdGFsaXplKHRvKVxuXG4gIGNvbnN0IGdldHRlciA9IGNvc21pY0xpbmtbZ2V0RnJvbV1cbiAgY29zbWljTGlua1tnZXRUb10gPSBoZWxwZXJzLmRlbGF5KGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGdldHRlcigpXG4gICAgcmV0dXJuIGNvbnZlcnRbY29udmVydGVyXShjb3NtaWNMaW5rLCB2YWx1ZSwgLi4ub3B0aW9ucylcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQU5BO0FBUUE7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBY0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/parse.js\n");

/***/ }),

/***/ "./src/cosmic-lib/polyfill.js":
/*!************************************!*\
  !*** ./src/cosmic-lib/polyfill.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n'use_strict';\n\n/// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n\n      // 5. Let k be 0.\n      var k = 0;\n\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T,  kValue, k, O )).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return kValue;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n\n      // 7. Return undefined.\n      return undefined;\n    },\n    configurable: true,\n    writable: true\n  });\n}\n\n/// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\nif (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n      'use strict';\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9wb2x5ZmlsbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvcG9seWZpbGwuanM/MDg1NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlX3N0cmljdCdcblxuLy8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmRcbmlmICghQXJyYXkucHJvdG90eXBlLmZpbmQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbmQnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgIC8vIDEuIExldCBPIGJlID8gVG9PYmplY3QodGhpcyB2YWx1ZSkuXG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKVxuICAgICAgfVxuXG4gICAgICB2YXIgbyA9IE9iamVjdCh0aGlzKVxuXG4gICAgICAvLyAyLiBMZXQgbGVuIGJlID8gVG9MZW5ndGgoPyBHZXQoTywgXCJsZW5ndGhcIikpLlxuICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwXG5cbiAgICAgIC8vIDMuIElmIElzQ2FsbGFibGUocHJlZGljYXRlKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgICB9XG5cbiAgICAgIC8vIDQuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzWzFdXG5cbiAgICAgIC8vIDUuIExldCBrIGJlIDAuXG4gICAgICB2YXIgayA9IDBcblxuICAgICAgLy8gNi4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAvLyBhLiBMZXQgUGsgYmUgISBUb1N0cmluZyhrKS5cbiAgICAgICAgLy8gYi4gTGV0IGtWYWx1ZSBiZSA/IEdldChPLCBQaykuXG4gICAgICAgIC8vIGMuIExldCB0ZXN0UmVzdWx0IGJlIFRvQm9vbGVhbig/IENhbGwocHJlZGljYXRlLCBULCDCqyBrVmFsdWUsIGssIE8gwrspKS5cbiAgICAgICAgLy8gZC4gSWYgdGVzdFJlc3VsdCBpcyB0cnVlLCByZXR1cm4ga1ZhbHVlLlxuICAgICAgICB2YXIga1ZhbHVlID0gb1trXVxuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywga1ZhbHVlLCBrLCBvKSkge1xuICAgICAgICAgIHJldHVybiBrVmFsdWVcbiAgICAgICAgfVxuICAgICAgICAvLyBlLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgIGsrK1xuICAgICAgfVxuXG4gICAgICAvLyA3LiBSZXR1cm4gdW5kZWZpbmVkLlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pXG59XG5cbi8vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgLy8gTXVzdCBiZSB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LCAnYXNzaWduJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiBhc3NpZ24gKHRhcmdldCwgdmFyQXJncykgeyAvLyAubGVuZ3RoIG9mIGZ1bmN0aW9uIGlzIDJcbiAgICAgICd1c2Ugc3RyaWN0J1xuICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IC8vIFR5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKVxuICAgICAgfVxuXG4gICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KVxuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF1cblxuICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gQXZvaWQgYnVncyB3aGVuIGhhc093blByb3BlcnR5IGlzIHNoYWRvd2VkXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRvXG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUEwQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cosmic-lib/polyfill.js\n");

/***/ }),

/***/ "./src/cosmic-lib/prepare.js":
/*!***********************************!*\
  !*** ./src/cosmic-lib/prepare.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains the methods to convert field values from CosmicLink's\n * `transaction descriptor` format to Stellar transaction object format.\n *\n * @exports prepare\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar prepare = exports;\n\nvar specs = __webpack_require__(/*! ./specs */ \"./src/cosmic-lib/specs.js\");\nvar resolve = __webpack_require__(/*! ./resolve */ \"./src/cosmic-lib/resolve.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\n\n/**\n * Prepare `value` accordingly to `field` type.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} field\n * @param {any} value\n */\nprepare.field = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(cosmicLink, field, value) {\n    var type;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            type = specs.fieldType[field];\n\n            if (!type) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return prepare.type(cosmicLink, type, value);\n\n          case 4:\n            return _context.abrupt('return', _context.sent);\n\n          case 7:\n            status.error(cosmicLink, 'Unknow field: ' + field, 'throw');\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Prepare `value` using the preparing function for `type`.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} type\n * @param {any} value\n */\nprepare.type = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cosmicLink, type, value) {\n    var preparer;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            preparer = exports[type];\n\n            if (!preparer) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.next = 4;\n            return preparer(cosmicLink, value);\n\n          case 4:\n            return _context2.abrupt('return', _context2.sent);\n\n          case 7:\n            return _context2.abrupt('return', value);\n\n          case 8:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/******************************************************************************/\n\nprepare.address = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cosmicLink, address) {\n    var account;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return resolve.address(cosmicLink, address);\n\n          case 2:\n            account = _context3.sent;\n            return _context3.abrupt('return', account.account_id);\n\n          case 4:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nprepare.asset = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(cosmicLink, asset) {\n    var publicKey;\n    return _regenerator2.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!asset.issuer) {\n              _context4.next = 7;\n              break;\n            }\n\n            _context4.next = 3;\n            return prepare.address(cosmicLink, asset.issuer);\n\n          case 3:\n            publicKey = _context4.sent;\n            return _context4.abrupt('return', new StellarSdk.Asset(asset.code, publicKey));\n\n          case 7:\n            return _context4.abrupt('return', StellarSdk.Asset.native());\n\n          case 8:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nprepare.assetsArray = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(cosmicLink, assetsArray) {\n    var path, index, string, preparedAsset;\n    return _regenerator2.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            path = [];\n            _context5.t0 = _regenerator2.default.keys(assetsArray);\n\n          case 2:\n            if ((_context5.t1 = _context5.t0()).done) {\n              _context5.next = 11;\n              break;\n            }\n\n            index = _context5.t1.value;\n            string = assetsArray[index];\n            _context5.next = 7;\n            return prepare.asset(cosmicLink, string);\n\n          case 7:\n            preparedAsset = _context5.sent;\n\n            path.push(preparedAsset);\n            _context5.next = 2;\n            break;\n\n          case 11:\n            return _context5.abrupt('return', path);\n\n          case 12:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  return function (_x11, _x12) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nprepare.memo = function (cosmicLink, memo) {\n  return new StellarSdk.Memo(memo.type, memo.value);\n};\n\nprepare.signer = function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6(cosmicLink, signer) {\n    var preparedSigner, publicKey;\n    return _regenerator2.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            preparedSigner = { weight: signer.weight };\n            _context6.t0 = signer.type;\n            _context6.next = _context6.t0 === 'key' ? 4 : _context6.t0 === 'hash' ? 9 : _context6.t0 === 'tx' ? 11 : 13;\n            break;\n\n          case 4:\n            _context6.next = 6;\n            return prepare.address(cosmicLink, signer.value);\n\n          case 6:\n            publicKey = _context6.sent;\n\n            preparedSigner.ed25519PublicKey = publicKey;\n            return _context6.abrupt('break', 13);\n\n          case 9:\n            preparedSigner.sha256Hash = signer.value;\n            return _context6.abrupt('break', 13);\n\n          case 11:\n            preparedSigner.preAuthTx = signer.value;\n            return _context6.abrupt('break', 13);\n\n          case 13:\n            return _context6.abrupt('return', preparedSigner);\n\n          case 14:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x13, _x14) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nprepare.source = prepare.address;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9wcmVwYXJlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9wcmVwYXJlLmpzP2M1ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG4vKipcbiAqIENvbnRhaW5zIHRoZSBtZXRob2RzIHRvIGNvbnZlcnQgZmllbGQgdmFsdWVzIGZyb20gQ29zbWljTGluaydzXG4gKiBgdHJhbnNhY3Rpb24gZGVzY3JpcHRvcmAgZm9ybWF0IHRvIFN0ZWxsYXIgdHJhbnNhY3Rpb24gb2JqZWN0IGZvcm1hdC5cbiAqXG4gKiBAZXhwb3J0cyBwcmVwYXJlXG4gKi9cbmNvbnN0IHByZXBhcmUgPSBleHBvcnRzXG5cbmNvbnN0IHNwZWNzID0gcmVxdWlyZSgnLi9zcGVjcycpXG5jb25zdCByZXNvbHZlID0gcmVxdWlyZSgnLi9yZXNvbHZlJylcbmNvbnN0IHN0YXR1cyA9IHJlcXVpcmUoJy4vc3RhdHVzJylcblxuXG4vKipcbiAqIFByZXBhcmUgYHZhbHVlYCBhY2NvcmRpbmdseSB0byBgZmllbGRgIHR5cGUuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5wcmVwYXJlLmZpZWxkID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIGZpZWxkLCB2YWx1ZSkge1xuICBjb25zdCB0eXBlID0gc3BlY3MuZmllbGRUeXBlW2ZpZWxkXVxuICBpZiAodHlwZSkgcmV0dXJuIGF3YWl0IHByZXBhcmUudHlwZShjb3NtaWNMaW5rLCB0eXBlLCB2YWx1ZSlcbiAgZWxzZSBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgJ1Vua25vdyBmaWVsZDogJyArIGZpZWxkLCAndGhyb3cnKVxufVxuXG4vKipcbiAqIFByZXBhcmUgYHZhbHVlYCB1c2luZyB0aGUgcHJlcGFyaW5nIGZ1bmN0aW9uIGZvciBgdHlwZWAuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbnByZXBhcmUudHlwZSA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rLCB0eXBlLCB2YWx1ZSkge1xuICBjb25zdCBwcmVwYXJlciA9IGV4cG9ydHNbdHlwZV1cbiAgaWYgKHByZXBhcmVyKSByZXR1cm4gYXdhaXQgcHJlcGFyZXIoY29zbWljTGluaywgdmFsdWUpXG4gIGVsc2UgcmV0dXJuIHZhbHVlXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnByZXBhcmUuYWRkcmVzcyA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhZGRyZXNzKSB7XG4gIGNvbnN0IGFjY291bnQgPSBhd2FpdCByZXNvbHZlLmFkZHJlc3MoY29zbWljTGluaywgYWRkcmVzcylcbiAgcmV0dXJuIGFjY291bnQuYWNjb3VudF9pZFxufVxuXG5wcmVwYXJlLmFzc2V0ID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIGFzc2V0KSB7XG4gIGlmIChhc3NldC5pc3N1ZXIpIHtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBhd2FpdCBwcmVwYXJlLmFkZHJlc3MoY29zbWljTGluaywgYXNzZXQuaXNzdWVyKVxuICAgIHJldHVybiBuZXcgU3RlbGxhclNkay5Bc3NldChhc3NldC5jb2RlLCBwdWJsaWNLZXkpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFN0ZWxsYXJTZGsuQXNzZXQubmF0aXZlKClcbiAgfVxufVxuXG5wcmVwYXJlLmFzc2V0c0FycmF5ID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIGFzc2V0c0FycmF5KSB7XG4gIGxldCBwYXRoID0gW11cbiAgZm9yIChsZXQgaW5kZXggaW4gYXNzZXRzQXJyYXkpIHtcbiAgICBjb25zdCBzdHJpbmcgPSBhc3NldHNBcnJheVtpbmRleF1cbiAgICBjb25zdCBwcmVwYXJlZEFzc2V0ID0gYXdhaXQgcHJlcGFyZS5hc3NldChjb3NtaWNMaW5rLCBzdHJpbmcpXG4gICAgcGF0aC5wdXNoKHByZXBhcmVkQXNzZXQpXG4gIH1cbiAgcmV0dXJuIHBhdGhcbn1cblxucHJlcGFyZS5tZW1vID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIG1lbW8pIHtcbiAgcmV0dXJuIG5ldyBTdGVsbGFyU2RrLk1lbW8obWVtby50eXBlLCBtZW1vLnZhbHVlKVxufVxuXG5wcmVwYXJlLnNpZ25lciA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBzaWduZXIpIHtcbiAgbGV0IHByZXBhcmVkU2lnbmVyID0geyB3ZWlnaHQ6IHNpZ25lci53ZWlnaHQgfVxuICBzd2l0Y2ggKHNpZ25lci50eXBlKSB7XG4gICAgY2FzZSAna2V5JzpcbiAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGF3YWl0IHByZXBhcmUuYWRkcmVzcyhjb3NtaWNMaW5rLCBzaWduZXIudmFsdWUpXG4gICAgICBwcmVwYXJlZFNpZ25lci5lZDI1NTE5UHVibGljS2V5ID0gcHVibGljS2V5XG4gICAgICBicmVha1xuICAgIGNhc2UgJ2hhc2gnOlxuICAgICAgcHJlcGFyZWRTaWduZXIuc2hhMjU2SGFzaCA9IHNpZ25lci52YWx1ZVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd0eCc6XG4gICAgICBwcmVwYXJlZFNpZ25lci5wcmVBdXRoVHggPSBzaWduZXIudmFsdWVcbiAgICAgIGJyZWFrXG4gIH1cbiAgcmV0dXJuIHByZXBhcmVkU2lnbmVyXG59XG5cbnByZXBhcmUuc291cmNlID0gcHJlcGFyZS5hZGRyZXNzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7Ozs7Ozs7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUZBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUFBO0FBTEE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQUE7QUFMQTtBQUNBO0FBREE7QUFRQTtBQVJBO0FBQ0E7QUFEQTtBQVdBO0FBWEE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBZ0JBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/prepare.js\n");

/***/ }),

/***/ "./src/cosmic-lib/resolve.js":
/*!***********************************!*\
  !*** ./src/cosmic-lib/resolve.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * Contains functions that probe the blockchain or federation servers to collect\n * datas.\n *\n * @exports resolve\n */\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\n/**\n * Cache `promise` resolving to `address`'s account for `accountCacheExpiration`\n * seconds.\n *\n * @private\n * @param {string} address\n * @param {Promise} promise\n */\nvar cacheAccount = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(address, promise) {\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            accountCache[address] = promise;\n            _context.next = 3;\n            return helpers.timeout(resolve.accountCacheExpiration * 1000);\n\n          case 3:\n            delete accountCache[address];\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function cacheAccount(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Return a promise that resolve to `address` account object, as defined in\n * JavaScript Stellar SDK API reference. `address` can be either a Stellar public\n * key or a federated address (account*example.org).\n * Returned results are cached and re-usable.\n *\n * In case of error, change `cosmicLink` status accordingly.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} address\n * @return {Promise} Resolve to `address` account object\n */\n\n\n/**\n * Helper for the previous resolve.address function.\n * Resolve to an account object for `address` or write error/status in\n * `cosmicLink`.\n *\n * @private\n * @param {cosmicLink} cosmicLink\n * @param {string} address\n */\nvar addressResolver = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(cosmicLink, address) {\n    var account, publicKey, alias;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (address.length !== 56 && !address.match(/.*\\*.*\\..*/)) {\n              status.fail(cosmicLink, 'Invalid address(es)');\n              status.error(cosmicLink, 'Invalid address: ' + helpers.shorter(address), 'throw');\n            }\n\n            _context2.prev = 1;\n            _context2.next = 4;\n            return StellarSdk.FederationServer.resolve(address);\n\n          case 4:\n            account = _context2.sent;\n            publicKey = account.account_id;\n\n            if (publicKey) {\n              _context2.next = 8;\n              break;\n            }\n\n            throw new Error('Empty account');\n\n          case 8:\n            if (!account.memo_type && account.memo !== undefined) delete account.memo;\n            if (address !== publicKey) account.address = address;\n            alias = cosmicLink.aliases[publicKey];\n\n            if (alias) account.alias = alias;\n            return _context2.abrupt('return', account);\n\n          case 15:\n            _context2.prev = 15;\n            _context2.t0 = _context2['catch'](1);\n\n            console.log(_context2.t0);\n            status.fail(cosmicLink, 'Unresolved address(es)');\n            status.error(cosmicLink, \"Can't resolve: \" + helpers.shorter(address), 'throw');\n\n          case 20:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 15]]);\n  }));\n\n  return function addressResolver(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Return the account object for `address` on `network`.\n *\n * @param {CL}\n * @param {string} address A public key or a federated address\n * @param {string} network Either 'test' or 'public'\n * @return {Object} The account response\n */\n\n\nvar transactionSources = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee7(cosmicLink, tdesc) {\n    var sources, accounts, index, source, account;\n    return _regenerator2.default.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            sources = tdesc.operations.map(function (entry) {\n              return entry.source;\n            });\n\n            sources.push(tdesc.source || cosmicLink.user);\n\n            accounts = {};\n            _context7.t0 = _regenerator2.default.keys(sources);\n\n          case 4:\n            if ((_context7.t1 = _context7.t0()).done) {\n              _context7.next = 15;\n              break;\n            }\n\n            index = _context7.t1.value;\n            source = sources[index];\n\n            if (source) {\n              _context7.next = 9;\n              break;\n            }\n\n            return _context7.abrupt('continue', 4);\n\n          case 9:\n            _context7.next = 11;\n            return resolve.address(cosmicLink, source);\n\n          case 11:\n            account = _context7.sent;\n\n            accounts[account.account_id] = account;\n            _context7.next = 4;\n            break;\n\n          case 15:\n            return _context7.abrupt('return', Object.keys(accounts));\n\n          case 16:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function transactionSources(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar resolve = exports;\n\nvar helpers = __webpack_require__(/*! ./helpers */ \"./src/cosmic-lib/helpers.js\");\nvar status = __webpack_require__(/*! ./status */ \"./src/cosmic-lib/status.js\");\n\n/**\n * Select the network to be used by `StellarSdk` as being `cosmicLink` current\n * network.\n *\n * @param {CL}\n */\nresolve.network = function (cosmicLink, network) {\n  switch (network) {\n    case 'test':\n      StellarSdk.Network.useTestNetwork();\n      return testServer;\n    case 'public':\n      StellarSdk.Network.usePublicNetwork();\n      return publicServer;\n    default:\n      throw new Error('Invalid network: ' + network);\n  }\n};\n\nvar testServer = new StellarSdk.Server('https://horizon-testnet.stellar.org');\nvar publicServer = new StellarSdk.Server('https://horizon.stellar.org');\n\n/**\n * Configure for how much time the resolved addresses are kept in cache,\n * in seconds. The default is set to 5 minutes to avoid resolving to an outdated\n * address.\n *\n * @const\n */\nresolve.accountCacheExpiration = 5 * 60;\n\n/**\n * Contains promise of previously fetched accounts.\n *\n * @private\n * @type {Object}\n */\nvar accountCache = {};resolve.address = function (cosmicLink, address) {\n  if (accountCache[address]) return accountCache[address];\n  var promise = addressResolver(cosmicLink, address);\n  cacheAccount(address, promise);\n  return promise;\n};resolve.account = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(cosmicLink, address, network) {\n    var server, account, publicKey;\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            server = resolve.network(cosmicLink, network);\n            _context3.next = 3;\n            return resolve.address(cosmicLink, address);\n\n          case 3:\n            account = _context3.sent;\n            publicKey = account.account_id;\n            _context3.prev = 5;\n            return _context3.abrupt('return', server.loadAccount(publicKey));\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n\n            console.log(_context3.t0);\n            status.error(cosmicLink, 'Can\\'t find account', 'throw');\n\n          case 13:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9]]);\n  }));\n\n  return function (_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Returns the source account object for `cosmicLink`\n *\n * @param {CL}\n * @return {Object} The account response\n */\nresolve.getSourceAccount = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(cosmicLink) {\n    var source;\n    return _regenerator2.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return cosmicLink.getSource();\n\n          case 2:\n            source = _context4.sent;\n            _context4.prev = 3;\n            return _context4.abrupt('return', resolve.account(cosmicLink, source, cosmicLink.network));\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4['catch'](3);\n\n            status.error(cosmicLink, 'Can\\'t find source account on ' + cosmicLink.network + ' network');\n            status.fail(cosmicLink, 'Empty source account', 'throw');\n\n          case 11:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n/**\n * Return the signers for the account at `address` on `network`.\n *\n * @param {CL}\n * @param {string} address Either a public key or a federated address\n * @param {string} network Either 'test' or 'public'\n * @return {Object} The signers object from the account response\n */\nresolve.accountSigners = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(cosmicLink, address, network) {\n    var account;\n    return _regenerator2.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return resolve.account(cosmicLink, address, network);\n\n          case 2:\n            account = _context5.sent;\n            return _context5.abrupt('return', account.signers);\n\n          case 4:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  return function (_x9, _x10, _x11) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return an array containing the legit signers for `cosmicLink` transaction.\n *\n * @param {CL}\n * @return {Array} Signers\n */\nresolve.signers = function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6(cosmicLink) {\n    var tdesc, sources, signers, index, source, account, _index, entry, StrKey, signer;\n\n    return _regenerator2.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return cosmicLink.getTdesc();\n\n          case 2:\n            tdesc = _context6.sent;\n            _context6.next = 5;\n            return transactionSources(cosmicLink, tdesc);\n\n          case 5:\n            sources = _context6.sent;\n            signers = [];\n            _context6.t0 = _regenerator2.default.keys(sources);\n\n          case 8:\n            if ((_context6.t1 = _context6.t0()).done) {\n              _context6.next = 17;\n              break;\n            }\n\n            index = _context6.t1.value;\n            source = sources[index];\n            _context6.next = 13;\n            return resolve.account(cosmicLink, source, cosmicLink.network);\n\n          case 13:\n            account = _context6.sent;\n\n\n            for (_index in account.signers) {\n              entry = account.signers[_index];\n              StrKey = StellarSdk.StrKey;\n              signer = { weight: entry.weight, value: entry.key };\n\n              signer.type = entry.type.replace(/^.*_/, '');\n              if (signer.type === 'hash') signer.value = StrKey.decodeSha256Hash(entry.key).toString('hex');\n              if (signer.type === 'tx') {\n                signer.value = StrKey.decodePreAuthTx(entry.key).toString('hex');\n              }\n              signer.getSignature = getSignature(cosmicLink, signer);\n              signers.push(signer);\n            }\n            _context6.next = 8;\n            break;\n\n          case 17:\n            return _context6.abrupt('return', signers.sort(function (a, b) {\n              return b.weight - a.weight;\n            }));\n\n          case 18:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nfunction getSignature(cosmicLink, signer) {\n  var _this = this;\n\n  return helpers.delay(_asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {\n    var tdesc, keypair, hint;\n    return _regenerator2.default.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.t0 = signer.type;\n            _context8.next = _context8.t0 === 'tx' ? 3 : _context8.t0 === 'hash' ? 12 : _context8.t0 === 'key' ? 13 : 21;\n            break;\n\n          case 3:\n            _context8.prev = 3;\n            _context8.next = 6;\n            return resolve.transaction(cosmicLink, signer.value);\n\n          case 6:\n            return _context8.abrupt('return', true);\n\n          case 9:\n            _context8.prev = 9;\n            _context8.t1 = _context8['catch'](3);\n            return _context8.abrupt('return', false);\n\n          case 12:\n            return _context8.abrupt('return', false);\n\n          case 13:\n            _context8.next = 15;\n            return cosmicLink.getTdesc();\n\n          case 15:\n            tdesc = _context8.sent;\n\n            if (tdesc.signatures) {\n              _context8.next = 18;\n              break;\n            }\n\n            return _context8.abrupt('return', false);\n\n          case 18:\n            keypair = StellarSdk.Keypair.fromPublicKey(signer.value);\n            hint = keypair.signatureHint().toString('base64');\n            return _context8.abrupt('return', tdesc.signatures.find(function (entry) {\n              if (entry.hint === hint) return entry.signature;\n            }));\n\n          case 21:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, _this, [[3, 9]]);\n  })));\n}\n\nresolve.hasSigned = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee9(cosmicLink, type, value) {\n    var signers, index, signer;\n    return _regenerator2.default.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.next = 2;\n            return cosmicLink.getSigners();\n\n          case 2:\n            signers = _context9.sent;\n            _context9.t0 = _regenerator2.default.keys(signers);\n\n          case 4:\n            if ((_context9.t1 = _context9.t0()).done) {\n              _context9.next = 16;\n              break;\n            }\n\n            index = _context9.t1.value;\n            signer = signers[index];\n            _context9.t2 = signer.type === type && signer.value === value;\n\n            if (!_context9.t2) {\n              _context9.next = 12;\n              break;\n            }\n\n            _context9.next = 11;\n            return signer.getSignature();\n\n          case 11:\n            _context9.t2 = _context9.sent;\n\n          case 12:\n            if (!_context9.t2) {\n              _context9.next = 14;\n              break;\n            }\n\n            return _context9.abrupt('return', true);\n\n          case 14:\n            _context9.next = 4;\n            break;\n\n          case 16:\n            return _context9.abrupt('return', false);\n\n          case 17:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n\n  return function (_x15, _x16, _x17) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nresolve.transaction = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee10(cosmicLink, txHash) {\n    var caller;\n    return _regenerator2.default.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            caller = cosmicLink.server.transactions();\n            return _context10.abrupt('return', caller.transaction(txHash).call());\n\n          case 2:\n          case 'end':\n            return _context10.stop();\n        }\n      }\n    }, _callee10, this);\n  }));\n\n  return function (_x18, _x19) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\n//~ async function getThreshold (cosmicLink) {\n//~ const signers = await cosmicLink.getSigners()\n//~ const max = signers.reduce((accum, entry) => accum + entry.weight)\n//~ const current = signers.reduce((accum, entry) => accum + entry.signature ? entry.weight : 0)\n//~ return { current: current, max: max, required: 0 }\n//~ }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9yZXNvbHZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY29zbWljLWxpYi9yZXNvbHZlLmpzP2ZkMDMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG4vKipcbiAqIENvbnRhaW5zIGZ1bmN0aW9ucyB0aGF0IHByb2JlIHRoZSBibG9ja2NoYWluIG9yIGZlZGVyYXRpb24gc2VydmVycyB0byBjb2xsZWN0XG4gKiBkYXRhcy5cbiAqXG4gKiBAZXhwb3J0cyByZXNvbHZlXG4gKi9cbmNvbnN0IHJlc29sdmUgPSBleHBvcnRzXG5cbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKVxuY29uc3Qgc3RhdHVzID0gcmVxdWlyZSgnLi9zdGF0dXMnKVxuXG5cbi8qKlxuICogU2VsZWN0IHRoZSBuZXR3b3JrIHRvIGJlIHVzZWQgYnkgYFN0ZWxsYXJTZGtgIGFzIGJlaW5nIGBjb3NtaWNMaW5rYCBjdXJyZW50XG4gKiBuZXR3b3JrLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKi9cbnJlc29sdmUubmV0d29yayA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBuZXR3b3JrKSB7XG4gIHN3aXRjaCAobmV0d29yaykge1xuICAgIGNhc2UgJ3Rlc3QnOlxuICAgICAgU3RlbGxhclNkay5OZXR3b3JrLnVzZVRlc3ROZXR3b3JrKClcbiAgICAgIHJldHVybiB0ZXN0U2VydmVyXG4gICAgY2FzZSAncHVibGljJzpcbiAgICAgIFN0ZWxsYXJTZGsuTmV0d29yay51c2VQdWJsaWNOZXR3b3JrKClcbiAgICAgIHJldHVybiBwdWJsaWNTZXJ2ZXJcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmV0d29yazogJyArIG5ldHdvcmspXG4gIH1cbn1cblxuY29uc3QgdGVzdFNlcnZlciA9IG5ldyBTdGVsbGFyU2RrLlNlcnZlcignaHR0cHM6Ly9ob3Jpem9uLXRlc3RuZXQuc3RlbGxhci5vcmcnKVxuY29uc3QgcHVibGljU2VydmVyID0gbmV3IFN0ZWxsYXJTZGsuU2VydmVyKCdodHRwczovL2hvcml6b24uc3RlbGxhci5vcmcnKVxuXG4vKipcbiAqIENvbmZpZ3VyZSBmb3IgaG93IG11Y2ggdGltZSB0aGUgcmVzb2x2ZWQgYWRkcmVzc2VzIGFyZSBrZXB0IGluIGNhY2hlLFxuICogaW4gc2Vjb25kcy4gVGhlIGRlZmF1bHQgaXMgc2V0IHRvIDUgbWludXRlcyB0byBhdm9pZCByZXNvbHZpbmcgdG8gYW4gb3V0ZGF0ZWRcbiAqIGFkZHJlc3MuXG4gKlxuICogQGNvbnN0XG4gKi9cbnJlc29sdmUuYWNjb3VudENhY2hlRXhwaXJhdGlvbiA9IDUgKiA2MFxuXG4vKipcbiAqIENvbnRhaW5zIHByb21pc2Ugb2YgcHJldmlvdXNseSBmZXRjaGVkIGFjY291bnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5jb25zdCBhY2NvdW50Q2FjaGUgPSB7fVxuXG4vKipcbiAqIENhY2hlIGBwcm9taXNlYCByZXNvbHZpbmcgdG8gYGFkZHJlc3NgJ3MgYWNjb3VudCBmb3IgYGFjY291bnRDYWNoZUV4cGlyYXRpb25gXG4gKiBzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gYWRkcmVzc1xuICogQHBhcmFtIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNhY2hlQWNjb3VudCAoYWRkcmVzcywgcHJvbWlzZSkge1xuICBhY2NvdW50Q2FjaGVbYWRkcmVzc10gPSBwcm9taXNlXG4gIGF3YWl0IGhlbHBlcnMudGltZW91dChyZXNvbHZlLmFjY291bnRDYWNoZUV4cGlyYXRpb24gKiAxMDAwKVxuICBkZWxldGUgYWNjb3VudENhY2hlW2FkZHJlc3NdXG59XG5cbi8qKlxuICogUmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmUgdG8gYGFkZHJlc3NgIGFjY291bnQgb2JqZWN0LCBhcyBkZWZpbmVkIGluXG4gKiBKYXZhU2NyaXB0IFN0ZWxsYXIgU0RLIEFQSSByZWZlcmVuY2UuIGBhZGRyZXNzYCBjYW4gYmUgZWl0aGVyIGEgU3RlbGxhciBwdWJsaWNcbiAqIGtleSBvciBhIGZlZGVyYXRlZCBhZGRyZXNzIChhY2NvdW50KmV4YW1wbGUub3JnKS5cbiAqIFJldHVybmVkIHJlc3VsdHMgYXJlIGNhY2hlZCBhbmQgcmUtdXNhYmxlLlxuICpcbiAqIEluIGNhc2Ugb2YgZXJyb3IsIGNoYW5nZSBgY29zbWljTGlua2Agc3RhdHVzIGFjY29yZGluZ2x5LlxuICpcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NcbiAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmUgdG8gYGFkZHJlc3NgIGFjY291bnQgb2JqZWN0XG4gKi9cbnJlc29sdmUuYWRkcmVzcyA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBhZGRyZXNzKSB7XG4gIGlmIChhY2NvdW50Q2FjaGVbYWRkcmVzc10pIHJldHVybiBhY2NvdW50Q2FjaGVbYWRkcmVzc11cbiAgY29uc3QgcHJvbWlzZSA9IGFkZHJlc3NSZXNvbHZlcihjb3NtaWNMaW5rLCBhZGRyZXNzKVxuICBjYWNoZUFjY291bnQoYWRkcmVzcywgcHJvbWlzZSlcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuLyoqXG4gKiBIZWxwZXIgZm9yIHRoZSBwcmV2aW91cyByZXNvbHZlLmFkZHJlc3MgZnVuY3Rpb24uXG4gKiBSZXNvbHZlIHRvIGFuIGFjY291bnQgb2JqZWN0IGZvciBgYWRkcmVzc2Agb3Igd3JpdGUgZXJyb3Ivc3RhdHVzIGluXG4gKiBgY29zbWljTGlua2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYWRkcmVzc1Jlc29sdmVyIChjb3NtaWNMaW5rLCBhZGRyZXNzKSB7XG4gIGlmIChhZGRyZXNzLmxlbmd0aCAhPT0gNTYgJiYgIWFkZHJlc3MubWF0Y2goLy4qXFwqLipcXC4uKi8pKSB7XG4gICAgc3RhdHVzLmZhaWwoY29zbWljTGluaywgJ0ludmFsaWQgYWRkcmVzcyhlcyknKVxuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCAnSW52YWxpZCBhZGRyZXNzOiAnICsgaGVscGVycy5zaG9ydGVyKGFkZHJlc3MpLCAndGhyb3cnKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgU3RlbGxhclNkay5GZWRlcmF0aW9uU2VydmVyLnJlc29sdmUoYWRkcmVzcylcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBhY2NvdW50LmFjY291bnRfaWRcbiAgICBpZiAoIXB1YmxpY0tleSkgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSBhY2NvdW50JylcbiAgICBpZiAoIWFjY291bnQubWVtb190eXBlICYmIGFjY291bnQubWVtbyAhPT0gdW5kZWZpbmVkKSBkZWxldGUgYWNjb3VudC5tZW1vXG4gICAgaWYgKGFkZHJlc3MgIT09IHB1YmxpY0tleSkgYWNjb3VudC5hZGRyZXNzID0gYWRkcmVzc1xuICAgIGNvbnN0IGFsaWFzID0gY29zbWljTGluay5hbGlhc2VzW3B1YmxpY0tleV1cbiAgICBpZiAoYWxpYXMpIGFjY291bnQuYWxpYXMgPSBhbGlhc1xuICAgIHJldHVybiBhY2NvdW50XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgc3RhdHVzLmZhaWwoY29zbWljTGluaywgJ1VucmVzb2x2ZWQgYWRkcmVzcyhlcyknKVxuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCBcIkNhbid0IHJlc29sdmU6IFwiICsgaGVscGVycy5zaG9ydGVyKGFkZHJlc3MpLCAndGhyb3cnKVxuICB9XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGFjY291bnQgb2JqZWN0IGZvciBgYWRkcmVzc2Agb24gYG5ldHdvcmtgLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcGFyYW0ge3N0cmluZ30gYWRkcmVzcyBBIHB1YmxpYyBrZXkgb3IgYSBmZWRlcmF0ZWQgYWRkcmVzc1xuICogQHBhcmFtIHtzdHJpbmd9IG5ldHdvcmsgRWl0aGVyICd0ZXN0JyBvciAncHVibGljJ1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgYWNjb3VudCByZXNwb25zZVxuICovXG5yZXNvbHZlLmFjY291bnQgPSBhc3luYyBmdW5jdGlvbiAoY29zbWljTGluaywgYWRkcmVzcywgbmV0d29yaykge1xuICBjb25zdCBzZXJ2ZXIgPSByZXNvbHZlLm5ldHdvcmsoY29zbWljTGluaywgbmV0d29yaylcbiAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHJlc29sdmUuYWRkcmVzcyhjb3NtaWNMaW5rLCBhZGRyZXNzKVxuICBjb25zdCBwdWJsaWNLZXkgPSBhY2NvdW50LmFjY291bnRfaWRcbiAgdHJ5IHtcbiAgICByZXR1cm4gc2VydmVyLmxvYWRBY2NvdW50KHB1YmxpY0tleSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICBzdGF0dXMuZXJyb3IoY29zbWljTGluaywgYENhbid0IGZpbmQgYWNjb3VudGAsICd0aHJvdycpXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzb3VyY2UgYWNjb3VudCBvYmplY3QgZm9yIGBjb3NtaWNMaW5rYFxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBhY2NvdW50IHJlc3BvbnNlXG4gKi9cbnJlc29sdmUuZ2V0U291cmNlQWNjb3VudCA9IGFzeW5jIGZ1bmN0aW9uIChjb3NtaWNMaW5rKSB7XG4gIGNvbnN0IHNvdXJjZSA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0U291cmNlKClcbiAgdHJ5IHtcbiAgICByZXR1cm4gcmVzb2x2ZS5hY2NvdW50KGNvc21pY0xpbmssIHNvdXJjZSwgY29zbWljTGluay5uZXR3b3JrKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHN0YXR1cy5lcnJvcihjb3NtaWNMaW5rLCBgQ2FuJ3QgZmluZCBzb3VyY2UgYWNjb3VudCBvbiAke2Nvc21pY0xpbmsubmV0d29ya30gbmV0d29ya2ApXG4gICAgc3RhdHVzLmZhaWwoY29zbWljTGluaywgJ0VtcHR5IHNvdXJjZSBhY2NvdW50JywgJ3Rocm93JylcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgc2lnbmVycyBmb3IgdGhlIGFjY291bnQgYXQgYGFkZHJlc3NgIG9uIGBuZXR3b3JrYC5cbiAqXG4gKiBAcGFyYW0ge0NMfVxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3MgRWl0aGVyIGEgcHVibGljIGtleSBvciBhIGZlZGVyYXRlZCBhZGRyZXNzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV0d29yayBFaXRoZXIgJ3Rlc3QnIG9yICdwdWJsaWMnXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzaWduZXJzIG9iamVjdCBmcm9tIHRoZSBhY2NvdW50IHJlc3BvbnNlXG4gKi9cbnJlc29sdmUuYWNjb3VudFNpZ25lcnMgPSBhc3luYyBmdW5jdGlvbiAoY29zbWljTGluaywgYWRkcmVzcywgbmV0d29yaykge1xuICBjb25zdCBhY2NvdW50ID0gYXdhaXQgcmVzb2x2ZS5hY2NvdW50KGNvc21pY0xpbmssIGFkZHJlc3MsIG5ldHdvcmspXG4gIHJldHVybiBhY2NvdW50LnNpZ25lcnNcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbGVnaXQgc2lnbmVycyBmb3IgYGNvc21pY0xpbmtgIHRyYW5zYWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q0x9XG4gKiBAcmV0dXJuIHtBcnJheX0gU2lnbmVyc1xuICovXG5yZXNvbHZlLnNpZ25lcnMgPSBhc3luYyBmdW5jdGlvbiAoY29zbWljTGluaykge1xuICBjb25zdCB0ZGVzYyA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0VGRlc2MoKVxuICBjb25zdCBzb3VyY2VzID0gYXdhaXQgdHJhbnNhY3Rpb25Tb3VyY2VzKGNvc21pY0xpbmssIHRkZXNjKVxuXG4gIGNvbnN0IHNpZ25lcnMgPSBbXVxuICBmb3IgKGxldCBpbmRleCBpbiBzb3VyY2VzKSB7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleF1cbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgcmVzb2x2ZS5hY2NvdW50KGNvc21pY0xpbmssIHNvdXJjZSwgY29zbWljTGluay5uZXR3b3JrKVxuXG4gICAgZm9yIChsZXQgaW5kZXggaW4gYWNjb3VudC5zaWduZXJzKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IGFjY291bnQuc2lnbmVyc1tpbmRleF1cbiAgICAgIGNvbnN0IFN0cktleSA9IFN0ZWxsYXJTZGsuU3RyS2V5XG4gICAgICBjb25zdCBzaWduZXIgPSB7IHdlaWdodDogZW50cnkud2VpZ2h0LCB2YWx1ZTogZW50cnkua2V5IH1cbiAgICAgIHNpZ25lci50eXBlID0gZW50cnkudHlwZS5yZXBsYWNlKC9eLipfLywgJycpXG4gICAgICBpZiAoc2lnbmVyLnR5cGUgPT09ICdoYXNoJykgc2lnbmVyLnZhbHVlID0gU3RyS2V5LmRlY29kZVNoYTI1Nkhhc2goZW50cnkua2V5KS50b1N0cmluZygnaGV4JylcbiAgICAgIGlmIChzaWduZXIudHlwZSA9PT0gJ3R4Jykge1xuICAgICAgICBzaWduZXIudmFsdWUgPSBTdHJLZXkuZGVjb2RlUHJlQXV0aFR4KGVudHJ5LmtleSkudG9TdHJpbmcoJ2hleCcpXG4gICAgICB9XG4gICAgICBzaWduZXIuZ2V0U2lnbmF0dXJlID0gZ2V0U2lnbmF0dXJlKGNvc21pY0xpbmssIHNpZ25lcilcbiAgICAgIHNpZ25lcnMucHVzaChzaWduZXIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNpZ25lcnMuc29ydCgoYSwgYikgPT4gYi53ZWlnaHQgLSBhLndlaWdodClcbn1cblxuYXN5bmMgZnVuY3Rpb24gdHJhbnNhY3Rpb25Tb3VyY2VzIChjb3NtaWNMaW5rLCB0ZGVzYykge1xuICBjb25zdCBzb3VyY2VzID0gdGRlc2Mub3BlcmF0aW9ucy5tYXAoZW50cnkgPT4gZW50cnkuc291cmNlKVxuICBzb3VyY2VzLnB1c2godGRlc2Muc291cmNlIHx8IGNvc21pY0xpbmsudXNlcilcblxuICBsZXQgYWNjb3VudHMgPSB7fVxuICBmb3IgKGxldCBpbmRleCBpbiBzb3VyY2VzKSB7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleF1cbiAgICBpZiAoIXNvdXJjZSkgY29udGludWVcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgcmVzb2x2ZS5hZGRyZXNzKGNvc21pY0xpbmssIHNvdXJjZSlcbiAgICBhY2NvdW50c1thY2NvdW50LmFjY291bnRfaWRdID0gYWNjb3VudFxuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGFjY291bnRzKVxufVxuXG5mdW5jdGlvbiBnZXRTaWduYXR1cmUgKGNvc21pY0xpbmssIHNpZ25lcikge1xuICByZXR1cm4gaGVscGVycy5kZWxheShhc3luYyAoKSA9PiB7XG4gICAgc3dpdGNoIChzaWduZXIudHlwZSkge1xuICAgICAgY2FzZSAndHgnOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHJlc29sdmUudHJhbnNhY3Rpb24oY29zbWljTGluaywgc2lnbmVyLnZhbHVlKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2hhc2gnOiByZXR1cm4gZmFsc2VcbiAgICAgIGNhc2UgJ2tleSc6XG4gICAgICAgIGNvbnN0IHRkZXNjID0gYXdhaXQgY29zbWljTGluay5nZXRUZGVzYygpXG4gICAgICAgIGlmICghdGRlc2Muc2lnbmF0dXJlcykgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgY29uc3Qga2V5cGFpciA9IFN0ZWxsYXJTZGsuS2V5cGFpci5mcm9tUHVibGljS2V5KHNpZ25lci52YWx1ZSlcbiAgICAgICAgY29uc3QgaGludCA9IGtleXBhaXIuc2lnbmF0dXJlSGludCgpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICByZXR1cm4gdGRlc2Muc2lnbmF0dXJlcy5maW5kKGVudHJ5ID0+IHtcbiAgICAgICAgICBpZiAoZW50cnkuaGludCA9PT0gaGludCkgcmV0dXJuIGVudHJ5LnNpZ25hdHVyZVxuICAgICAgICB9KVxuICAgIH1cbiAgfSlcbn1cblxucmVzb2x2ZS5oYXNTaWduZWQgPSBhc3luYyBmdW5jdGlvbiAoY29zbWljTGluaywgdHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc2lnbmVycyA9IGF3YWl0IGNvc21pY0xpbmsuZ2V0U2lnbmVycygpXG4gIGZvciAobGV0IGluZGV4IGluIHNpZ25lcnMpIHtcbiAgICBjb25zdCBzaWduZXIgPSBzaWduZXJzW2luZGV4XVxuICAgIGlmIChcbiAgICAgIHNpZ25lci50eXBlID09PSB0eXBlICYmXG4gICAgICBzaWduZXIudmFsdWUgPT09IHZhbHVlICYmXG4gICAgICBhd2FpdCBzaWduZXIuZ2V0U2lnbmF0dXJlKClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5yZXNvbHZlLnRyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gKGNvc21pY0xpbmssIHR4SGFzaCkge1xuICBjb25zdCBjYWxsZXIgPSBjb3NtaWNMaW5rLnNlcnZlci50cmFuc2FjdGlvbnMoKVxuICByZXR1cm4gY2FsbGVyLnRyYW5zYWN0aW9uKHR4SGFzaCkuY2FsbCgpXG59XG5cbi8vfiBhc3luYyBmdW5jdGlvbiBnZXRUaHJlc2hvbGQgKGNvc21pY0xpbmspIHtcbiAgLy9+IGNvbnN0IHNpZ25lcnMgPSBhd2FpdCBjb3NtaWNMaW5rLmdldFNpZ25lcnMoKVxuICAvL34gY29uc3QgbWF4ID0gc2lnbmVycy5yZWR1Y2UoKGFjY3VtLCBlbnRyeSkgPT4gYWNjdW0gKyBlbnRyeS53ZWlnaHQpXG4gIC8vfiBjb25zdCBjdXJyZW50ID0gc2lnbmVycy5yZWR1Y2UoKGFjY3VtLCBlbnRyeSkgPT4gYWNjdW0gKyBlbnRyeS5zaWduYXR1cmUgPyBlbnRyeS53ZWlnaHQgOiAwKVxuICAvL34gcmV0dXJuIHsgY3VycmVudDogY3VycmVudCwgbWF4OiBtYXgsIHJlcXVpcmVkOiAwIH1cbi8vfiB9XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBa0RBOzs7Ozs7Ozs7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7O0FBTUE7Ozs7Ozs7Ozs7Ozs7O0FBbUJBOzs7Ozs7Ozs7O0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWJBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7QUF1QkE7Ozs7Ozs7Ozs7O0FBaUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQ0E7QUFBQTtBQVRBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7Ozs7O0FBOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUE2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUhBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFXQTs7Ozs7O0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVNBOzs7Ozs7OztBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBOzs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFFQTtBQUpBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBTkE7QUFBQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBdUJBO0FBQUE7QUFDQTtBQXhCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXdDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVdBO0FBQ0E7QUFaQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBY0E7QUFDQTtBQWZBO0FBaUJBO0FBQ0E7QUFDQTtBQW5CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXFCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBY0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/resolve.js\n");

/***/ }),

/***/ "./src/cosmic-lib/specs.js":
/*!*********************************!*\
  !*** ./src/cosmic-lib/specs.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n'use_strict';\n/**\n * Contains Stellar transactions specification.\n *\n * @export specs\n */\n\nvar specs = exports;\n\n/**\n * Transaction optional fields.\n */\nspecs.transactionOptionalFields = ['network', 'memo', 'source', 'sequence', 'minTime', 'maxTime', 'fee'];\n\n/**\n * Operation mandatory fields.\n */\nspecs.operationMandatoryFields = {\n  accountMerge: ['destination'],\n  allowTrust: ['assetCode', 'trustor'],\n  changeTrust: ['asset'],\n  createAccount: ['destination', 'startingBalance'],\n  createPassiveOffer: ['selling', 'buying', 'amount', 'price'],\n  inflation: [],\n  manageData: ['name'],\n  manageOffer: ['selling', 'buying', 'amount', 'price'],\n  pathPayment: ['sendAsset', 'sendMax', 'destination', 'destAsset', 'destAmount'],\n  payment: ['asset', 'destination', 'amount'],\n  setOptions: []\n\n  /**\n   * Operation optionnal fields.\n   */\n};specs.operationOptionalFields = {\n  accountMerge: ['source'],\n  allowTrust: ['authorize', 'source'],\n  changeTrust: ['limit', 'source'],\n  createAccount: ['source'],\n  createPassiveOffer: ['source'],\n  inflation: ['source'],\n  manageData: ['value', 'source'],\n  manageOffer: ['offerId', 'source'],\n  pathPayment: ['path', 'source'],\n  payment: ['source'],\n  setOptions: ['inflationDest', 'clearFlags', 'setFlags', 'masterWeight', 'lowThreshold', 'medThreshold', 'highThreshold', 'signer', 'homeDomain', 'source']\n\n  /**\n   * Field types.\n   */\n};specs.fieldType = {\n  amount: 'amount',\n  asset: 'asset',\n  assetCode: 'string',\n  authorize: 'boolean',\n  buying: 'asset',\n  clearFlags: 'flags',\n  destAsset: 'asset',\n  destAmount: 'amount',\n  destination: 'address',\n  fee: 'amount',\n  highThreshold: 'threshold',\n  homeDomain: 'string',\n  inflationDest: 'address',\n  limit: 'amount',\n  lowThreshold: 'threshold',\n  masterWeight: 'weight',\n  maxTime: 'date',\n  medThreshold: 'threshold',\n  memo: 'memo',\n  minTime: 'date',\n  network: 'network',\n  offerId: 'string',\n  price: 'price',\n  name: 'string',\n  path: 'assetsArray',\n  selling: 'asset',\n  sendAsset: 'asset',\n  sendMax: 'amount',\n  sequence: 'sequence',\n  setFlags: 'flags',\n  signer: 'signer',\n  source: 'address',\n  startingBalance: 'amount',\n  trustor: 'address',\n  value: 'string'\n\n  /**\n   * Transaction field meaning.\n   */\n};specs.fieldDesc = {\n  source: 'Source',\n  fee: 'Fees',\n  minTime: 'Valid only after',\n  maxTime: 'Valid only before',\n  memo: 'Memo',\n\n  network: 'Network',\n  sequence: 'Sequence'\n\n  /**\n   * An array of each valid type for fields.\n   */\n};specs.types = [];\n\nvar _loop = function _loop(field) {\n  var type = specs.fieldType[field];\n  specs.types.find(function (entry) {\n    return entry === type;\n  }) || specs.types.push(type);\n};\n\nfor (var field in specs.fieldType) {\n  _loop(field);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9zcGVjcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Nvc21pYy1saWIvc3BlY3MuanM/MjYzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlX3N0cmljdCdcbi8qKlxuICogQ29udGFpbnMgU3RlbGxhciB0cmFuc2FjdGlvbnMgc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBAZXhwb3J0IHNwZWNzXG4gKi9cbmNvbnN0IHNwZWNzID0gZXhwb3J0c1xuXG4vKipcbiAqIFRyYW5zYWN0aW9uIG9wdGlvbmFsIGZpZWxkcy5cbiAqL1xuc3BlY3MudHJhbnNhY3Rpb25PcHRpb25hbEZpZWxkcyA9IFtcbiAgJ25ldHdvcmsnLCAnbWVtbycsICdzb3VyY2UnLCAnc2VxdWVuY2UnLFxuICAnbWluVGltZScsICdtYXhUaW1lJywgJ2ZlZSdcbl1cblxuLyoqXG4gKiBPcGVyYXRpb24gbWFuZGF0b3J5IGZpZWxkcy5cbiAqL1xuc3BlY3Mub3BlcmF0aW9uTWFuZGF0b3J5RmllbGRzID0ge1xuICBhY2NvdW50TWVyZ2U6IFsnZGVzdGluYXRpb24nXSxcbiAgYWxsb3dUcnVzdDogWydhc3NldENvZGUnLCAndHJ1c3RvciddLFxuICBjaGFuZ2VUcnVzdDogWydhc3NldCddLFxuICBjcmVhdGVBY2NvdW50OiBbJ2Rlc3RpbmF0aW9uJywgJ3N0YXJ0aW5nQmFsYW5jZSddLFxuICBjcmVhdGVQYXNzaXZlT2ZmZXI6IFsnc2VsbGluZycsICdidXlpbmcnLCAnYW1vdW50JywgJ3ByaWNlJ10sXG4gIGluZmxhdGlvbjogW10sXG4gIG1hbmFnZURhdGE6IFsnbmFtZSddLFxuICBtYW5hZ2VPZmZlcjogWydzZWxsaW5nJywgJ2J1eWluZycsICdhbW91bnQnLCAncHJpY2UnXSxcbiAgcGF0aFBheW1lbnQ6IFsnc2VuZEFzc2V0JywgJ3NlbmRNYXgnLCAnZGVzdGluYXRpb24nLCAnZGVzdEFzc2V0JywgJ2Rlc3RBbW91bnQnXSxcbiAgcGF5bWVudDogWydhc3NldCcsICdkZXN0aW5hdGlvbicsICdhbW91bnQnXSxcbiAgc2V0T3B0aW9uczogW11cbn1cblxuLyoqXG4gKiBPcGVyYXRpb24gb3B0aW9ubmFsIGZpZWxkcy5cbiAqL1xuc3BlY3Mub3BlcmF0aW9uT3B0aW9uYWxGaWVsZHMgPSB7XG4gIGFjY291bnRNZXJnZTogWydzb3VyY2UnXSxcbiAgYWxsb3dUcnVzdDogWydhdXRob3JpemUnLCAnc291cmNlJ10sXG4gIGNoYW5nZVRydXN0OiBbJ2xpbWl0JywgJ3NvdXJjZSddLFxuICBjcmVhdGVBY2NvdW50OiBbJ3NvdXJjZSddLFxuICBjcmVhdGVQYXNzaXZlT2ZmZXI6IFsnc291cmNlJ10sXG4gIGluZmxhdGlvbjogWydzb3VyY2UnXSxcbiAgbWFuYWdlRGF0YTogWyd2YWx1ZScsICdzb3VyY2UnXSxcbiAgbWFuYWdlT2ZmZXI6IFsnb2ZmZXJJZCcsICdzb3VyY2UnXSxcbiAgcGF0aFBheW1lbnQ6IFsncGF0aCcsICdzb3VyY2UnXSxcbiAgcGF5bWVudDogWydzb3VyY2UnXSxcbiAgc2V0T3B0aW9uczogWydpbmZsYXRpb25EZXN0JywgJ2NsZWFyRmxhZ3MnLCAnc2V0RmxhZ3MnLCAnbWFzdGVyV2VpZ2h0JyxcbiAgICAnbG93VGhyZXNob2xkJywgJ21lZFRocmVzaG9sZCcsICdoaWdoVGhyZXNob2xkJywgJ3NpZ25lcicsICdob21lRG9tYWluJyxcbiAgICAnc291cmNlJ11cbn1cblxuXG5cbi8qKlxuICogRmllbGQgdHlwZXMuXG4gKi9cbnNwZWNzLmZpZWxkVHlwZSA9IHtcbiAgYW1vdW50OiAnYW1vdW50JyxcbiAgYXNzZXQ6ICdhc3NldCcsXG4gIGFzc2V0Q29kZTogJ3N0cmluZycsXG4gIGF1dGhvcml6ZTogJ2Jvb2xlYW4nLFxuICBidXlpbmc6ICdhc3NldCcsXG4gIGNsZWFyRmxhZ3M6ICdmbGFncycsXG4gIGRlc3RBc3NldDogJ2Fzc2V0JyxcbiAgZGVzdEFtb3VudDogJ2Ftb3VudCcsXG4gIGRlc3RpbmF0aW9uOiAnYWRkcmVzcycsXG4gIGZlZTogJ2Ftb3VudCcsXG4gIGhpZ2hUaHJlc2hvbGQ6ICd0aHJlc2hvbGQnLFxuICBob21lRG9tYWluOiAnc3RyaW5nJyxcbiAgaW5mbGF0aW9uRGVzdDogJ2FkZHJlc3MnLFxuICBsaW1pdDogJ2Ftb3VudCcsXG4gIGxvd1RocmVzaG9sZDogJ3RocmVzaG9sZCcsXG4gIG1hc3RlcldlaWdodDogJ3dlaWdodCcsXG4gIG1heFRpbWU6ICdkYXRlJyxcbiAgbWVkVGhyZXNob2xkOiAndGhyZXNob2xkJyxcbiAgbWVtbzogJ21lbW8nLFxuICBtaW5UaW1lOiAnZGF0ZScsXG4gIG5ldHdvcms6ICduZXR3b3JrJyxcbiAgb2ZmZXJJZDogJ3N0cmluZycsXG4gIHByaWNlOiAncHJpY2UnLFxuICBuYW1lOiAnc3RyaW5nJyxcbiAgcGF0aDogJ2Fzc2V0c0FycmF5JyxcbiAgc2VsbGluZzogJ2Fzc2V0JyxcbiAgc2VuZEFzc2V0OiAnYXNzZXQnLFxuICBzZW5kTWF4OiAnYW1vdW50JyxcbiAgc2VxdWVuY2U6ICdzZXF1ZW5jZScsXG4gIHNldEZsYWdzOiAnZmxhZ3MnLFxuICBzaWduZXI6ICdzaWduZXInLFxuICBzb3VyY2U6ICdhZGRyZXNzJyxcbiAgc3RhcnRpbmdCYWxhbmNlOiAnYW1vdW50JyxcbiAgdHJ1c3RvcjogJ2FkZHJlc3MnLFxuICB2YWx1ZTogJ3N0cmluZydcbn1cblxuLyoqXG4gKiBUcmFuc2FjdGlvbiBmaWVsZCBtZWFuaW5nLlxuICovXG5zcGVjcy5maWVsZERlc2MgPSB7XG4gIHNvdXJjZTogJ1NvdXJjZScsXG4gIGZlZTogJ0ZlZXMnLFxuICBtaW5UaW1lOiAnVmFsaWQgb25seSBhZnRlcicsXG4gIG1heFRpbWU6ICdWYWxpZCBvbmx5IGJlZm9yZScsXG4gIG1lbW86ICdNZW1vJyxcblxuICBuZXR3b3JrOiAnTmV0d29yaycsXG4gIHNlcXVlbmNlOiAnU2VxdWVuY2UnXG59XG5cbi8qKlxuICogQW4gYXJyYXkgb2YgZWFjaCB2YWxpZCB0eXBlIGZvciBmaWVsZHMuXG4gKi9cbnNwZWNzLnR5cGVzID0gW11cbmZvciAobGV0IGZpZWxkIGluIHNwZWNzLmZpZWxkVHlwZSkge1xuICBjb25zdCB0eXBlID0gc3BlY3MuZmllbGRUeXBlW2ZpZWxkXVxuICBzcGVjcy50eXBlcy5maW5kKGVudHJ5ID0+IGVudHJ5ID09PSB0eXBlKSB8fCBzcGVjcy50eXBlcy5wdXNoKHR5cGUpXG59XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOzs7Ozs7QUFLQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFJQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBZEE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7OztBQWxCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBdENBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFYQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7O0FBRkE7QUFBQTtBQUdBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cosmic-lib/specs.js\n");

/***/ }),

/***/ "./src/cosmic-lib/status.js":
/*!**********************************!*\
  !*** ./src/cosmic-lib/status.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Contains the methods to update cosmic link status and HTML status node.\n * This is mostly about error handling.\n *\n * @exports status\n */\n\nvar status = exports;\n\nvar node = __webpack_require__(/*! ./node */ \"./src/cosmic-lib/node.js\");\n\n/**\n * Set `cosmicLink` status as `status` and update statusNode.\n * All status are considered erroneous.\n * Error status should be recorded using the fail function bellow.\n * A valid cosmic link may have no status at all.\n * `status` changes are logged.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} status\n */\nstatus.update = function (cosmicLink, status) {\n  if (cosmicLink.status) return;\n  console.log('Set status: ' + status);\n  if (cosmicLink) cosmicLink.status = status;\n\n  if (cosmicLink._statusNode) {\n    var title = node.grab('.CL_status', cosmicLink._statusNode);\n    title.textContent = status;\n  }\n};\n\n/**\n * Set `cosmicLink` status as error status `status` and update statusNode.\n * This implies that the cosmic link or the underlying transaction is invalid.\n * Then, call `continuation` if any. `continuation` should be a either a\n * function or 'throw'.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} status\n * @param {function|'throw'} [continuation]\n */\nstatus.fail = function (cosmicLink, errorStatus, continuation) {\n  status.update(cosmicLink, errorStatus);\n  if (cosmicLink._statusNode) node.appendClass(cosmicLink.statusNode, 'CL_error');\n  errorContinuation(errorStatus, continuation);\n};\n\n/**\n * Append `error` to `cosmicLink`.errors and to the HTML display.\n * Then, call `continuation` if any. `continuation` should be a either a\n * function or 'throw'.\n * `error`s are logged.\n *\n * @param {cosmicLink} cosmicLink\n * @param {string} error\n * @param {procedure|'throw'} [continuation]\n */\nstatus.error = function (cosmicLink, error, continuation) {\n  console.log(error);\n\n  if (cosmicLink) {\n    if (!cosmicLink.errors) cosmicLink.errors = [];\n    cosmicLink.errors.push(error);\n  }\n  if (cosmicLink._statusNode) {\n    var errorsNode = node.grab('.CL_events', cosmicLink._statusNode);\n    var lineNode = node.create('li', '.CL_error', error);\n    node.append(errorsNode, lineNode);\n  }\n\n  errorContinuation(error, continuation);\n};\n\n/**\n * Populate `cosmicLink.statusNode` with status anderrors from\n * `cosmicLink.errors`.\n *\n * @param {CL}\n */\nstatus.populateHtmlNode = function (cosmicLink) {\n  if (cosmicLink.status) {\n    var titleNode = node.grab('.CL_status', cosmicLink.statusNode);\n    titleNode.textContent = cosmicLink.status;\n  }\n  if (cosmicLink.errors) {\n    var errorsNode = node.grab('.CL_events', cosmicLink.statusNode);\n    for (var index in cosmicLink.errors) {\n      var error = cosmicLink.errors[index];\n      node.append(errorsNode, node.create('li', '.CL_error', error));\n    }\n  }\n};\n\n/**\n * If `continuation` is a function, call it with `error` as argument.\n * If `continuation` equal 'throw', throw a new error with *error as message.\n * If `continuation` is undefined, do nothing.\n *\n * @private\n * @param {string} error\n * @param {function|'throw'} [continuation]\n */\nfunction errorContinuation(error, continuation) {\n  if (continuation) {\n    if (continuation === 'throw') throw new Error(error);else continuation(error);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29zbWljLWxpYi9zdGF0dXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9jb3NtaWMtbGliL3N0YXR1cy5qcz9jZDdkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIENvbnRhaW5zIHRoZSBtZXRob2RzIHRvIHVwZGF0ZSBjb3NtaWMgbGluayBzdGF0dXMgYW5kIEhUTUwgc3RhdHVzIG5vZGUuXG4gKiBUaGlzIGlzIG1vc3RseSBhYm91dCBlcnJvciBoYW5kbGluZy5cbiAqXG4gKiBAZXhwb3J0cyBzdGF0dXNcbiAqL1xuY29uc3Qgc3RhdHVzID0gZXhwb3J0c1xuXG5jb25zdCBub2RlID0gcmVxdWlyZSgnLi9ub2RlJylcblxuLyoqXG4gKiBTZXQgYGNvc21pY0xpbmtgIHN0YXR1cyBhcyBgc3RhdHVzYCBhbmQgdXBkYXRlIHN0YXR1c05vZGUuXG4gKiBBbGwgc3RhdHVzIGFyZSBjb25zaWRlcmVkIGVycm9uZW91cy5cbiAqIEVycm9yIHN0YXR1cyBzaG91bGQgYmUgcmVjb3JkZWQgdXNpbmcgdGhlIGZhaWwgZnVuY3Rpb24gYmVsbG93LlxuICogQSB2YWxpZCBjb3NtaWMgbGluayBtYXkgaGF2ZSBubyBzdGF0dXMgYXQgYWxsLlxuICogYHN0YXR1c2AgY2hhbmdlcyBhcmUgbG9nZ2VkLlxuICpcbiAqIEBwYXJhbSB7Y29zbWljTGlua30gY29zbWljTGlua1xuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c1xuICovXG5zdGF0dXMudXBkYXRlID0gZnVuY3Rpb24gKGNvc21pY0xpbmssIHN0YXR1cykge1xuICBpZiAoY29zbWljTGluay5zdGF0dXMpIHJldHVyblxuICBjb25zb2xlLmxvZygnU2V0IHN0YXR1czogJyArIHN0YXR1cylcbiAgaWYgKGNvc21pY0xpbmspIGNvc21pY0xpbmsuc3RhdHVzID0gc3RhdHVzXG5cbiAgaWYgKGNvc21pY0xpbmsuX3N0YXR1c05vZGUpIHtcbiAgICBjb25zdCB0aXRsZSA9IG5vZGUuZ3JhYignLkNMX3N0YXR1cycsIGNvc21pY0xpbmsuX3N0YXR1c05vZGUpXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBzdGF0dXNcbiAgfVxufVxuXG4vKipcbiAqIFNldCBgY29zbWljTGlua2Agc3RhdHVzIGFzIGVycm9yIHN0YXR1cyBgc3RhdHVzYCBhbmQgdXBkYXRlIHN0YXR1c05vZGUuXG4gKiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgY29zbWljIGxpbmsgb3IgdGhlIHVuZGVybHlpbmcgdHJhbnNhY3Rpb24gaXMgaW52YWxpZC5cbiAqIFRoZW4sIGNhbGwgYGNvbnRpbnVhdGlvbmAgaWYgYW55LiBgY29udGludWF0aW9uYCBzaG91bGQgYmUgYSBlaXRoZXIgYVxuICogZnVuY3Rpb24gb3IgJ3Rocm93Jy5cbiAqXG4gKiBAcGFyYW0ge2Nvc21pY0xpbmt9IGNvc21pY0xpbmtcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb258J3Rocm93J30gW2NvbnRpbnVhdGlvbl1cbiAqL1xuc3RhdHVzLmZhaWwgPSBmdW5jdGlvbiAoY29zbWljTGluaywgZXJyb3JTdGF0dXMsIGNvbnRpbnVhdGlvbikge1xuICBzdGF0dXMudXBkYXRlKGNvc21pY0xpbmssIGVycm9yU3RhdHVzKVxuICBpZiAoY29zbWljTGluay5fc3RhdHVzTm9kZSkgbm9kZS5hcHBlbmRDbGFzcyhjb3NtaWNMaW5rLnN0YXR1c05vZGUsICdDTF9lcnJvcicpXG4gIGVycm9yQ29udGludWF0aW9uKGVycm9yU3RhdHVzLCBjb250aW51YXRpb24pXG59XG5cbi8qKlxuICogQXBwZW5kIGBlcnJvcmAgdG8gYGNvc21pY0xpbmtgLmVycm9ycyBhbmQgdG8gdGhlIEhUTUwgZGlzcGxheS5cbiAqIFRoZW4sIGNhbGwgYGNvbnRpbnVhdGlvbmAgaWYgYW55LiBgY29udGludWF0aW9uYCBzaG91bGQgYmUgYSBlaXRoZXIgYVxuICogZnVuY3Rpb24gb3IgJ3Rocm93Jy5cbiAqIGBlcnJvcmBzIGFyZSBsb2dnZWQuXG4gKlxuICogQHBhcmFtIHtjb3NtaWNMaW5rfSBjb3NtaWNMaW5rXG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JcbiAqIEBwYXJhbSB7cHJvY2VkdXJlfCd0aHJvdyd9IFtjb250aW51YXRpb25dXG4gKi9cbnN0YXR1cy5lcnJvciA9IGZ1bmN0aW9uIChjb3NtaWNMaW5rLCBlcnJvciwgY29udGludWF0aW9uKSB7XG4gIGNvbnNvbGUubG9nKGVycm9yKVxuXG4gIGlmIChjb3NtaWNMaW5rKSB7XG4gICAgaWYgKCFjb3NtaWNMaW5rLmVycm9ycykgY29zbWljTGluay5lcnJvcnMgPSBbXVxuICAgIGNvc21pY0xpbmsuZXJyb3JzLnB1c2goZXJyb3IpXG4gIH1cbiAgaWYgKGNvc21pY0xpbmsuX3N0YXR1c05vZGUpIHtcbiAgICBjb25zdCBlcnJvcnNOb2RlID0gbm9kZS5ncmFiKCcuQ0xfZXZlbnRzJywgY29zbWljTGluay5fc3RhdHVzTm9kZSlcbiAgICBjb25zdCBsaW5lTm9kZSA9IG5vZGUuY3JlYXRlKCdsaScsICcuQ0xfZXJyb3InLCBlcnJvcilcbiAgICBub2RlLmFwcGVuZChlcnJvcnNOb2RlLCBsaW5lTm9kZSlcbiAgfVxuXG4gIGVycm9yQ29udGludWF0aW9uKGVycm9yLCBjb250aW51YXRpb24pXG59XG5cbi8qKlxuICogUG9wdWxhdGUgYGNvc21pY0xpbmsuc3RhdHVzTm9kZWAgd2l0aCBzdGF0dXMgYW5kZXJyb3JzIGZyb21cbiAqIGBjb3NtaWNMaW5rLmVycm9yc2AuXG4gKlxuICogQHBhcmFtIHtDTH1cbiAqL1xuc3RhdHVzLnBvcHVsYXRlSHRtbE5vZGUgPSBmdW5jdGlvbiAoY29zbWljTGluaykge1xuICBpZiAoY29zbWljTGluay5zdGF0dXMpIHtcbiAgICBjb25zdCB0aXRsZU5vZGUgPSBub2RlLmdyYWIoJy5DTF9zdGF0dXMnLCBjb3NtaWNMaW5rLnN0YXR1c05vZGUpXG4gICAgdGl0bGVOb2RlLnRleHRDb250ZW50ID0gY29zbWljTGluay5zdGF0dXNcbiAgfVxuICBpZiAoY29zbWljTGluay5lcnJvcnMpIHtcbiAgICBjb25zdCBlcnJvcnNOb2RlID0gbm9kZS5ncmFiKCcuQ0xfZXZlbnRzJywgY29zbWljTGluay5zdGF0dXNOb2RlKVxuICAgIGZvciAobGV0IGluZGV4IGluIGNvc21pY0xpbmsuZXJyb3JzKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGNvc21pY0xpbmsuZXJyb3JzW2luZGV4XVxuICAgICAgbm9kZS5hcHBlbmQoZXJyb3JzTm9kZSwgbm9kZS5jcmVhdGUoJ2xpJywgJy5DTF9lcnJvcicsIGVycm9yKSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJZiBgY29udGludWF0aW9uYCBpcyBhIGZ1bmN0aW9uLCBjYWxsIGl0IHdpdGggYGVycm9yYCBhcyBhcmd1bWVudC5cbiAqIElmIGBjb250aW51YXRpb25gIGVxdWFsICd0aHJvdycsIHRocm93IGEgbmV3IGVycm9yIHdpdGggKmVycm9yIGFzIG1lc3NhZ2UuXG4gKiBJZiBgY29udGludWF0aW9uYCBpcyB1bmRlZmluZWQsIGRvIG5vdGhpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvclxuICogQHBhcmFtIHtmdW5jdGlvbnwndGhyb3cnfSBbY29udGludWF0aW9uXVxuICovXG5mdW5jdGlvbiBlcnJvckNvbnRpbnVhdGlvbiAoZXJyb3IsIGNvbnRpbnVhdGlvbikge1xuICBpZiAoY29udGludWF0aW9uKSB7XG4gICAgaWYgKGNvbnRpbnVhdGlvbiA9PT0gJ3Rocm93JykgdGhyb3cgbmV3IEVycm9yKGVycm9yKVxuICAgIGVsc2UgY29udGludWF0aW9uKGVycm9yKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/cosmic-lib/status.js\n");

/***/ }),

/***/ "./src/crypto.js":
/*!***********************!*\
  !*** ./src/crypto.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decryptObject = exports.encryptObject = exports.decryptString = exports.encryptString = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar encryptString = exports.encryptString = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(string, key, salt) {\n    var nonce, cipherText;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!string || !key)) {\n              _context.next = 2;\n              break;\n            }\n\n            throw new Error('Missing argument');\n\n          case 2:\n            if (!salt) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return deriveKey(key, salt);\n\n          case 5:\n            key = _context.sent;\n\n          case 6:\n            nonce = _tweetnacl2.default.randomBytes(_tweetnacl2.default.secretbox.nonceLength);\n            cipherText = _tweetnacl2.default.secretbox((0, _tweetnaclUtil.decodeUTF8)(string), nonce, key);\n            return _context.abrupt('return', protocol + ':' + (0, _tweetnaclUtil.encodeBase64)(nonce) + ':' + (0, _tweetnaclUtil.encodeBase64)(cipherText));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function encryptString(_x3, _x4, _x5) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar decryptString = exports.decryptString = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(encryptedObject, key, salt) {\n    var cipherText, nonce, scryptOptions, temp, seed;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!encryptedObject || !key)) {\n              _context2.next = 2;\n              break;\n            }\n\n            throw new Error('Missing argument');\n\n          case 2:\n            cipherText = void 0, nonce = void 0, scryptOptions = latestScryptOptions;\n\n            if (!(encryptedObject instanceof Object)) {\n              _context2.next = 10;\n              break;\n            }\n\n            scryptOptions = encryptedObject.scryptOptions;\n            cipherText = (0, _tweetnaclUtil.decodeBase64)(encryptedObject.ciphertext);\n            nonce = (0, _tweetnaclUtil.decodeBase64)(encryptedObject.nonce);\n            salt = encryptedObject.salt;\n            _context2.next = 17;\n            break;\n\n          case 10:\n            temp = encryptedObject.split(':');\n\n            scryptOptions = temp[0];\n            nonce = (0, _tweetnaclUtil.decodeBase64)(temp[1]);\n            cipherText = (0, _tweetnaclUtil.decodeBase64)(temp[2]);\n            if (temp[3]) salt = temp[3];\n\n            if (!(protocol !== '1' || !nonce || !cipherText)) {\n              _context2.next = 17;\n              break;\n            }\n\n            throw new Error('Invalid encrypted object');\n\n          case 17:\n            if (!salt) {\n              _context2.next = 21;\n              break;\n            }\n\n            _context2.next = 20;\n            return deriveKey(key, salt, scryptOptions);\n\n          case 20:\n            key = _context2.sent;\n\n          case 21:\n            seed = _tweetnacl2.default.secretbox.open(cipherText, nonce, key);\n\n            if (seed) {\n              _context2.next = 24;\n              break;\n            }\n\n            throw new Error('Wrong password');\n\n          case 24:\n            return _context2.abrupt('return', (0, _tweetnaclUtil.encodeUTF8)(seed));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function decryptString(_x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar encryptObject = exports.encryptObject = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(object, key, salt) {\n    return _regenerator2.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt('return', encryptString(JSON.stringify(object), key, salt));\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function encryptObject(_x9, _x10, _x11) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar decryptObject = exports.decryptObject = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(encryptedObject, key, salt) {\n    var string;\n    return _regenerator2.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return decryptString(encryptedObject, key, salt);\n\n          case 2:\n            string = _context4.sent;\n            return _context4.abrupt('return', JSON.parse(string));\n\n          case 4:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function decryptObject(_x12, _x13, _x14) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.makeSalt = makeSalt;\nexports.deriveKey = deriveKey;\n\nvar _scryptAsync = __webpack_require__(/*! scrypt-async */ \"./node_modules/scrypt-async/scrypt-async.js\");\n\nvar _scryptAsync2 = _interopRequireDefault(_scryptAsync);\n\nvar _tweetnacl = __webpack_require__(/*! tweetnacl */ \"./node_modules/tweetnacl/nacl-fast.js\");\n\nvar _tweetnacl2 = _interopRequireDefault(_tweetnacl);\n\nvar _tweetnaclUtil = __webpack_require__(/*! tweetnacl-util */ \"./node_modules/tweetnacl-util/nacl-util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar protocol = '1';\n\nvar scryptOptionsTable = {\n  1: { N: 16384, r: 8, p: 1, dkLen: 32, encoding: 'binary' }\n};\n\nvar latestScryptOptions = scryptOptionsTable[protocol];\n\nfunction makeSalt() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _tweetnacl2.default.secretbox.keyLength;\n\n  return (0, _tweetnaclUtil.encodeBase64)(_tweetnacl2.default.randomBytes(length));\n}\n\nfunction deriveKey(password, salt) {\n  var scryptOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : latestScryptOptions;\n\n  return new Promise(function (resolve, reject) {\n    if (!password || !salt) {\n      throw new Error('Missing argument');\n    }\n\n    if (typeof scryptOptions === 'string') {\n      scryptOptions = scryptOptionsTable[scryptOptions];\n    }\n\n    try {\n      (0, _scryptAsync2.default)(password, (0, _tweetnaclUtil.decodeBase64)(salt), scryptOptions, resolve);\n    } catch (error) {\n      console.log(error);\n      reject(error);\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3J5cHRvLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGVudGljYXRvci9zcmMvY3J5cHRvLmpzPzFkZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNjcnlwdCBmcm9tICdzY3J5cHQtYXN5bmMnXG5pbXBvcnQgbmFjbCBmcm9tICd0d2VldG5hY2wnXG5pbXBvcnQge2RlY29kZUJhc2U2NCwgZGVjb2RlVVRGOCwgZW5jb2RlQmFzZTY0LCBlbmNvZGVVVEY4fVxuICBmcm9tICd0d2VldG5hY2wtdXRpbCdcblxuY29uc3QgcHJvdG9jb2wgPSAnMSdcblxuY29uc3Qgc2NyeXB0T3B0aW9uc1RhYmxlID0ge1xuICAxOiB7IE46IDE2Mzg0LCByOiA4LCBwOiAxLCBka0xlbjogMzIsIGVuY29kaW5nOiAnYmluYXJ5JyB9XG59XG5cbmNvbnN0IGxhdGVzdFNjcnlwdE9wdGlvbnMgPSBzY3J5cHRPcHRpb25zVGFibGVbcHJvdG9jb2xdXG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2FsdCAobGVuZ3RoID0gbmFjbC5zZWNyZXRib3gua2V5TGVuZ3RoKSB7XG4gIHJldHVybiBlbmNvZGVCYXNlNjQobmFjbC5yYW5kb21CeXRlcyhsZW5ndGgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlS2V5IChwYXNzd29yZCwgc2FsdCwgc2NyeXB0T3B0aW9ucyA9IGxhdGVzdFNjcnlwdE9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIXBhc3N3b3JkIHx8ICFzYWx0KSB7IHRocm93IG5ldyBFcnJvcignTWlzc2luZyBhcmd1bWVudCcpIH1cblxuICAgIGlmICh0eXBlb2Ygc2NyeXB0T3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNjcnlwdE9wdGlvbnMgPSBzY3J5cHRPcHRpb25zVGFibGVbc2NyeXB0T3B0aW9uc11cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2NyeXB0KHBhc3N3b3JkLCBkZWNvZGVCYXNlNjQoc2FsdCksIHNjcnlwdE9wdGlvbnMsIHJlc29sdmUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgcmVqZWN0KGVycm9yKVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRTdHJpbmcgKHN0cmluZywga2V5LCBzYWx0KSB7XG4gIGlmICghc3RyaW5nIHx8ICFrZXkpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBhcmd1bWVudCcpXG5cbiAgaWYgKHNhbHQpIGtleSA9IGF3YWl0IGRlcml2ZUtleShrZXksIHNhbHQpXG4gIGNvbnN0IG5vbmNlID0gbmFjbC5yYW5kb21CeXRlcyhuYWNsLnNlY3JldGJveC5ub25jZUxlbmd0aClcbiAgY29uc3QgY2lwaGVyVGV4dCA9IG5hY2wuc2VjcmV0Ym94KGRlY29kZVVURjgoc3RyaW5nKSwgbm9uY2UsIGtleSlcblxuICByZXR1cm4gcHJvdG9jb2wgKyAnOicgKyBlbmNvZGVCYXNlNjQobm9uY2UpICsgJzonICsgZW5jb2RlQmFzZTY0KGNpcGhlclRleHQpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0U3RyaW5nIChlbmNyeXB0ZWRPYmplY3QsIGtleSwgc2FsdCkge1xuICBpZiAoIWVuY3J5cHRlZE9iamVjdCB8fCAha2V5KSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYXJndW1lbnQnKVxuXG4gIGxldCBjaXBoZXJUZXh0LCBub25jZSwgc2NyeXB0T3B0aW9ucyA9IGxhdGVzdFNjcnlwdE9wdGlvbnNcblxuICBpZiAoZW5jcnlwdGVkT2JqZWN0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgc2NyeXB0T3B0aW9ucyA9IGVuY3J5cHRlZE9iamVjdC5zY3J5cHRPcHRpb25zXG4gICAgY2lwaGVyVGV4dCA9IGRlY29kZUJhc2U2NChlbmNyeXB0ZWRPYmplY3QuY2lwaGVydGV4dClcbiAgICBub25jZSA9IGRlY29kZUJhc2U2NChlbmNyeXB0ZWRPYmplY3Qubm9uY2UpXG4gICAgc2FsdCA9IGVuY3J5cHRlZE9iamVjdC5zYWx0XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGVtcCA9IGVuY3J5cHRlZE9iamVjdC5zcGxpdCgnOicpXG4gICAgc2NyeXB0T3B0aW9ucyA9IHRlbXBbMF1cbiAgICBub25jZSA9IGRlY29kZUJhc2U2NCh0ZW1wWzFdKVxuICAgIGNpcGhlclRleHQgPSBkZWNvZGVCYXNlNjQodGVtcFsyXSlcbiAgICBpZiAodGVtcFszXSkgc2FsdCA9IHRlbXBbM11cblxuICAgIGlmIChwcm90b2NvbCAhPT0gJzEnIHx8ICFub25jZSB8fCAhY2lwaGVyVGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVuY3J5cHRlZCBvYmplY3QnKVxuICAgIH1cbiAgfVxuXG4gIGlmIChzYWx0KSBrZXkgPSBhd2FpdCBkZXJpdmVLZXkoa2V5LCBzYWx0LCBzY3J5cHRPcHRpb25zKVxuICBjb25zdCBzZWVkID0gbmFjbC5zZWNyZXRib3gub3BlbihjaXBoZXJUZXh0LCBub25jZSwga2V5KVxuICBpZiAoIXNlZWQpIHRocm93IG5ldyBFcnJvcignV3JvbmcgcGFzc3dvcmQnKVxuXG4gIHJldHVybiBlbmNvZGVVVEY4KHNlZWQpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0T2JqZWN0IChvYmplY3QsIGtleSwgc2FsdCkge1xuICByZXR1cm4gZW5jcnlwdFN0cmluZyhKU09OLnN0cmluZ2lmeShvYmplY3QpLCBrZXksIHNhbHQpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0T2JqZWN0IChlbmNyeXB0ZWRPYmplY3QsIGtleSwgc2FsdCkge1xuICBjb25zdCBzdHJpbmcgPSBhd2FpdCBkZWNyeXB0U3RyaW5nKGVuY3J5cHRlZE9iamVjdCwga2V5LCBzYWx0KVxuICByZXR1cm4gSlNPTi5wYXJzZShzdHJpbmcpXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQWtDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUpBO0FBSUE7QUFDQTtBQUxBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7OztBQVVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFBQTtBQUNBO0FBREE7QUFXQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBc0JBO0FBQ0E7QUF2QkE7QUF1QkE7QUFDQTtBQXhCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7O0FBNkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7Ozs7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7QUFoRUE7QUFJQTtBQUNBO0FBbEJBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/crypto.js\n");

/***/ }),

/***/ "./src/database.js":
/*!*************************!*\
  !*** ./src/database.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Database = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar makeSeedsKey = function () {\n  var _ref19 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee19(concat, salt) {\n    var key;\n    return _regenerator2.default.wrap(function _callee19$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            key = (0, _crypto.makeSalt)();\n            return _context19.abrupt('return', (0, _crypto.encryptString)(key, 'seeds' + concat, salt));\n\n          case 2:\n          case 'end':\n            return _context19.stop();\n        }\n      }\n    }, _callee19, this);\n  }));\n\n  return function makeSeedsKey(_x35, _x36) {\n    return _ref19.apply(this, arguments);\n  };\n}();\n\n/** ********************** Upgrade from alpha databases ************************/\n/// Will stay there for a year (until 10/05/2019)\n\nvar _upgrade = function () {\n  var _ref20 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee20(username, password) {\n    var accounts, db, index, _accounts$index, name, seed, network;\n\n    return _regenerator2.default.wrap(function _callee20$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            _context20.next = 2;\n            return getAccountsFromOldDb(password);\n\n          case 2:\n            accounts = _context20.sent;\n            _context20.next = 5;\n            return Database.new(username, password);\n\n          case 5:\n            db = _context20.sent;\n            _context20.t0 = _regenerator2.default.keys(accounts);\n\n          case 7:\n            if ((_context20.t1 = _context20.t0()).done) {\n              _context20.next = 15;\n              break;\n            }\n\n            index = _context20.t1.value;\n            _accounts$index = _slicedToArray(accounts[index], 3), name = _accounts$index[0], seed = _accounts$index[1], network = _accounts$index[2];\n\n            if (db.accounts[name]) name += ' (2)';\n            _context20.next = 13;\n            return db.addAccount(password, name, seed, network);\n\n          case 13:\n            _context20.next = 7;\n            break;\n\n          case 15:\n            return _context20.abrupt('return', db);\n\n          case 16:\n          case 'end':\n            return _context20.stop();\n        }\n      }\n    }, _callee20, this);\n  }));\n\n  return function _upgrade(_x37, _x38) {\n    return _ref20.apply(this, arguments);\n  };\n}();\n\nvar getAccountsFromOldDb = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee21(password) {\n    var oldDatabase, seeds, accounts, index, encrypted, datas, secret, name, network;\n    return _regenerator2.default.wrap(function _callee21$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            oldDatabase = JSON.parse(localStorage.accounts);\n            seeds = oldDatabase.private.slice(1);\n            accounts = [];\n            _context21.t0 = _regenerator2.default.keys(seeds);\n\n          case 4:\n            if ((_context21.t1 = _context21.t0()).done) {\n              _context21.next = 16;\n              break;\n            }\n\n            index = _context21.t1.value;\n            encrypted = seeds[index];\n            _context21.next = 9;\n            return (0, _crypto.decryptObject)(encrypted, password);\n\n          case 9:\n            datas = _context21.sent;\n            secret = datas[1];\n            name = void 0, network = void 0;\n\n            if (datas[0].substr(0, 7) === '(test) ') {\n              name = datas[0].substr(7);\n              network = 'test';\n            } else if (datas[0].substr(0, 10) === '(testnet) ') {\n              name = datas[0].substr(10);\n              network = 'test';\n            } else {\n              name = datas[0];\n              network = 'public';\n            }\n            accounts.push([name, secret, network]);\n            _context21.next = 4;\n            break;\n\n          case 16:\n            return _context21.abrupt('return', accounts);\n\n          case 17:\n          case 'end':\n            return _context21.stop();\n        }\n      }\n    }, _callee21, this);\n  }));\n\n  return function getAccountsFromOldDb(_x39) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nvar _crypto = __webpack_require__(/*! ./crypto */ \"./src/crypto.js\");\n\nvar _tweetnaclUtil = __webpack_require__(/*! tweetnacl-util */ \"./node_modules/tweetnacl-util/nacl-util.js\");\n\nvar _helpers = __webpack_require__(/*! ./cosmic-lib/helpers */ \"./src/cosmic-lib/helpers.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction shareSessionStorage(event) {\n  if (!event.newValue) return;\n  if (event.key === 'getSessionStorage' && sessionStorage.length && !localStorage.sessionStorage) {\n    localStorage.sessionStorage = JSON.stringify(sessionStorage);\n    delete localStorage.sessionStorage;\n  } else if (event.key === 'sessionStorage' && !sessionStorage.length) {\n    var data = JSON.parse(event.newValue);\n    sessionStorage.username = data.username;\n    sessionStorage.userkey = data.userkey;\n  } else if (event.key.substr(-9) === '_database' || event.key === 'logout') {\n    sessionStorage.clear();\n    location.reload();\n  } else if (event.key === 'login' && !sessionStorage.length) {\n    location.reload();\n  }\n}\n\nif (!sessionStorage.length) localStorage.getSessionStorage = Date.now();\ndelete localStorage.getSessionStorage;\nwindow.addEventListener('storage', shareSessionStorage);\n\nvar Database = exports.Database = function () {\n  /**\n   * Create a Database object using provided parameters. This should not be used\n   * directly, use `Database.new` or `Database.load` instead.\n   *\n   * @contructor\n   * @param {string} username The user name\n   * @param {Uint8Array} key The database key\n   * @param {string} salt The database salt, base64 encoded\n   * @param {Object} table The database content\n   * @return {Database} A Database object\n   */\n  function Database(username, key, salt, table) {\n    var protocol = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '1';\n\n    _classCallCheck(this, Database);\n\n    sessionStorage.username = username;\n    sessionStorage.userkey = (0, _tweetnaclUtil.encodeBase64)(key);\n    this.username = username;\n    this.key = key;\n    this.salt = salt;\n    this.table = table;\n    this.protocol = protocol;\n    refreshAliases(this);\n    localStorage.login = true;\n    delete localStorage.login;\n  }\n\n  /**\n   * Create a new Database object protected by `password` for `username`.\n   *\n   * @param {string} username The user name\n   * @param {string} password The user password\n   * @return {Database} The user new Database object\n   */\n\n\n  _createClass(Database, [{\n    key: 'save',\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var encrypted;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (0, _crypto.encryptObject)(this.table, this.key);\n\n              case 2:\n                encrypted = _context.sent;\n\n                localStorage[this.username + '_database'] = this.salt + ',' + encrypted;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function save() {\n        return _ref.apply(this, arguments);\n      }\n\n      return save;\n    }()\n  }, {\n    key: 'logout',\n    value: function logout() {\n      sessionStorage.clear();\n      delete localStorage.guest_database;\n      for (var item in this) {\n        this[item] = undefined;\n      }localStorage.logout = true;\n      delete localStorage.logout;\n    }\n\n    /// Change password\n\n  }, {\n    key: 'changePassword',\n    value: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(password, newPassword) {\n        var seedsKey, concat, salt, key, encryptedSeedsKey;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = _tweetnaclUtil.encodeBase64;\n                _context2.next = 3;\n                return this.seedsKey(password);\n\n              case 3:\n                _context2.t1 = _context2.sent;\n                seedsKey = (0, _context2.t0)(_context2.t1);\n                concat = concatCredentials(this.username, newPassword);\n                salt = (0, _crypto.makeSalt)();\n                _context2.next = 9;\n                return (0, _crypto.deriveKey)(concat, salt);\n\n              case 9:\n                key = _context2.sent;\n                _context2.next = 12;\n                return (0, _crypto.encryptString)(seedsKey, 'seeds' + concat, salt);\n\n              case 12:\n                encryptedSeedsKey = _context2.sent;\n\n                this.table.seedsKey = encryptedSeedsKey;\n\n                this.salt = salt;\n                this.key = key;\n                sessionStorage.userkey = (0, _tweetnaclUtil.encodeBase64)(key);\n                _context2.next = 19;\n                return this.save();\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function changePassword(_x2, _x3) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return changePassword;\n    }()\n  }, {\n    key: 'seedsKey',\n    value: function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {\n        var password = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var concat, key;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                concat = 'seeds' + concatCredentials(this.username, password);\n                _context3.next = 3;\n                return (0, _crypto.decryptString)(this.table.seedsKey, concat, this.salt);\n\n              case 3:\n                key = _context3.sent;\n                return _context3.abrupt('return', (0, _tweetnaclUtil.decodeBase64)(key));\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function seedsKey() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return seedsKey;\n    }()\n  }, {\n    key: 'addAccount',\n    value: function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(password, name, seed) {\n        var network = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'public';\n        var publicKey, seedsKey, encryptedSeed;\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.checkAccountDoesntExist(name);\n\n                publicKey = seedToPublicKey(seed);\n                _context4.next = 4;\n                return this.seedsKey(password);\n\n              case 4:\n                seedsKey = _context4.sent;\n                _context4.next = 7;\n                return (0, _crypto.encryptString)(seed, seedsKey);\n\n              case 7:\n                encryptedSeed = _context4.sent;\n\n                this.accounts[name] = { id: publicKey, seed: encryptedSeed, network: network };\n                refreshAliases(this);\n                _context4.next = 12;\n                return this.save();\n\n              case 12:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function addAccount(_x6, _x7, _x8) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addAccount;\n    }()\n  }, {\n    key: 'newAccount',\n    value: function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(password, name) {\n        var network = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'public';\n        var keypair;\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                keypair = StellarSdk.Keypair.random();\n                _context5.next = 3;\n                return this.addAccount(password, name, keypair.secret(), network);\n\n              case 3:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function newAccount(_x10, _x11) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return newAccount;\n    }()\n  }, {\n    key: 'removeAccount',\n    value: function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6(password, name) {\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.checkAccountExist(name);\n                _context6.next = 3;\n                return this.checkPassword(password);\n\n              case 3:\n                delete this.table.accounts[name];\n                refreshAliases(this);\n                _context6.next = 7;\n                return this.save();\n\n              case 7:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function removeAccount(_x12, _x13) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return removeAccount;\n    }()\n\n    /// Retrieve datas\n\n  }, {\n    key: 'listAccounts',\n    value: function listAccounts() {\n      return sortCI(Object.keys(this.accounts));\n    }\n  }, {\n    key: 'secretSeed',\n    value: function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee7(password) {\n        var _this = this;\n\n        for (var _len = arguments.length, names = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          names[_key - 1] = arguments[_key];\n        }\n\n        var seedsKey, seeds, index, account, seed;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                names.forEach(function (name) {\n                  return _this.checkAccountExist(name);\n                });\n                _context7.next = 3;\n                return this.seedsKey(password);\n\n              case 3:\n                seedsKey = _context7.sent;\n                seeds = [];\n                _context7.t0 = _regenerator2.default.keys(names);\n\n              case 6:\n                if ((_context7.t1 = _context7.t0()).done) {\n                  _context7.next = 15;\n                  break;\n                }\n\n                index = _context7.t1.value;\n                account = names[index];\n                _context7.next = 11;\n                return (0, _crypto.decryptString)(this.accounts[account].seed, seedsKey);\n\n              case 11:\n                seed = _context7.sent;\n\n                seeds.push(seed);\n                _context7.next = 6;\n                break;\n\n              case 15:\n                if (!(seeds.length === 1)) {\n                  _context7.next = 19;\n                  break;\n                }\n\n                return _context7.abrupt('return', seeds[0]);\n\n              case 19:\n                return _context7.abrupt('return', seeds);\n\n              case 20:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function secretSeed(_x14) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return secretSeed;\n    }()\n  }, {\n    key: 'keypair',\n    value: function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee8(password) {\n        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.current;\n        var secretSeed;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.secretSeed(password, name);\n\n              case 2:\n                secretSeed = _context8.sent;\n                return _context8.abrupt('return', StellarSdk.Keypair.fromSecret(secretSeed));\n\n              case 4:\n              case 'end':\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function keypair(_x16) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return keypair;\n    }()\n  }, {\n    key: 'publicKey',\n    value: function publicKey() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.current;\n\n      this.checkAccountExist(name);\n      return this.accounts[name].id;\n    }\n  }, {\n    key: 'network',\n    value: function network() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.current;\n\n      this.checkAccountExist(name);\n      return this.accounts[name].network;\n    }\n  }, {\n    key: 'accountName',\n    value: function accountName(publicKey, network) {\n      for (var account in this.accounts) {\n        if (this.accounts[account].id === publicKey && this.accounts[account].network === network) {\n          return account;\n        }\n      }\n      return undefined;\n    }\n\n    /// Import / Export\n\n  }, {\n    key: 'exportAccount',\n    value: function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee9(password, name) {\n        var seedsKey, seed, account, encryptedAccount;\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                this.checkAccountExist(name);\n                _context9.next = 3;\n                return this.seedsKey(password);\n\n              case 3:\n                seedsKey = _context9.sent;\n                _context9.next = 6;\n                return (0, _crypto.decryptString)(this.accounts[name].seed, seedsKey);\n\n              case 6:\n                seed = _context9.sent;\n                account = [name, seed, this.accounts[name].network];\n                _context9.next = 10;\n                return (0, _crypto.encryptObject)(account, seedsKey);\n\n              case 10:\n                encryptedAccount = _context9.sent;\n                return _context9.abrupt('return', encryptedAccount);\n\n              case 12:\n              case 'end':\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function exportAccount(_x19, _x20) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return exportAccount;\n    }()\n  }, {\n    key: 'importAccount',\n    value: function () {\n      var _ref10 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee10(password, encryptedAccount) {\n        var seedsKey, account, _account, name, seed, network, publicKey, encryptedSeed;\n\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.seedsKey(password);\n\n              case 2:\n                seedsKey = _context10.sent;\n                _context10.next = 5;\n                return (0, _crypto.decryptObject)(encryptedAccount, seedsKey);\n\n              case 5:\n                account = _context10.sent;\n                _account = _slicedToArray(account, 3), name = _account[0], seed = _account[1], network = _account[2];\n\n                this.checkAccountDoesntExist(name);\n                publicKey = seedToPublicKey(seed);\n                _context10.next = 11;\n                return (0, _crypto.encryptString)(seed, seedsKey);\n\n              case 11:\n                encryptedSeed = _context10.sent;\n\n                this.accounts[name] = { id: publicKey, seed: encryptedSeed, network: network };\n                refreshAliases(this);\n                this.save();\n\n              case 15:\n              case 'end':\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function importAccount(_x21, _x22) {\n        return _ref10.apply(this, arguments);\n      }\n\n      return importAccount;\n    }()\n  }, {\n    key: 'backup',\n    value: function () {\n      var _ref11 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee11(password) {\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return this.checkPassword(password);\n\n              case 2:\n                return _context11.abrupt('return', localStorage[this.username + '_database']);\n\n              case 3:\n              case 'end':\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function backup(_x23) {\n        return _ref11.apply(this, arguments);\n      }\n\n      return backup;\n    }()\n  }, {\n    key: 'delete',\n    value: function () {\n      var _ref12 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee12(password) {\n        return _regenerator2.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.checkPassword(password);\n\n              case 2:\n                delete localStorage[this.username + '_database'];\n                this.logout();\n\n              case 4:\n              case 'end':\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function _delete(_x24) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n\n    /// Checks\n\n  }, {\n    key: 'checkPassword',\n    value: function () {\n      var _ref13 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee13(password) {\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return this.seedsKey(password);\n\n              case 2:\n              case 'end':\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function checkPassword(_x25) {\n        return _ref13.apply(this, arguments);\n      }\n\n      return checkPassword;\n    }()\n  }, {\n    key: 'checkAccountExist',\n    value: function checkAccountExist(name) {\n      checkNonEmptyName(name);\n      if (!this.accounts[name]) throw new Error(\"Account doesn't exist: \" + name);\n    }\n  }, {\n    key: 'checkAccountDoesntExist',\n    value: function checkAccountDoesntExist(name) {\n      checkNonEmptyName(name);\n      if (this.accounts[name]) throw new Error('Account already exist: ' + name);\n    }\n  }, {\n    key: 'accounts',\n    get: function get() {\n      return this.table.accounts;\n    }\n  }, {\n    key: 'contacts',\n    get: function get() {\n      return this.table.contacts;\n    }\n  }, {\n    key: 'version',\n    get: function get() {\n      return this.table.version;\n    }\n  }], [{\n    key: 'new',\n    value: function () {\n      var _ref14 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee14(username) {\n        var password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var salt, concat, key, seedsKey, table, db;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (!localStorage[username + '_database']) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                throw new Error('User already exist');\n\n              case 2:\n                salt = (0, _crypto.makeSalt)();\n                concat = concatCredentials(username, password);\n                _context14.next = 6;\n                return (0, _crypto.deriveKey)(concat, salt);\n\n              case 6:\n                key = _context14.sent;\n                _context14.next = 9;\n                return makeSeedsKey(concat, salt);\n\n              case 9:\n                seedsKey = _context14.sent;\n                table = { version: 1, seedsKey: seedsKey, accounts: {}, contacts: {} };\n                db = new Database(username, key, salt, table);\n                _context14.next = 14;\n                return db.save();\n\n              case 14:\n                return _context14.abrupt('return', db);\n\n              case 15:\n              case 'end':\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function _new(_x27) {\n        return _ref14.apply(this, arguments);\n      }\n\n      return _new;\n    }()\n\n    /**\n     * Returns `username`'s Database object decrypted from `encrypted` using\n     * `password`.\n     *\n     * @param {string} username The user name\n     * @param {string} password The user password\n     * @param {string} encrypted The encrypted database\n     * @return {Database} The decrypted Database object\n     */\n\n  }, {\n    key: 'open',\n    value: function () {\n      var _ref15 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee15(username, password, encrypted) {\n        var concat, _encrypted$split, _encrypted$split2, salt, encryptedTable, _encryptedTable$split, _encryptedTable$split2, protocol, key, table;\n\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                concat = concatCredentials(username, password);\n                _encrypted$split = encrypted.split(','), _encrypted$split2 = _slicedToArray(_encrypted$split, 2), salt = _encrypted$split2[0], encryptedTable = _encrypted$split2[1];\n                _encryptedTable$split = encryptedTable.split(':'), _encryptedTable$split2 = _slicedToArray(_encryptedTable$split, 1), protocol = _encryptedTable$split2[0];\n                _context15.next = 5;\n                return (0, _crypto.deriveKey)(concat, salt, protocol);\n\n              case 5:\n                key = _context15.sent;\n                _context15.next = 8;\n                return (0, _crypto.decryptObject)(encryptedTable, key);\n\n              case 8:\n                table = _context15.sent;\n                return _context15.abrupt('return', new Database(username, key, salt, table, protocol));\n\n              case 10:\n              case 'end':\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function open(_x28, _x29, _x30) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return open;\n    }()\n\n    /**\n     * Return a database upgraded from alpha format.\n     *\n     * @param {string} username The user name\n     * @param {string} password The user password\n     * @return {Database} The decrypted Database object\n     */\n\n  }, {\n    key: 'upgrade',\n    value: function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee16(username, password) {\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt('return', _upgrade(username, password));\n\n              case 1:\n              case 'end':\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function upgrade(_x31, _x32) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return upgrade;\n    }()\n  }, {\n    key: 'load',\n    value: function () {\n      var _ref17 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee17(username, password) {\n        var encrypted;\n        return _regenerator2.default.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                encrypted = localStorage[username + '_database'];\n\n                if (encrypted) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Can't find database for user: \" + username);\n\n              case 3:\n                return _context17.abrupt('return', Database.open(username, password, encrypted));\n\n              case 4:\n              case 'end':\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function load(_x33, _x34) {\n        return _ref17.apply(this, arguments);\n      }\n\n      return load;\n    }()\n\n    /**\n     * Return the current session database, if any. Else, return `undefined`.\n     */\n\n  }, {\n    key: 'current',\n    value: function () {\n      var _ref18 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee18() {\n        var username, key, encrypted, _encrypted$split3, _encrypted$split4, salt, encryptedTable, table;\n\n        return _regenerator2.default.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                if (sessionStorage.userkey) {\n                  _context18.next = 3;\n                  break;\n                }\n\n                _context18.next = 3;\n                return (0, _helpers.timeout)(50);\n\n              case 3:\n                if (sessionStorage.userkey) {\n                  _context18.next = 6;\n                  break;\n                }\n\n                delete localStorage.guest_database;\n                return _context18.abrupt('return', undefined);\n\n              case 6:\n                username = sessionStorage.username;\n                key = (0, _tweetnaclUtil.decodeBase64)(sessionStorage.userkey);\n                encrypted = localStorage[username + '_database'];\n                _encrypted$split3 = encrypted.split(','), _encrypted$split4 = _slicedToArray(_encrypted$split3, 2), salt = _encrypted$split4[0], encryptedTable = _encrypted$split4[1];\n                _context18.next = 12;\n                return (0, _crypto.decryptObject)(encryptedTable, key);\n\n              case 12:\n                table = _context18.sent;\n                return _context18.abrupt('return', new Database(username, key, salt, table));\n\n              case 14:\n              case 'end':\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function current() {\n        return _ref18.apply(this, arguments);\n      }\n\n      return current;\n    }()\n  }, {\n    key: 'listUsers',\n    value: function listUsers() {\n      var array = [];\n      Object.keys(localStorage).forEach(function (entry) {\n        if (entry.substr(-9) === '_database') array.push(entry.substr(0, entry.length - 9));\n      });\n      return sortCI(array);\n    }\n  }]);\n\n  return Database;\n}();\n\nfunction checkNonEmptyName(name) {\n  if (!name) throw new Error('Missing name');\n}\n\nfunction concatCredentials(username, password) {\n  return username.toLowerCase() + '[**]' + password;\n}\n\nfunction seedToPublicKey(seed) {\n  try {\n    var keypair = StellarSdk.Keypair.fromSecret(seed);\n    return keypair.publicKey(keypair);\n  } catch (error) {\n    console.log(error);\n    throw new Error('Invalid secret seed');\n  }\n}\n\nfunction refreshAliases(database) {\n  var aliases = {};\n  Object.defineProperty(database, 'aliases', {\n    configurable: true,\n    get: function get() {\n      if (!aliases.length) {\n        for (var contact in database.table.contacts) {\n          var publicKey = database.table.contacts[contact].id;\n          if (publicKey) aliases[publicKey] = contact;\n        }\n        for (var account in database.table.accounts) {\n          var _publicKey = database.table.accounts[account].id;\n          aliases[_publicKey] = account;\n        }\n      }\n      return aliases;\n    }\n  });\n}\n\nfunction sortCI(array) {\n  return array.sort(function (a, b) {\n    return a[0].toLowerCase().localeCompare(b[0].toLowerCase());\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YWJhc2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9kYXRhYmFzZS5qcz83NmRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlcml2ZUtleSwgZW5jcnlwdFN0cmluZywgZGVjcnlwdFN0cmluZywgZW5jcnlwdE9iamVjdCwgZGVjcnlwdE9iamVjdCxcbiAgbWFrZVNhbHQgfSBmcm9tICcuL2NyeXB0bydcbmltcG9ydCB7ZW5jb2RlQmFzZTY0LCBkZWNvZGVCYXNlNjR9IGZyb20gJ3R3ZWV0bmFjbC11dGlsJ1xuaW1wb3J0IHt0aW1lb3V0fSBmcm9tICcuL2Nvc21pYy1saWIvaGVscGVycydcblxuZnVuY3Rpb24gc2hhcmVTZXNzaW9uU3RvcmFnZSAoZXZlbnQpIHtcbiAgaWYgKCFldmVudC5uZXdWYWx1ZSkgcmV0dXJuXG4gIGlmIChcbiAgICBldmVudC5rZXkgPT09ICdnZXRTZXNzaW9uU3RvcmFnZScgJiZcbiAgICBzZXNzaW9uU3RvcmFnZS5sZW5ndGggJiZcbiAgICAhbG9jYWxTdG9yYWdlLnNlc3Npb25TdG9yYWdlXG4gICkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXNzaW9uU3RvcmFnZSA9IEpTT04uc3RyaW5naWZ5KHNlc3Npb25TdG9yYWdlKVxuICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Uuc2Vzc2lvblN0b3JhZ2VcbiAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdzZXNzaW9uU3RvcmFnZScgJiYgIXNlc3Npb25TdG9yYWdlLmxlbmd0aCkge1xuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50Lm5ld1ZhbHVlKVxuICAgIHNlc3Npb25TdG9yYWdlLnVzZXJuYW1lID0gZGF0YS51c2VybmFtZVxuICAgIHNlc3Npb25TdG9yYWdlLnVzZXJrZXkgPSBkYXRhLnVzZXJrZXlcbiAgfSBlbHNlIGlmIChldmVudC5rZXkuc3Vic3RyKC05KSA9PT0gJ19kYXRhYmFzZScgfHwgZXZlbnQua2V5ID09PSAnbG9nb3V0Jykge1xuICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKClcbiAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ2xvZ2luJyAmJiAhc2Vzc2lvblN0b3JhZ2UubGVuZ3RoKSB7XG4gICAgbG9jYXRpb24ucmVsb2FkKClcbiAgfVxufVxuXG5pZiAoIXNlc3Npb25TdG9yYWdlLmxlbmd0aCkgbG9jYWxTdG9yYWdlLmdldFNlc3Npb25TdG9yYWdlID0gRGF0ZS5ub3coKVxuZGVsZXRlIGxvY2FsU3RvcmFnZS5nZXRTZXNzaW9uU3RvcmFnZVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCBzaGFyZVNlc3Npb25TdG9yYWdlKVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0YWJhc2Ugb2JqZWN0IHVzaW5nIHByb3ZpZGVkIHBhcmFtZXRlcnMuIFRoaXMgc2hvdWxkIG5vdCBiZSB1c2VkXG4gICAqIGRpcmVjdGx5LCB1c2UgYERhdGFiYXNlLm5ld2Agb3IgYERhdGFiYXNlLmxvYWRgIGluc3RlYWQuXG4gICAqXG4gICAqIEBjb250cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSBUaGUgdXNlciBuYW1lXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0ga2V5IFRoZSBkYXRhYmFzZSBrZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNhbHQgVGhlIGRhdGFiYXNlIHNhbHQsIGJhc2U2NCBlbmNvZGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YWJsZSBUaGUgZGF0YWJhc2UgY29udGVudFxuICAgKiBAcmV0dXJuIHtEYXRhYmFzZX0gQSBEYXRhYmFzZSBvYmplY3RcbiAgICovXG4gIGNvbnN0cnVjdG9yICh1c2VybmFtZSwga2V5LCBzYWx0LCB0YWJsZSwgcHJvdG9jb2wgPSAnMScpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS51c2VybmFtZSA9IHVzZXJuYW1lXG4gICAgc2Vzc2lvblN0b3JhZ2UudXNlcmtleSA9IGVuY29kZUJhc2U2NChrZXkpXG4gICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lXG4gICAgdGhpcy5rZXkgPSBrZXlcbiAgICB0aGlzLnNhbHQgPSBzYWx0XG4gICAgdGhpcy50YWJsZSA9IHRhYmxlXG4gICAgdGhpcy5wcm90b2NvbCA9IHByb3RvY29sXG4gICAgcmVmcmVzaEFsaWFzZXModGhpcylcbiAgICBsb2NhbFN0b3JhZ2UubG9naW4gPSB0cnVlXG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5sb2dpblxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBEYXRhYmFzZSBvYmplY3QgcHJvdGVjdGVkIGJ5IGBwYXNzd29yZGAgZm9yIGB1c2VybmFtZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSBUaGUgdXNlciBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCBUaGUgdXNlciBwYXNzd29yZFxuICAgKiBAcmV0dXJuIHtEYXRhYmFzZX0gVGhlIHVzZXIgbmV3IERhdGFiYXNlIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIG5ldyAodXNlcm5hbWUsIHBhc3N3b3JkID0gJycpIHtcbiAgICBpZiAobG9jYWxTdG9yYWdlW3VzZXJuYW1lICsgJ19kYXRhYmFzZSddKSB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgYWxyZWFkeSBleGlzdCcpXG4gICAgY29uc3Qgc2FsdCA9IG1ha2VTYWx0KClcbiAgICBjb25zdCBjb25jYXQgPSBjb25jYXRDcmVkZW50aWFscyh1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgY29uc3Qga2V5ID0gYXdhaXQgZGVyaXZlS2V5KGNvbmNhdCwgc2FsdClcbiAgICBjb25zdCBzZWVkc0tleSA9IGF3YWl0IG1ha2VTZWVkc0tleShjb25jYXQsIHNhbHQpXG4gICAgY29uc3QgdGFibGUgPSB7IHZlcnNpb246IDEsIHNlZWRzS2V5OiBzZWVkc0tleSwgYWNjb3VudHM6IHt9LCBjb250YWN0czoge30gfVxuICAgIGNvbnN0IGRiID0gbmV3IERhdGFiYXNlKHVzZXJuYW1lLCBrZXksIHNhbHQsIHRhYmxlKVxuICAgIGF3YWl0IGRiLnNhdmUoKVxuICAgIHJldHVybiBkYlxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYHVzZXJuYW1lYCdzIERhdGFiYXNlIG9iamVjdCBkZWNyeXB0ZWQgZnJvbSBgZW5jcnlwdGVkYCB1c2luZ1xuICAgKiBgcGFzc3dvcmRgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgVGhlIHVzZXIgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgVGhlIHVzZXIgcGFzc3dvcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVuY3J5cHRlZCBUaGUgZW5jcnlwdGVkIGRhdGFiYXNlXG4gICAqIEByZXR1cm4ge0RhdGFiYXNlfSBUaGUgZGVjcnlwdGVkIERhdGFiYXNlIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIG9wZW4gKHVzZXJuYW1lLCBwYXNzd29yZCwgZW5jcnlwdGVkKSB7XG4gICAgY29uc3QgY29uY2F0ID0gY29uY2F0Q3JlZGVudGlhbHModXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIGNvbnN0IFtzYWx0LCBlbmNyeXB0ZWRUYWJsZV0gPSBlbmNyeXB0ZWQuc3BsaXQoJywnKVxuICAgIGNvbnN0IFtwcm90b2NvbF0gPSBlbmNyeXB0ZWRUYWJsZS5zcGxpdCgnOicpXG4gICAgY29uc3Qga2V5ID0gYXdhaXQgZGVyaXZlS2V5KGNvbmNhdCwgc2FsdCwgcHJvdG9jb2wpXG4gICAgY29uc3QgdGFibGUgPSBhd2FpdCBkZWNyeXB0T2JqZWN0KGVuY3J5cHRlZFRhYmxlLCBrZXkpXG4gICAgcmV0dXJuIG5ldyBEYXRhYmFzZSh1c2VybmFtZSwga2V5LCBzYWx0LCB0YWJsZSwgcHJvdG9jb2wpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgZGF0YWJhc2UgdXBncmFkZWQgZnJvbSBhbHBoYSBmb3JtYXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSBUaGUgdXNlciBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCBUaGUgdXNlciBwYXNzd29yZFxuICAgKiBAcmV0dXJuIHtEYXRhYmFzZX0gVGhlIGRlY3J5cHRlZCBEYXRhYmFzZSBvYmplY3RcbiAgICovXG4gIHN0YXRpYyBhc3luYyB1cGdyYWRlICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICByZXR1cm4gdXBncmFkZSh1c2VybmFtZSwgcGFzc3dvcmQpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgbG9hZCAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgY29uc3QgZW5jcnlwdGVkID0gbG9jYWxTdG9yYWdlW3VzZXJuYW1lICsgJ19kYXRhYmFzZSddXG4gICAgaWYgKCFlbmNyeXB0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZGF0YWJhc2UgZm9yIHVzZXI6IFwiICsgdXNlcm5hbWUpXG4gICAgfVxuICAgIHJldHVybiBEYXRhYmFzZS5vcGVuKHVzZXJuYW1lLCBwYXNzd29yZCwgZW5jcnlwdGVkKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBzZXNzaW9uIGRhdGFiYXNlLCBpZiBhbnkuIEVsc2UsIHJldHVybiBgdW5kZWZpbmVkYC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjdXJyZW50ICgpIHtcbiAgICBpZiAoIXNlc3Npb25TdG9yYWdlLnVzZXJrZXkpIGF3YWl0IHRpbWVvdXQoNTApXG4gICAgaWYgKCFzZXNzaW9uU3RvcmFnZS51c2Vya2V5KSB7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLmd1ZXN0X2RhdGFiYXNlXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvblN0b3JhZ2UudXNlcm5hbWVcbiAgICBjb25zdCBrZXkgPSBkZWNvZGVCYXNlNjQoc2Vzc2lvblN0b3JhZ2UudXNlcmtleSlcbiAgICBjb25zdCBlbmNyeXB0ZWQgPSBsb2NhbFN0b3JhZ2VbdXNlcm5hbWUgKyAnX2RhdGFiYXNlJ11cbiAgICBjb25zdCBbc2FsdCwgZW5jcnlwdGVkVGFibGVdID0gZW5jcnlwdGVkLnNwbGl0KCcsJylcbiAgICBjb25zdCB0YWJsZSA9IGF3YWl0IGRlY3J5cHRPYmplY3QoZW5jcnlwdGVkVGFibGUsIGtleSlcbiAgICByZXR1cm4gbmV3IERhdGFiYXNlKHVzZXJuYW1lLCBrZXksIHNhbHQsIHRhYmxlKVxuICB9XG5cbiAgYXN5bmMgc2F2ZSAoKSB7XG4gICAgY29uc3QgZW5jcnlwdGVkID0gYXdhaXQgZW5jcnlwdE9iamVjdCh0aGlzLnRhYmxlLCB0aGlzLmtleSlcbiAgICBsb2NhbFN0b3JhZ2VbdGhpcy51c2VybmFtZSArICdfZGF0YWJhc2UnXSA9IHRoaXMuc2FsdCArICcsJyArIGVuY3J5cHRlZFxuICB9XG5cbiAgbG9nb3V0ICgpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpXG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5ndWVzdF9kYXRhYmFzZVxuICAgIGZvciAobGV0IGl0ZW0gaW4gdGhpcykgdGhpc1tpdGVtXSA9IHVuZGVmaW5lZFxuICAgIGxvY2FsU3RvcmFnZS5sb2dvdXQgPSB0cnVlXG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZS5sb2dvdXRcbiAgfVxuXG4gIC8vLyBDaGFuZ2UgcGFzc3dvcmRcbiAgYXN5bmMgY2hhbmdlUGFzc3dvcmQgKHBhc3N3b3JkLCBuZXdQYXNzd29yZCkge1xuICAgIGNvbnN0IHNlZWRzS2V5ID0gZW5jb2RlQmFzZTY0KGF3YWl0IHRoaXMuc2VlZHNLZXkocGFzc3dvcmQpKVxuICAgIGNvbnN0IGNvbmNhdCA9IGNvbmNhdENyZWRlbnRpYWxzKHRoaXMudXNlcm5hbWUsIG5ld1Bhc3N3b3JkKVxuICAgIGNvbnN0IHNhbHQgPSBtYWtlU2FsdCgpXG4gICAgY29uc3Qga2V5ID0gYXdhaXQgZGVyaXZlS2V5KGNvbmNhdCwgc2FsdClcbiAgICBjb25zdCBlbmNyeXB0ZWRTZWVkc0tleSA9IGF3YWl0IGVuY3J5cHRTdHJpbmcoc2VlZHNLZXksICdzZWVkcycgKyBjb25jYXQsIHNhbHQpXG4gICAgdGhpcy50YWJsZS5zZWVkc0tleSA9IGVuY3J5cHRlZFNlZWRzS2V5XG5cbiAgICB0aGlzLnNhbHQgPSBzYWx0XG4gICAgdGhpcy5rZXkgPSBrZXlcbiAgICBzZXNzaW9uU3RvcmFnZS51c2Vya2V5ID0gZW5jb2RlQmFzZTY0KGtleSlcbiAgICBhd2FpdCB0aGlzLnNhdmUoKVxuICB9XG5cbiAgYXN5bmMgc2VlZHNLZXkgKHBhc3N3b3JkID0gJycpIHtcbiAgICBjb25zdCBjb25jYXQgPSAnc2VlZHMnICsgY29uY2F0Q3JlZGVudGlhbHModGhpcy51c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgY29uc3Qga2V5ID0gYXdhaXQgZGVjcnlwdFN0cmluZyh0aGlzLnRhYmxlLnNlZWRzS2V5LCBjb25jYXQsIHRoaXMuc2FsdClcbiAgICByZXR1cm4gZGVjb2RlQmFzZTY0KGtleSlcbiAgfVxuXG4gIGFzeW5jIGFkZEFjY291bnQgKHBhc3N3b3JkLCBuYW1lLCBzZWVkLCBuZXR3b3JrID0gJ3B1YmxpYycpIHtcbiAgICB0aGlzLmNoZWNrQWNjb3VudERvZXNudEV4aXN0KG5hbWUpXG5cbiAgICBjb25zdCBwdWJsaWNLZXkgPSBzZWVkVG9QdWJsaWNLZXkoc2VlZClcbiAgICBjb25zdCBzZWVkc0tleSA9IGF3YWl0IHRoaXMuc2VlZHNLZXkocGFzc3dvcmQpXG4gICAgY29uc3QgZW5jcnlwdGVkU2VlZCA9IGF3YWl0IGVuY3J5cHRTdHJpbmcoc2VlZCwgc2VlZHNLZXkpXG4gICAgdGhpcy5hY2NvdW50c1tuYW1lXSA9IHsgaWQ6IHB1YmxpY0tleSwgc2VlZDogZW5jcnlwdGVkU2VlZCwgbmV0d29yazogbmV0d29yayB9XG4gICAgcmVmcmVzaEFsaWFzZXModGhpcylcbiAgICBhd2FpdCB0aGlzLnNhdmUoKVxuICB9XG5cbiAgYXN5bmMgbmV3QWNjb3VudCAocGFzc3dvcmQsIG5hbWUsIG5ldHdvcmsgPSAncHVibGljJykge1xuICAgIGNvbnN0IGtleXBhaXIgPSBTdGVsbGFyU2RrLktleXBhaXIucmFuZG9tKClcbiAgICBhd2FpdCB0aGlzLmFkZEFjY291bnQocGFzc3dvcmQsIG5hbWUsIGtleXBhaXIuc2VjcmV0KCksIG5ldHdvcmspXG4gIH1cblxuICBhc3luYyByZW1vdmVBY2NvdW50IChwYXNzd29yZCwgbmFtZSkge1xuICAgIHRoaXMuY2hlY2tBY2NvdW50RXhpc3QobmFtZSlcbiAgICBhd2FpdCB0aGlzLmNoZWNrUGFzc3dvcmQocGFzc3dvcmQpXG4gICAgZGVsZXRlIHRoaXMudGFibGUuYWNjb3VudHNbbmFtZV1cbiAgICByZWZyZXNoQWxpYXNlcyh0aGlzKVxuICAgIGF3YWl0IHRoaXMuc2F2ZSgpXG4gIH1cblxuICAvLy8gUmV0cmlldmUgZGF0YXNcbiAgZ2V0IGFjY291bnRzICgpIHsgcmV0dXJuIHRoaXMudGFibGUuYWNjb3VudHMgfVxuICBnZXQgY29udGFjdHMgKCkgeyByZXR1cm4gdGhpcy50YWJsZS5jb250YWN0cyB9XG4gIGdldCB2ZXJzaW9uICgpIHsgcmV0dXJuIHRoaXMudGFibGUudmVyc2lvbiB9XG5cbiAgc3RhdGljIGxpc3RVc2VycyAoKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXVxuICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkuc3Vic3RyKC05KSA9PT0gJ19kYXRhYmFzZScpIGFycmF5LnB1c2goZW50cnkuc3Vic3RyKDAsIGVudHJ5Lmxlbmd0aCAtIDkpKVxuICAgIH0pXG4gICAgcmV0dXJuIHNvcnRDSShhcnJheSlcbiAgfVxuXG4gIGxpc3RBY2NvdW50cyAoKSB7XG4gICAgcmV0dXJuIHNvcnRDSShPYmplY3Qua2V5cyh0aGlzLmFjY291bnRzKSlcbiAgfVxuXG4gIGFzeW5jIHNlY3JldFNlZWQgKHBhc3N3b3JkLCAuLi5uYW1lcykge1xuICAgIG5hbWVzLmZvckVhY2gobmFtZSA9PiB0aGlzLmNoZWNrQWNjb3VudEV4aXN0KG5hbWUpKVxuICAgIGNvbnN0IHNlZWRzS2V5ID0gYXdhaXQgdGhpcy5zZWVkc0tleShwYXNzd29yZClcbiAgICBjb25zdCBzZWVkcyA9IFtdXG4gICAgZm9yIChsZXQgaW5kZXggaW4gbmFtZXMpIHtcbiAgICAgIGNvbnN0IGFjY291bnQgPSBuYW1lc1tpbmRleF1cbiAgICAgIGNvbnN0IHNlZWQgPSBhd2FpdCBkZWNyeXB0U3RyaW5nKHRoaXMuYWNjb3VudHNbYWNjb3VudF0uc2VlZCwgc2VlZHNLZXkpXG4gICAgICBzZWVkcy5wdXNoKHNlZWQpXG4gICAgfVxuICAgIGlmIChzZWVkcy5sZW5ndGggPT09IDEpIHJldHVybiBzZWVkc1swXVxuICAgIGVsc2UgcmV0dXJuIHNlZWRzXG4gIH1cblxuICBhc3luYyBrZXlwYWlyIChwYXNzd29yZCwgbmFtZSA9IHRoaXMuY3VycmVudCkge1xuICAgIGNvbnN0IHNlY3JldFNlZWQgPSBhd2FpdCB0aGlzLnNlY3JldFNlZWQocGFzc3dvcmQsIG5hbWUpXG4gICAgcmV0dXJuIFN0ZWxsYXJTZGsuS2V5cGFpci5mcm9tU2VjcmV0KHNlY3JldFNlZWQpXG4gIH1cblxuICBwdWJsaWNLZXkgKG5hbWUgPSB0aGlzLmN1cnJlbnQpIHtcbiAgICB0aGlzLmNoZWNrQWNjb3VudEV4aXN0KG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudHNbbmFtZV0uaWRcbiAgfVxuXG4gIG5ldHdvcmsgKG5hbWUgPSB0aGlzLmN1cnJlbnQpIHtcbiAgICB0aGlzLmNoZWNrQWNjb3VudEV4aXN0KG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudHNbbmFtZV0ubmV0d29ya1xuICB9XG5cbiAgYWNjb3VudE5hbWUgKHB1YmxpY0tleSwgbmV0d29yaykge1xuICAgIGZvciAobGV0IGFjY291bnQgaW4gdGhpcy5hY2NvdW50cykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmFjY291bnRzW2FjY291bnRdLmlkID09PSBwdWJsaWNLZXkgJiZcbiAgICAgICAgdGhpcy5hY2NvdW50c1thY2NvdW50XS5uZXR3b3JrID09PSBuZXR3b3JrXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGFjY291bnRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgLy8vIEltcG9ydCAvIEV4cG9ydFxuICBhc3luYyBleHBvcnRBY2NvdW50IChwYXNzd29yZCwgbmFtZSkge1xuICAgIHRoaXMuY2hlY2tBY2NvdW50RXhpc3QobmFtZSlcbiAgICBjb25zdCBzZWVkc0tleSA9IGF3YWl0IHRoaXMuc2VlZHNLZXkocGFzc3dvcmQpXG4gICAgY29uc3Qgc2VlZCA9IGF3YWl0IGRlY3J5cHRTdHJpbmcodGhpcy5hY2NvdW50c1tuYW1lXS5zZWVkLCBzZWVkc0tleSlcbiAgICBjb25zdCBhY2NvdW50ID0gW25hbWUsIHNlZWQsIHRoaXMuYWNjb3VudHNbbmFtZV0ubmV0d29ya11cbiAgICBjb25zdCBlbmNyeXB0ZWRBY2NvdW50ID0gYXdhaXQgZW5jcnlwdE9iamVjdChhY2NvdW50LCBzZWVkc0tleSlcbiAgICByZXR1cm4gZW5jcnlwdGVkQWNjb3VudFxuICB9XG5cbiAgYXN5bmMgaW1wb3J0QWNjb3VudCAocGFzc3dvcmQsIGVuY3J5cHRlZEFjY291bnQpIHtcbiAgICBjb25zdCBzZWVkc0tleSA9IGF3YWl0IHRoaXMuc2VlZHNLZXkocGFzc3dvcmQpXG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGRlY3J5cHRPYmplY3QoZW5jcnlwdGVkQWNjb3VudCwgc2VlZHNLZXkpXG4gICAgY29uc3QgW25hbWUsIHNlZWQsIG5ldHdvcmtdID0gYWNjb3VudFxuICAgIHRoaXMuY2hlY2tBY2NvdW50RG9lc250RXhpc3QobmFtZSlcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBzZWVkVG9QdWJsaWNLZXkoc2VlZClcbiAgICBjb25zdCBlbmNyeXB0ZWRTZWVkID0gYXdhaXQgZW5jcnlwdFN0cmluZyhzZWVkLCBzZWVkc0tleSlcbiAgICB0aGlzLmFjY291bnRzW25hbWVdID0geyBpZDogcHVibGljS2V5LCBzZWVkOiBlbmNyeXB0ZWRTZWVkLCBuZXR3b3JrOiBuZXR3b3JrIH1cbiAgICByZWZyZXNoQWxpYXNlcyh0aGlzKVxuICAgIHRoaXMuc2F2ZSgpXG4gIH1cblxuICBhc3luYyBiYWNrdXAgKHBhc3N3b3JkKSB7XG4gICAgYXdhaXQgdGhpcy5jaGVja1Bhc3N3b3JkKHBhc3N3b3JkKVxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VbdGhpcy51c2VybmFtZSArICdfZGF0YWJhc2UnXVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlIChwYXNzd29yZCkge1xuICAgIGF3YWl0IHRoaXMuY2hlY2tQYXNzd29yZChwYXNzd29yZClcbiAgICBkZWxldGUgbG9jYWxTdG9yYWdlW3RoaXMudXNlcm5hbWUgKyAnX2RhdGFiYXNlJ11cbiAgICB0aGlzLmxvZ291dCgpXG4gIH1cblxuICAvLy8gQ2hlY2tzXG4gIGFzeW5jIGNoZWNrUGFzc3dvcmQgKHBhc3N3b3JkKSB7XG4gICAgYXdhaXQgdGhpcy5zZWVkc0tleShwYXNzd29yZClcbiAgfVxuXG4gIGNoZWNrQWNjb3VudEV4aXN0IChuYW1lKSB7XG4gICAgY2hlY2tOb25FbXB0eU5hbWUobmFtZSlcbiAgICBpZiAoIXRoaXMuYWNjb3VudHNbbmFtZV0pIHRocm93IG5ldyBFcnJvcihcIkFjY291bnQgZG9lc24ndCBleGlzdDogXCIgKyBuYW1lKVxuICB9XG5cbiAgY2hlY2tBY2NvdW50RG9lc250RXhpc3QgKG5hbWUpIHtcbiAgICBjaGVja05vbkVtcHR5TmFtZShuYW1lKVxuICAgIGlmICh0aGlzLmFjY291bnRzW25hbWVdKSB0aHJvdyBuZXcgRXJyb3IoJ0FjY291bnQgYWxyZWFkeSBleGlzdDogJyArIG5hbWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tOb25FbXB0eU5hbWUgKG5hbWUpIHtcbiAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgbmFtZScpXG59XG5cbmZ1bmN0aW9uIGNvbmNhdENyZWRlbnRpYWxzICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgcmV0dXJuIHVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgKyAnWyrigKYqXScgKyBwYXNzd29yZFxufVxuXG5hc3luYyBmdW5jdGlvbiBtYWtlU2VlZHNLZXkgKGNvbmNhdCwgc2FsdCkge1xuICBjb25zdCBrZXkgPSBtYWtlU2FsdCgpXG4gIHJldHVybiBlbmNyeXB0U3RyaW5nKGtleSwgJ3NlZWRzJyArIGNvbmNhdCwgc2FsdClcbn1cblxuZnVuY3Rpb24gc2VlZFRvUHVibGljS2V5IChzZWVkKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qga2V5cGFpciA9IFN0ZWxsYXJTZGsuS2V5cGFpci5mcm9tU2VjcmV0KHNlZWQpXG4gICAgcmV0dXJuIGtleXBhaXIucHVibGljS2V5KGtleXBhaXIpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlY3JldCBzZWVkJylcbiAgfVxufVxuXG5mdW5jdGlvbiByZWZyZXNoQWxpYXNlcyAoZGF0YWJhc2UpIHtcbiAgY29uc3QgYWxpYXNlcyA9IHt9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhYmFzZSwgJ2FsaWFzZXMnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFhbGlhc2VzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBjb250YWN0IGluIGRhdGFiYXNlLnRhYmxlLmNvbnRhY3RzKSB7XG4gICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gZGF0YWJhc2UudGFibGUuY29udGFjdHNbY29udGFjdF0uaWRcbiAgICAgICAgICBpZiAocHVibGljS2V5KSBhbGlhc2VzW3B1YmxpY0tleV0gPSBjb250YWN0XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgYWNjb3VudCBpbiBkYXRhYmFzZS50YWJsZS5hY2NvdW50cykge1xuICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGRhdGFiYXNlLnRhYmxlLmFjY291bnRzW2FjY291bnRdLmlkXG4gICAgICAgICAgYWxpYXNlc1twdWJsaWNLZXldID0gYWNjb3VudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWxpYXNlc1xuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gc29ydENJIChhcnJheSkge1xuICByZXR1cm4gYXJyYXkuc29ydCgoYSwgYikgPT4gYVswXS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYlswXS50b0xvd2VyQ2FzZSgpKSlcbn1cblxuLyoqICoqKioqKioqKioqKioqKioqKioqKiogVXBncmFkZSBmcm9tIGFscGhhIGRhdGFiYXNlcyAqKioqKioqKioqKioqKioqKioqKioqKiovXG4vLy8gV2lsbCBzdGF5IHRoZXJlIGZvciBhIHllYXIgKHVudGlsIDEwLzA1LzIwMTkpXG5cbmFzeW5jIGZ1bmN0aW9uIHVwZ3JhZGUgKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IGdldEFjY291bnRzRnJvbU9sZERiKHBhc3N3b3JkKVxuICBjb25zdCBkYiA9IGF3YWl0IERhdGFiYXNlLm5ldyh1c2VybmFtZSwgcGFzc3dvcmQpXG4gIGZvciAobGV0IGluZGV4IGluIGFjY291bnRzKSB7XG4gICAgbGV0IFtuYW1lLCBzZWVkLCBuZXR3b3JrXSA9IGFjY291bnRzW2luZGV4XVxuICAgIGlmIChkYi5hY2NvdW50c1tuYW1lXSkgbmFtZSArPSAnICgyKSdcbiAgICBhd2FpdCBkYi5hZGRBY2NvdW50KHBhc3N3b3JkLCBuYW1lLCBzZWVkLCBuZXR3b3JrKVxuICB9XG4gIHJldHVybiBkYlxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50c0Zyb21PbGREYiAocGFzc3dvcmQpIHtcbiAgY29uc3Qgb2xkRGF0YWJhc2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5hY2NvdW50cylcbiAgY29uc3Qgc2VlZHMgPSBvbGREYXRhYmFzZS5wcml2YXRlLnNsaWNlKDEpXG4gIGNvbnN0IGFjY291bnRzID0gW11cbiAgZm9yIChsZXQgaW5kZXggaW4gc2VlZHMpIHtcbiAgICBjb25zdCBlbmNyeXB0ZWQgPSBzZWVkc1tpbmRleF1cbiAgICBjb25zdCBkYXRhcyA9IGF3YWl0IGRlY3J5cHRPYmplY3QoZW5jcnlwdGVkLCBwYXNzd29yZClcbiAgICBjb25zdCBzZWNyZXQgPSBkYXRhc1sxXVxuICAgIGxldCBuYW1lLCBuZXR3b3JrXG4gICAgaWYgKGRhdGFzWzBdLnN1YnN0cigwLCA3KSA9PT0gJyh0ZXN0KSAnKSB7XG4gICAgICBuYW1lID0gZGF0YXNbMF0uc3Vic3RyKDcpXG4gICAgICBuZXR3b3JrID0gJ3Rlc3QnXG4gICAgfSBlbHNlIGlmIChkYXRhc1swXS5zdWJzdHIoMCwgMTApID09PSAnKHRlc3RuZXQpICcpIHtcbiAgICAgIG5hbWUgPSBkYXRhc1swXS5zdWJzdHIoMTApXG4gICAgICBuZXR3b3JrID0gJ3Rlc3QnXG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBkYXRhc1swXVxuICAgICAgbmV0d29yayA9ICdwdWJsaWMnXG4gICAgfVxuICAgIGFjY291bnRzLnB1c2goW25hbWUsIHNlY3JldCwgbmV0d29ya10pXG4gIH1cbiAgcmV0dXJuIGFjY291bnRzXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0U0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7OztBQXVDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUZBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUhBO0FBQ0E7QUFJQTtBQUxBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7Ozs7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUxBO0FBQUE7QUFDQTtBQURBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTs7Ozs7QUFqV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFXQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwRUE7QUFDQTs7QUFEQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQUE7Ozs7OztBQUNBOztBQUFBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQURBOztBQUNBO0FBQ0E7O0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7QUFDQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFBQTs7Ozs7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBREE7O0FBQ0E7QUFDQTs7QUFEQTtBQUNBO0FBQUE7QUFDQTs7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBOzs7Ozs7QUFDQTs7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7QUFDQTs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7OztBQVlBO0FBQ0E7QUFDQTs7OztBQUVBOzs7QUFBQTtBQUFBOzs7Ozs7OztBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBREE7QUFDQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFBQTs7Ozs7QUFFQTs7Ozs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQUE7Ozs7Ozs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUFBOzs7Ozs7QUFDQTs7QUFDQTtBQUNBOztBQURBOztBQUNBO0FBQ0E7O0FBREE7QUFDQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7O0FBQ0E7QUFDQTs7QUFEQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7Ozs7QUFBQTs7Ozs7O0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQXRHQTtBQUFBO0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7O0FBQ0E7QUFBQTtBQUFBOzs7O0FBL0hBO0FBQUE7Ozs7OztBQUNBOzs7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFDQTtBQUNBOztBQURBOztBQUNBO0FBQ0E7O0FBREE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7Ozs7O0FBU0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFEQTs7QUFDQTtBQUNBOztBQURBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7Ozs7OztBQU9BOzs7OztBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7Ozs7QUFDQTtBQUNBO0FBQUE7Ozs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0FBSUE7Ozs7OztBQUFBO0FBQ0E7O0FBQUE7Ozs7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBREE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBK0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/database.js\n");

/***/ }),

/***/ "./src/form.js":
/*!*********************!*\
  !*** ./src/form.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Form = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar validate = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(form) {\n    var anim, answer, index, validator;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            anim = void 0;\n\n            if (form.inputs.submit) {\n              anim = node.create('span', '.CL_loadingAnim');\n              anim.style.position = 'fixed';\n              node.append(form.inputs.submit, anim);\n            }\n\n            answer = void 0;\n            _context2.t0 = _regenerator2.default.keys(form.validators);\n\n          case 4:\n            if ((_context2.t1 = _context2.t0()).done) {\n              _context2.next = 21;\n              break;\n            }\n\n            index = _context2.t1.value;\n            validator = form.validators[index];\n            _context2.prev = 7;\n            _context2.next = 10;\n            return validator(answer);\n\n          case 10:\n            answer = _context2.sent;\n            _context2.next = 19;\n            break;\n\n          case 13:\n            _context2.prev = 13;\n            _context2.t2 = _context2['catch'](7);\n\n            console.log(_context2.t2);\n            form.setError(_context2.t2);\n            if (anim) node.destroy(anim);\n            return _context2.abrupt('return');\n\n          case 19:\n            _context2.next = 4;\n            break;\n\n          case 21:\n\n            if (form.onExit) form.onExit();\n            if (anim) node.destroy(anim);\n\n          case 23:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[7, 13]]);\n  }));\n\n  return function validate(_x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar _node = __webpack_require__(/*! ./cosmic-lib/node */ \"./src/cosmic-lib/node.js\");\n\nvar node = _interopRequireWildcard(_node);\n\nvar _helpers = __webpack_require__(/*! ./cosmic-lib/helpers */ \"./src/cosmic-lib/helpers.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Form = exports.Form = function () {\n  function Form(element) {\n    var _this = this;\n\n    _classCallCheck(this, Form);\n\n    this.inputs = {};\n    this.validators = [];\n\n    if (element) {\n      if (element.tagName !== 'FORM') throw new Error('Not a form');\n      this.node = element;\n      this.node.autocomplete = 'off';\n\n      for (var index in this.node.childNodes) {\n        var child = this.node.childNodes[index];\n        if (child.name) this.inputs[child.name] = child;\n        if (child.className === 'info') this.infoNode = child;\n      }\n    } else {\n      this.node = node.create('form', { autocomplete: 'off' });\n    }\n\n    if (!this.infoNode) {\n      this.infoNode = node.create('span', '.info');\n      this.node.insertBefore(this.infoNode, this.firstChild);\n    }\n\n    this.node.onsubmit = function () {\n      return _this.submit(_this);\n    };\n  }\n\n  _createClass(Form, [{\n    key: 'addValidator',\n    value: function addValidator(thunk) {\n      this.validators.push(thunk);\n      return this;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.node.reset();\n      this.setError('');\n      return this;\n    }\n  }, {\n    key: 'submit',\n    value: function submit() {\n      validate(this);\n      return false;\n    }\n  }, {\n    key: 'putInfoNode',\n    value: function putInfoNode() {\n      node.append(this.node, this.infoNode);\n      return this;\n    }\n  }, {\n    key: 'setInfo',\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(info) {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.infoNode.textContent = info;\n                this.infoNode.className = 'info';\n                _context.next = 4;\n                return (0, _helpers.timeout)(30);\n\n              case 4:\n                return _context.abrupt('return', this);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setInfo(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return setInfo;\n    }()\n  }, {\n    key: 'setError',\n    value: function setError(error) {\n      if (error.message) this.infoNode.textContent = error.message;else this.infoNode.textContent = error;\n      this.infoNode.className = 'error';\n      return this;\n    }\n  }, {\n    key: 'addNode',\n    value: function addNode(name, element) {\n      node.append(this.node, element);\n      if (name) {\n        if (!this.firstInput) this.firstInput = element;\n        this.inputs[name] = element;\n        element.name = name;\n      }\n      return this;\n    }\n  }, {\n    key: 'addTitle',\n    value: function addTitle(text) {\n      this.addNode('', node.create('h3', false, text));\n      return this;\n    }\n  }, {\n    key: 'addMessage',\n    value: function addMessage(message) {\n      this.addNode('', node.create('span', false, message));\n      return this;\n    }\n  }, {\n    key: 'addSeparator',\n    value: function addSeparator() {\n      node.append(this.node, node.create('hr'));\n      return this;\n    }\n  }, {\n    key: 'addTextBox',\n    value: function addTextBox(name, placeHolder) {\n      var box = addInput(this, name, 'text');\n      if (placeHolder) box.placeholder = placeHolder;\n      return this;\n    }\n  }, {\n    key: 'addPasswordBox',\n    value: function addPasswordBox(name) {\n      var placeholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Authenticator password';\n\n      var box = addInput(this, name, 'password');\n      box.placeholder = placeholder;\n      return this;\n    }\n  }, {\n    key: 'addAutofillPasswordBox',\n    value: function addAutofillPasswordBox(username) {\n      var placeholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Authenticator password';\n\n      var usernameNode = node.create('input', {\n        readonly: true,\n        name: 'username',\n        value: username\n      });\n      this.addNode('', usernameNode).addPasswordBox('password', placeholder);\n      node.hide(usernameNode);\n      return this;\n    }\n  }, {\n    key: 'addCheckBox',\n    value: function addCheckBox(name, text, initialState) {\n      var checkBox = addInput(this, name, 'checkbox');\n      checkBox.checked = initialState;\n      checkBox.required = false;\n      checkBox.id = 'form-checkbox-' + name + Math.random();\n      this.addNode('', node.create('label', { htmlFor: checkBox.id }, text));\n      return this;\n    }\n  }, {\n    key: 'addButton',\n    value: function addButton(name, text, continuation) {\n      var button = addInput(this, name, 'button');\n      button.value = text;\n      button.onclick = continuation;\n      return this;\n    }\n  }, {\n    key: 'addFileSelector',\n    value: function addFileSelector(name, text) {\n      var button = addInput(this, '', 'button');\n      var file = addInput(this, name, 'file');\n      var message = node.create('span', null, 'No file selected');\n      this.addMessage(message);\n      node.hide(file);\n      button.value = text;\n      button.onclick = function () {\n        return file.click();\n      };\n      button.style.float = 'left';\n      file.onchange = function () {\n        message.textContent = file.value.replace(/^.*\\\\/, '');\n      };\n      return this;\n    }\n  }, {\n    key: 'addTextArea',\n    value: function addTextArea(name, placeHolder, rows) {\n      var parameters = { placeholder: placeHolder, rows: rows };\n      this.addNode(name, node.create('textarea', parameters));\n      return this;\n    }\n  }, {\n    key: 'addSubmit',\n    value: function addSubmit(text) {\n      var parameters = { type: 'submit', textContent: text || 'Confirm' };\n      this.addNode('submit', node.create('button', parameters));\n      return this;\n    }\n  }, {\n    key: 'optional',\n    value: function optional(nameArray) {\n      var _this2 = this;\n\n      nameArray.forEach(function (name) {\n        _this2.inputs[name].required = false;\n      });\n      return this;\n    }\n  }, {\n    key: 'select',\n    value: function select() {\n      var _this3 = this;\n\n      var element = this.firstInput;\n      if (element) element.focus();\n      if (element.name === 'password') {\n        (0, _helpers.timeout)(30).then(function () {\n          if (element.value !== '') {\n            var next = element.nextSibling;\n            if (next.name && next.name !== 'cancel') next.focus();else if (_this3.inputs.submit) _this3.inputs.submit.focus();\n          }\n        });\n      }\n      return this;\n    }\n  }]);\n\n  return Form;\n}();\n\nfunction addInput(form, name, type) {\n  var input = node.create('input', { type: type, required: true });\n  form.addNode(name, input);\n  return input;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZm9ybS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2Zvcm0uanM/N2JkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBub2RlIGZyb20gJy4vY29zbWljLWxpYi9ub2RlJ1xuaW1wb3J0IHt0aW1lb3V0fSBmcm9tICcuL2Nvc21pYy1saWIvaGVscGVycydcblxuZXhwb3J0IGNsYXNzIEZvcm0ge1xuICBjb25zdHJ1Y3RvciAoZWxlbWVudCkge1xuICAgIHRoaXMuaW5wdXRzID0ge31cbiAgICB0aGlzLnZhbGlkYXRvcnMgPSBbXVxuXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgIT09ICdGT1JNJykgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSBmb3JtJylcbiAgICAgIHRoaXMubm9kZSA9IGVsZW1lbnRcbiAgICAgIHRoaXMubm9kZS5hdXRvY29tcGxldGUgPSAnb2ZmJ1xuXG4gICAgICBmb3IgKGxldCBpbmRleCBpbiB0aGlzLm5vZGUuY2hpbGROb2Rlcykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMubm9kZS5jaGlsZE5vZGVzW2luZGV4XVxuICAgICAgICBpZiAoY2hpbGQubmFtZSkgdGhpcy5pbnB1dHNbY2hpbGQubmFtZV0gPSBjaGlsZFxuICAgICAgICBpZiAoY2hpbGQuY2xhc3NOYW1lID09PSAnaW5mbycpIHRoaXMuaW5mb05vZGUgPSBjaGlsZFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5vZGUgPSBub2RlLmNyZWF0ZSgnZm9ybScsIHsgYXV0b2NvbXBsZXRlOiAnb2ZmJyB9KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5pbmZvTm9kZSkge1xuICAgICAgdGhpcy5pbmZvTm9kZSA9IG5vZGUuY3JlYXRlKCdzcGFuJywgJy5pbmZvJylcbiAgICAgIHRoaXMubm9kZS5pbnNlcnRCZWZvcmUodGhpcy5pbmZvTm9kZSwgdGhpcy5maXJzdENoaWxkKVxuICAgIH1cblxuICAgIHRoaXMubm9kZS5vbnN1Ym1pdCA9ICgpID0+IHRoaXMuc3VibWl0KHRoaXMpXG4gIH1cblxuICBhZGRWYWxpZGF0b3IgKHRodW5rKSB7XG4gICAgdGhpcy52YWxpZGF0b3JzLnB1c2godGh1bmspXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlc2V0ICgpIHtcbiAgICB0aGlzLm5vZGUucmVzZXQoKVxuICAgIHRoaXMuc2V0RXJyb3IoJycpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBzdWJtaXQgKCkge1xuICAgIHZhbGlkYXRlKHRoaXMpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwdXRJbmZvTm9kZSAoKSB7XG4gICAgbm9kZS5hcHBlbmQodGhpcy5ub2RlLCB0aGlzLmluZm9Ob2RlKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgYXN5bmMgc2V0SW5mbyAoaW5mbykge1xuICAgIHRoaXMuaW5mb05vZGUudGV4dENvbnRlbnQgPSBpbmZvXG4gICAgdGhpcy5pbmZvTm9kZS5jbGFzc05hbWUgPSAnaW5mbydcbiAgICBhd2FpdCB0aW1lb3V0KDMwKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgc2V0RXJyb3IgKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2UpIHRoaXMuaW5mb05vZGUudGV4dENvbnRlbnQgPSBlcnJvci5tZXNzYWdlXG4gICAgZWxzZSB0aGlzLmluZm9Ob2RlLnRleHRDb250ZW50ID0gZXJyb3JcbiAgICB0aGlzLmluZm9Ob2RlLmNsYXNzTmFtZSA9ICdlcnJvcidcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYWRkTm9kZSAobmFtZSwgZWxlbWVudCkge1xuICAgIG5vZGUuYXBwZW5kKHRoaXMubm9kZSwgZWxlbWVudClcbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKCF0aGlzLmZpcnN0SW5wdXQpIHRoaXMuZmlyc3RJbnB1dCA9IGVsZW1lbnRcbiAgICAgIHRoaXMuaW5wdXRzW25hbWVdID0gZWxlbWVudFxuICAgICAgZWxlbWVudC5uYW1lID0gbmFtZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGFkZFRpdGxlICh0ZXh0KSB7XG4gICAgdGhpcy5hZGROb2RlKCcnLCBub2RlLmNyZWF0ZSgnaDMnLCBmYWxzZSwgdGV4dCkpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBhZGRNZXNzYWdlIChtZXNzYWdlKSB7XG4gICAgdGhpcy5hZGROb2RlKCcnLCBub2RlLmNyZWF0ZSgnc3BhbicsIGZhbHNlLCBtZXNzYWdlKSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGFkZFNlcGFyYXRvciAoKSB7XG4gICAgbm9kZS5hcHBlbmQodGhpcy5ub2RlLCBub2RlLmNyZWF0ZSgnaHInKSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYWRkVGV4dEJveCAobmFtZSwgcGxhY2VIb2xkZXIpIHtcbiAgICBjb25zdCBib3ggPSBhZGRJbnB1dCh0aGlzLCBuYW1lLCAndGV4dCcpXG4gICAgaWYgKHBsYWNlSG9sZGVyKSBib3gucGxhY2Vob2xkZXIgPSBwbGFjZUhvbGRlclxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgYWRkUGFzc3dvcmRCb3ggKG5hbWUsIHBsYWNlaG9sZGVyID0gJ0F1dGhlbnRpY2F0b3IgcGFzc3dvcmQnKSB7XG4gICAgY29uc3QgYm94ID0gYWRkSW5wdXQodGhpcywgbmFtZSwgJ3Bhc3N3b3JkJylcbiAgICBib3gucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlclxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgYWRkQXV0b2ZpbGxQYXNzd29yZEJveCAodXNlcm5hbWUsIHBsYWNlaG9sZGVyID0gJ0F1dGhlbnRpY2F0b3IgcGFzc3dvcmQnKSB7XG4gICAgY29uc3QgdXNlcm5hbWVOb2RlID0gbm9kZS5jcmVhdGUoJ2lucHV0Jywge1xuICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICBuYW1lOiAndXNlcm5hbWUnLFxuICAgICAgdmFsdWU6IHVzZXJuYW1lXG4gICAgfSlcbiAgICB0aGlzLmFkZE5vZGUoJycsIHVzZXJuYW1lTm9kZSkuYWRkUGFzc3dvcmRCb3goJ3Bhc3N3b3JkJywgcGxhY2Vob2xkZXIpXG4gICAgbm9kZS5oaWRlKHVzZXJuYW1lTm9kZSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGFkZENoZWNrQm94IChuYW1lLCB0ZXh0LCBpbml0aWFsU3RhdGUpIHtcbiAgICBjb25zdCBjaGVja0JveCA9IGFkZElucHV0KHRoaXMsIG5hbWUsICdjaGVja2JveCcpXG4gICAgY2hlY2tCb3guY2hlY2tlZCA9IGluaXRpYWxTdGF0ZVxuICAgIGNoZWNrQm94LnJlcXVpcmVkID0gZmFsc2VcbiAgICBjaGVja0JveC5pZCA9ICdmb3JtLWNoZWNrYm94LScgKyBuYW1lICsgTWF0aC5yYW5kb20oKVxuICAgIHRoaXMuYWRkTm9kZSgnJywgbm9kZS5jcmVhdGUoJ2xhYmVsJywgeyBodG1sRm9yOiBjaGVja0JveC5pZCB9LCB0ZXh0KSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGFkZEJ1dHRvbiAobmFtZSwgdGV4dCwgY29udGludWF0aW9uKSB7XG4gICAgY29uc3QgYnV0dG9uID0gYWRkSW5wdXQodGhpcywgbmFtZSwgJ2J1dHRvbicpXG4gICAgYnV0dG9uLnZhbHVlID0gdGV4dFxuICAgIGJ1dHRvbi5vbmNsaWNrID0gY29udGludWF0aW9uXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBhZGRGaWxlU2VsZWN0b3IgKG5hbWUsIHRleHQpIHtcbiAgICBjb25zdCBidXR0b24gPSBhZGRJbnB1dCh0aGlzLCAnJywgJ2J1dHRvbicpXG4gICAgY29uc3QgZmlsZSA9IGFkZElucHV0KHRoaXMsIG5hbWUsICdmaWxlJylcbiAgICBjb25zdCBtZXNzYWdlID0gbm9kZS5jcmVhdGUoJ3NwYW4nLCBudWxsLCAnTm8gZmlsZSBzZWxlY3RlZCcpXG4gICAgdGhpcy5hZGRNZXNzYWdlKG1lc3NhZ2UpXG4gICAgbm9kZS5oaWRlKGZpbGUpXG4gICAgYnV0dG9uLnZhbHVlID0gdGV4dFxuICAgIGJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gZmlsZS5jbGljaygpXG4gICAgYnV0dG9uLnN0eWxlLmZsb2F0ID0gJ2xlZnQnXG4gICAgZmlsZS5vbmNoYW5nZSA9ICgpID0+IHsgbWVzc2FnZS50ZXh0Q29udGVudCA9IGZpbGUudmFsdWUucmVwbGFjZSgvXi4qXFxcXC8sICcnKSB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBhZGRUZXh0QXJlYSAobmFtZSwgcGxhY2VIb2xkZXIsIHJvd3MpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0geyBwbGFjZWhvbGRlcjogcGxhY2VIb2xkZXIsIHJvd3M6IHJvd3MgfVxuICAgIHRoaXMuYWRkTm9kZShuYW1lLCBub2RlLmNyZWF0ZSgndGV4dGFyZWEnLCBwYXJhbWV0ZXJzKSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGFkZFN1Ym1pdCAodGV4dCkge1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB7IHR5cGU6ICdzdWJtaXQnLCB0ZXh0Q29udGVudDogdGV4dCB8fCAn4pyUwqBDb25maXJtJyB9XG4gICAgdGhpcy5hZGROb2RlKCdzdWJtaXQnLCBub2RlLmNyZWF0ZSgnYnV0dG9uJywgcGFyYW1ldGVycykpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIG9wdGlvbmFsIChuYW1lQXJyYXkpIHtcbiAgICBuYW1lQXJyYXkuZm9yRWFjaChuYW1lID0+IHsgdGhpcy5pbnB1dHNbbmFtZV0ucmVxdWlyZWQgPSBmYWxzZSB9KVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgc2VsZWN0ICgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5maXJzdElucHV0XG4gICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQuZm9jdXMoKVxuICAgIGlmIChlbGVtZW50Lm5hbWUgPT09ICdwYXNzd29yZCcpIHtcbiAgICAgIHRpbWVvdXQoMzApLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gZWxlbWVudC5uZXh0U2libGluZ1xuICAgICAgICAgIGlmIChuZXh0Lm5hbWUgJiYgbmV4dC5uYW1lICE9PSAnY2FuY2VsJykgbmV4dC5mb2N1cygpXG4gICAgICAgICAgZWxzZSBpZiAodGhpcy5pbnB1dHMuc3VibWl0KSB0aGlzLmlucHV0cy5zdWJtaXQuZm9jdXMoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlIChmb3JtKSB7XG4gIGxldCBhbmltXG4gIGlmIChmb3JtLmlucHV0cy5zdWJtaXQpIHtcbiAgICBhbmltID0gbm9kZS5jcmVhdGUoJ3NwYW4nLCAnLkNMX2xvYWRpbmdBbmltJylcbiAgICBhbmltLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICAgIG5vZGUuYXBwZW5kKGZvcm0uaW5wdXRzLnN1Ym1pdCwgYW5pbSlcbiAgfVxuXG4gIGxldCBhbnN3ZXJcbiAgZm9yIChsZXQgaW5kZXggaW4gZm9ybS52YWxpZGF0b3JzKSB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gZm9ybS52YWxpZGF0b3JzW2luZGV4XVxuICAgIHRyeSB7XG4gICAgICBhbnN3ZXIgPSBhd2FpdCB2YWxpZGF0b3IoYW5zd2VyKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgIGZvcm0uc2V0RXJyb3IoZXJyb3IpXG4gICAgICBpZiAoYW5pbSkgbm9kZS5kZXN0cm95KGFuaW0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICBpZiAoZm9ybS5vbkV4aXQpIGZvcm0ub25FeGl0KClcbiAgaWYgKGFuaW0pIG5vZGUuZGVzdHJveShhbmltKVxufVxuXG5mdW5jdGlvbiBhZGRJbnB1dCAoZm9ybSwgbmFtZSwgdHlwZSkge1xuICBjb25zdCBpbnB1dCA9IG5vZGUuY3JlYXRlKCdpbnB1dCcsIHsgdHlwZTogdHlwZSwgcmVxdWlyZWQ6IHRydWUgfSlcbiAgZm9ybS5hZGROb2RlKG5hbWUsIGlucHV0KVxuICByZXR1cm4gaW5wdXRcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFpS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFWQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBWUE7QUFaQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQWhCQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQXZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7Ozs7O0FBaktBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/form.js\n");

/***/ }),

/***/ "./src/helpers.js":
/*!************************!*\
  !*** ./src/helpers.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.copyContent = undefined;\n\nvar _regenerator = __webpack_require__(/*! babel-runtime/regenerator */ \"./node_modules/babel-runtime/regenerator/index.js\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar copyContent = exports.copyContent = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(element) {\n    var prevNode, copiedNode;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (node.copyContent(element) && document.activeElement.value) {\n              prevNode = node.grab('#copied');\n\n              if (prevNode) node.destroy(prevNode);\n              copiedNode = node.create('span', '#copied', 'Copied');\n\n              element.parentNode.insertBefore(copiedNode, element.nextSibling);\n              setTimeout(function () {\n                copiedNode.hidden = true;\n              }, 3000);\n            }\n\n          case 1:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function copyContent(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.download = download;\nexports.readFile = readFile;\n\nvar _node = __webpack_require__(/*! ./cosmic-lib/node.js */ \"./src/cosmic-lib/node.js\");\n\nvar node = _interopRequireWildcard(_node);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction download(filename, data) {\n  var a = node.create('a', {\n    href: 'data:text/plain;charset=utf-8,' + encodeURIComponent(data),\n    download: filename\n  });\n  node.append(document.body, a);\n  a.click();\n  node.destroy(a);\n}\n\nfunction readFile(file) {\n  var fileReader = new FileReader();\n  fileReader.readAsText(file);\n\n  var promise = new Promise(function (resolve) {\n    fileReader.onload = function (event) {\n      return resolve(event.target.result);\n    };\n  });\n\n  return promise;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaGVscGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL2hlbHBlcnMuanM/NWM3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBub2RlIGZyb20gJy4vY29zbWljLWxpYi9ub2RlLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWQgKGZpbGVuYW1lLCBkYXRhKSB7XG4gIGNvbnN0IGEgPSBub2RlLmNyZWF0ZSgnYScsIHtcbiAgICBocmVmOiAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSxcbiAgICBkb3dubG9hZDogZmlsZW5hbWVcbiAgfSlcbiAgbm9kZS5hcHBlbmQoZG9jdW1lbnQuYm9keSwgYSlcbiAgYS5jbGljaygpXG4gIG5vZGUuZGVzdHJveShhKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGUgKGZpbGUpIHtcbiAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGZpbGUpXG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZXZlbnQgPT4gcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KVxuICB9KVxuXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3B5Q29udGVudCAoZWxlbWVudCkge1xuICBpZiAobm9kZS5jb3B5Q29udGVudChlbGVtZW50KSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnZhbHVlKSB7XG4gICAgY29uc3QgcHJldk5vZGUgPSBub2RlLmdyYWIoJyNjb3BpZWQnKVxuICAgIGlmIChwcmV2Tm9kZSkgbm9kZS5kZXN0cm95KHByZXZOb2RlKVxuICAgIGNvbnN0IGNvcGllZE5vZGUgPSBub2RlLmNyZWF0ZSgnc3BhbicsICcjY29waWVkJywgJ0NvcGllZCcpXG4gICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjb3BpZWROb2RlLCBlbGVtZW50Lm5leHRTaWJsaW5nKVxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb3BpZWROb2RlLmhpZGRlbiA9IHRydWUgfSwgMzAwMClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUF1QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBOzs7OztBQXJCQTtBQVVBO0FBQ0E7QUFiQTtBQUNBO0FBREE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/helpers.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _UI = __webpack_require__(/*! ./UI */ \"./src/UI.js\");\n\nvar UI = _interopRequireWildcard(_UI);\n\nvar _helpers = __webpack_require__(/*! ./helpers */ \"./src/helpers.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nmodule.exports = UI;\nmodule.exports.copyContent = _helpers.copyContent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9pbmRleC5qcz8xMmQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFVJIGZyb20gJy4vVUknXG5pbXBvcnQge2NvcHlDb250ZW50fSBmcm9tICcuL2hlbHBlcnMnXG5cbm1vZHVsZS5leHBvcnRzID0gVUlcbm1vZHVsZS5leHBvcnRzLmNvcHlDb250ZW50ID0gY29weUNvbnRlbnRcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/notifications.js":
/*!******************************!*\
  !*** ./src/notifications.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Notification = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _node = __webpack_require__(/*! ./cosmic-lib/node */ \"./src/cosmic-lib/node.js\");\n\nvar node = _interopRequireWildcard(_node);\n\nvar _helpers = __webpack_require__(/*! ./cosmic-lib/helpers */ \"./src/cosmic-lib/helpers.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar notificationsNode = node.grab('#notifications');\n\nvar Notification = exports.Notification = function () {\n  function Notification(type, title, message, delay) {\n    var _this = this;\n\n    _classCallCheck(this, Notification);\n\n    this.node = node.create('div', '.' + type);\n    if (type === 'loading') {\n      node.append(this.node, node.create('span', '.CL_loadingAnim'));\n    }\n    node.append(this.node, node.create('h3', null, title));\n    node.append(notificationsNode, this.node);\n\n    if (message) node.append(this.node, message);\n    if (delay) (0, _helpers.timeout)(delay).then(function () {\n      return _this.destroy();\n    });\n  }\n\n  _createClass(Notification, [{\n    key: 'show',\n    value: function show() {\n      this.hidden = false;\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.hidden = true;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      node.destroy(this.node);\n    }\n  }]);\n\n  return Notification;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbm90aWZpY2F0aW9ucy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3Ivc3JjL25vdGlmaWNhdGlvbnMuanM/OTU3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBub2RlIGZyb20gJy4vY29zbWljLWxpYi9ub2RlJ1xuaW1wb3J0IHt0aW1lb3V0fSBmcm9tICcuL2Nvc21pYy1saWIvaGVscGVycydcblxuY29uc3Qgbm90aWZpY2F0aW9uc05vZGUgPSBub2RlLmdyYWIoJyNub3RpZmljYXRpb25zJylcblxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbiB7XG4gIGNvbnN0cnVjdG9yICh0eXBlLCB0aXRsZSwgbWVzc2FnZSwgZGVsYXkpIHtcbiAgICB0aGlzLm5vZGUgPSBub2RlLmNyZWF0ZSgnZGl2JywgJy4nICsgdHlwZSlcbiAgICBpZiAodHlwZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICBub2RlLmFwcGVuZCh0aGlzLm5vZGUsIG5vZGUuY3JlYXRlKCdzcGFuJywgJy5DTF9sb2FkaW5nQW5pbScpKVxuICAgIH1cbiAgICBub2RlLmFwcGVuZCh0aGlzLm5vZGUsIG5vZGUuY3JlYXRlKCdoMycsIG51bGwsIHRpdGxlKSlcbiAgICBub2RlLmFwcGVuZChub3RpZmljYXRpb25zTm9kZSwgdGhpcy5ub2RlKVxuXG4gICAgaWYgKG1lc3NhZ2UpIG5vZGUuYXBwZW5kKHRoaXMubm9kZSwgbWVzc2FnZSlcbiAgICBpZiAoZGVsYXkpIHRpbWVvdXQoZGVsYXkpLnRoZW4oKCkgPT4gdGhpcy5kZXN0cm95KCkpXG4gIH1cblxuICBzaG93ICgpIHsgdGhpcy5oaWRkZW4gPSBmYWxzZSB9XG4gIGhpZGUgKCkgeyB0aGlzLmhpZGRlbiA9IHRydWUgfVxuICBkZXN0cm95ICgpIHsgbm9kZS5kZXN0cm95KHRoaXMubm9kZSkgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7O0FBQ0E7QUFBQTtBQUFBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/notifications.js\n");

/***/ }),

/***/ "./src/popup.js":
/*!**********************!*\
  !*** ./src/popup.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Popup = undefined;\nexports.passwordPopup = passwordPopup;\n\nvar _form = __webpack_require__(/*! ./form */ \"./src/form.js\");\n\nvar _node = __webpack_require__(/*! ./cosmic-lib/node */ \"./src/cosmic-lib/node.js\");\n\nvar node = _interopRequireWildcard(_node);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar bodyNode = node.grab('body');\nvar mainNode = node.grab('main');\nvar headerNode = node.grab('header');\n\nvar shadowNode = node.create('div', '#shadow');\nbodyNode.insertBefore(shadowNode, bodyNode.firstChild);\n\nfunction passwordPopup(username) {\n  var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Please confirm this operation';\n\n  var popup = new Popup(message);\n  popup.putInfoNode().addPasswordConfirmation(username).addValidator(function () {\n    return popup.inputs.password.value;\n  });\n  return popup;\n}\n\nvar Popup = exports.Popup = function Popup(title, noShadow) {\n  _classCallCheck(this, Popup);\n\n  return createPopup(title, noShadow);\n};\n\nfunction createPopup(content, noShadow) {\n  var popup = new _form.Form();\n  popup.window = node.create('div', '.popup', popup.node);\n  popup.addNode('', content).addSeparator().putInfoNode();\n  node.append(bodyNode, popup.window);\n\n  if (!noShadow) popup.shadow = true;\n\n  popup.addCloseButton = function () {\n    addCloseButton(popup);return popup;\n  };\n  popup.addCancelConfirmButtons = function () {\n    addCancelConfirmButtons(popup);return popup;\n  };\n  popup.addPasswordConfirmation = function (username) {\n    popup.addAutofillPasswordBox(username).addCancelConfirmButtons();\n    return popup;\n  };\n\n  popup.show = function (noShadow) {\n    showPopup(popup, noShadow);return popup;\n  };\n  popup.hide = function () {\n    hidePopup(popup);return popup;\n  };\n  popup.destroy = function () {\n    destroyPopup(popup);\n  };\n  popup.onExit = popup.destroy;\n\n  popup.show(noShadow);\n  return popup;\n}\n\nfunction showPopup(popup, noShadow) {\n  node.show(popup.window);\n  if (popup.shadow) {\n    shadowNode.style.display = 'block';\n    shadowNode.onclick = function () {\n      return popup.onExit();\n    };\n    node.appendClass(headerNode, 'blur');\n    node.appendClass(mainNode, 'blur');\n    bodyNode.style.overflow = 'hidden';\n  }\n  node.append(bodyNode, popup.window);\n}\n\nfunction hidePopup(popup) {\n  popup.onExit = function () {\n    popup.hide();popup.reset();\n  };\n  if (popup.window.parentNode === bodyNode) bodyNode.removeChild(popup.window);\n  bodyNode.style.overflow = 'auto';\n  if (popup.shadow) {\n    node.hide(shadowNode);\n    headerNode.classList.remove('blur');\n    mainNode.classList.remove('blur');\n  }\n}\n\nfunction destroyPopup(popup) {\n  hidePopup(popup);\n  node.destroy(popup.window);\n}\n\nfunction addCloseButton(popup) {\n  popup.addSubmit('close');\n  popup.inputs.submit.focus();\n}\n\nfunction addCancelConfirmButtons(popup) {\n  popup.addButton('cancel', ' Cancel', popup.onExit).addSubmit().select();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9wdXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL3NyYy9wb3B1cC5qcz84ZTRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Rm9ybX0gZnJvbSAnLi9mb3JtJ1xuaW1wb3J0ICogYXMgbm9kZSBmcm9tICcuL2Nvc21pYy1saWIvbm9kZSdcblxuY29uc3QgYm9keU5vZGUgPSBub2RlLmdyYWIoJ2JvZHknKVxuY29uc3QgbWFpbk5vZGUgPSBub2RlLmdyYWIoJ21haW4nKVxuY29uc3QgaGVhZGVyTm9kZSA9IG5vZGUuZ3JhYignaGVhZGVyJylcblxuY29uc3Qgc2hhZG93Tm9kZSA9IG5vZGUuY3JlYXRlKCdkaXYnLCAnI3NoYWRvdycpXG5ib2R5Tm9kZS5pbnNlcnRCZWZvcmUoc2hhZG93Tm9kZSwgYm9keU5vZGUuZmlyc3RDaGlsZClcblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkUG9wdXAgKHVzZXJuYW1lLCBtZXNzYWdlID0gJ1BsZWFzZSBjb25maXJtIHRoaXMgb3BlcmF0aW9uJykge1xuICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cChtZXNzYWdlKVxuICBwb3B1cC5wdXRJbmZvTm9kZSgpXG4gICAgLmFkZFBhc3N3b3JkQ29uZmlybWF0aW9uKHVzZXJuYW1lKVxuICAgIC5hZGRWYWxpZGF0b3IoKCkgPT4gcG9wdXAuaW5wdXRzLnBhc3N3b3JkLnZhbHVlKVxuICByZXR1cm4gcG9wdXBcbn1cblxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKHRpdGxlLCBub1NoYWRvdykgeyByZXR1cm4gY3JlYXRlUG9wdXAodGl0bGUsIG5vU2hhZG93KSB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcHVwIChjb250ZW50LCBub1NoYWRvdykge1xuICBjb25zdCBwb3B1cCA9IG5ldyBGb3JtKClcbiAgcG9wdXAud2luZG93ID0gbm9kZS5jcmVhdGUoJ2RpdicsICcucG9wdXAnLCBwb3B1cC5ub2RlKVxuICBwb3B1cC5hZGROb2RlKCcnLCBjb250ZW50KS5hZGRTZXBhcmF0b3IoKS5wdXRJbmZvTm9kZSgpXG4gIG5vZGUuYXBwZW5kKGJvZHlOb2RlLCBwb3B1cC53aW5kb3cpXG5cbiAgaWYgKCFub1NoYWRvdykgcG9wdXAuc2hhZG93ID0gdHJ1ZVxuXG4gIHBvcHVwLmFkZENsb3NlQnV0dG9uID0gZnVuY3Rpb24gKCkgeyBhZGRDbG9zZUJ1dHRvbihwb3B1cCk7IHJldHVybiBwb3B1cCB9XG4gIHBvcHVwLmFkZENhbmNlbENvbmZpcm1CdXR0b25zID0gZnVuY3Rpb24gKCkgeyBhZGRDYW5jZWxDb25maXJtQnV0dG9ucyhwb3B1cCk7IHJldHVybiBwb3B1cCB9XG4gIHBvcHVwLmFkZFBhc3N3b3JkQ29uZmlybWF0aW9uID0gZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gICAgcG9wdXAuYWRkQXV0b2ZpbGxQYXNzd29yZEJveCh1c2VybmFtZSkuYWRkQ2FuY2VsQ29uZmlybUJ1dHRvbnMoKVxuICAgIHJldHVybiBwb3B1cFxuICB9XG5cbiAgcG9wdXAuc2hvdyA9IGZ1bmN0aW9uIChub1NoYWRvdykgeyBzaG93UG9wdXAocG9wdXAsIG5vU2hhZG93KTsgcmV0dXJuIHBvcHVwIH1cbiAgcG9wdXAuaGlkZSA9IGZ1bmN0aW9uICgpIHsgaGlkZVBvcHVwKHBvcHVwKTsgcmV0dXJuIHBvcHVwIH1cbiAgcG9wdXAuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgZGVzdHJveVBvcHVwKHBvcHVwKSB9XG4gIHBvcHVwLm9uRXhpdCA9IHBvcHVwLmRlc3Ryb3lcblxuICBwb3B1cC5zaG93KG5vU2hhZG93KVxuICByZXR1cm4gcG9wdXBcbn1cblxuZnVuY3Rpb24gc2hvd1BvcHVwIChwb3B1cCwgbm9TaGFkb3cpIHtcbiAgbm9kZS5zaG93KHBvcHVwLndpbmRvdylcbiAgaWYgKHBvcHVwLnNoYWRvdykge1xuICAgIHNoYWRvd05vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICBzaGFkb3dOb2RlLm9uY2xpY2sgPSAoKSA9PiBwb3B1cC5vbkV4aXQoKVxuICAgIG5vZGUuYXBwZW5kQ2xhc3MoaGVhZGVyTm9kZSwgJ2JsdXInKVxuICAgIG5vZGUuYXBwZW5kQ2xhc3MobWFpbk5vZGUsICdibHVyJylcbiAgICBib2R5Tm9kZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG4gIH1cbiAgbm9kZS5hcHBlbmQoYm9keU5vZGUsIHBvcHVwLndpbmRvdylcbn1cblxuZnVuY3Rpb24gaGlkZVBvcHVwIChwb3B1cCkge1xuICBwb3B1cC5vbkV4aXQgPSBmdW5jdGlvbiAoKSB7IHBvcHVwLmhpZGUoKTsgcG9wdXAucmVzZXQoKSB9XG4gIGlmIChwb3B1cC53aW5kb3cucGFyZW50Tm9kZSA9PT0gYm9keU5vZGUpIGJvZHlOb2RlLnJlbW92ZUNoaWxkKHBvcHVwLndpbmRvdylcbiAgYm9keU5vZGUuc3R5bGUub3ZlcmZsb3cgPSAnYXV0bydcbiAgaWYgKHBvcHVwLnNoYWRvdykge1xuICAgIG5vZGUuaGlkZShzaGFkb3dOb2RlKVxuICAgIGhlYWRlck5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYmx1cicpXG4gICAgbWFpbk5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYmx1cicpXG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzdHJveVBvcHVwIChwb3B1cCkge1xuICBoaWRlUG9wdXAocG9wdXApXG4gIG5vZGUuZGVzdHJveShwb3B1cC53aW5kb3cpXG59XG5cbmZ1bmN0aW9uIGFkZENsb3NlQnV0dG9uIChwb3B1cCkge1xuICBwb3B1cC5hZGRTdWJtaXQoJ2Nsb3NlJylcbiAgcG9wdXAuaW5wdXRzLnN1Ym1pdC5mb2N1cygpXG59XG5cbmZ1bmN0aW9uIGFkZENhbmNlbENvbmZpcm1CdXR0b25zIChwb3B1cCkge1xuICBwb3B1cC5hZGRCdXR0b24oJ2NhbmNlbCcsICfinJggQ2FuY2VsJywgcG9wdXAub25FeGl0KVxuICAgIC5hZGRTdWJtaXQoKS5zZWxlY3QoKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFVQTtBQUNBO0FBWEE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/popup.js\n");

/***/ }),

/***/ 0:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhlbnRpY2F0b3IvY3J5cHRvIChpZ25vcmVkKT8wOTIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),

/***/ "stellar-sdk":
/*!*****************************!*\
  !*** external "StellarSdk" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = StellarSdk;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RlbGxhci1zZGsuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoZW50aWNhdG9yL2V4dGVybmFsIFwiU3RlbGxhclNka1wiPzQzMzciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBTdGVsbGFyU2RrOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///stellar-sdk\n");

/***/ })

/******/ });